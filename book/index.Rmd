--- 
title: "Tools for Analytics (TFA)"
subtitle: "Course notes R part"
author: 
- Lars Relund Nielsen
knit: "bookdown::render_book"
site: bookdown::bookdown_site
url: 'https\://tools4analytics.github.io/course/'
github-repo: Tools4Analytics/course/tree/master/book
cover-image: assets/logo.png
documentclass: book
bibliography: [book.bib, packages.bib]
biblio-style: apalike
link-citations: yes
description: "Course notes for the 'Tools for Analytics' course (R part)"
favicon: assets/favicon.ico
date: "`r Sys.Date()`"
editor_options: 
  chunk_output_type: console
---


# Introduction

```{r, code = readLines("common.R"), cache = FALSE, include=FALSE}
```

```{r include = FALSE, cache=FALSE}
library(tidyverse)
library(devtools)
library(DT)
library(htmltools)
library(rmarkdown)
library(bsplus)
#tagList(html_dependency_font_awesome())
```

```{r links, child="links.md"}
```






<!-- R links: -->

<!-- https://learn.datacamp.com/courses/introduction-to-data-in-r -->

This site/book contains course notes for the R part of the course "Tools for Analytics" held at [BSS]. The notes organize what we will be doing in each week. The course is an introductory course at the [Operations and Supply Chain Analytics programme][osca-programme] and intended to give knowledge about IT tools for Analytics. 

Since the amount of available data has increased extensively in many companies, there is a need for analysts with the ability to do tasks within Analytics. For instance, extract relevant data and perform valid quantitative analysis. Clearly, it is also important that the analyst can communicate the results of the analysis to their surroundings. This requires for the analyst to be particularly qualified in handling IT based tools beyond e.g. basic Excel. 
<!-- The use of programming is the basis for performing a variety of analytical tasks including impact studies, risk analysis, and design of reports. -->

Business Analytics (BA) (or just Analytics) refers to the scientific process of transforming data into insight for making better decisions in business. BA can both be seen as the complete decision making process for solving a business problem and the creation of business value by integration of concepts, methods and data. As a process, it can be characterized by descriptive, predictive, and prescriptive model building using data sources. For a full definition see the [appendix](#sec:ba).

Within a Business Analytics (BA) framework the course focus on giving you an introduction to programming, handeling data and doing descriptive analytics. Descriptive analytics categorizes, characterizes, consolidates, and classifies data. Examples are standard reporting and dashboards (key performance indicators (KPIs), what happened or is happening now?) and ad-hoc reporting (how many/often?). Descriptive analytics often serves as a first step in the successful application of predictive or prescriptive analytics. Predictive and prescriptive analytics are covered in other courses of the [programme][osca-programme].

Analytics may be seen as a data driven process:

```{r process, echo = FALSE, fig.cap="Analytics as a data driven process."}
knitr::include_graphics("img/process.png")
```

<!-- Tidying your data also including cleaning your data.  -->

For doing data driven analytics you first must __import__ your data. That is, take data from a database, file, web API etc. and transform it into a data frame/table. In general raw data may be messy and need to be structured in a __tidy__ way. Tidying your data means storing it in a structured form sutaiable for analysis. In brief, when your data is __tidy__, each column is a variable, and each row is an observation. Tidy data is important because the consistent structure lets you focus your struggle on questions about the data. 
Once you have tidy data, a common first step is to __transform__ it. Transformation includes narrowing in on observations of interest (e.g. only observations from a specific year or warehouse), creating new variables based on existing variables (like the cost of using the machine that day given idle time). Together, tidying and transforming are called __wrangling__, because 
it can be a hard process to get your data in the right form.

The next step is to do a simple __exploration__ of you data such as calculating a set of summary statistics (like counts, means or KPIs). A good way to get an overview over your data is by __visualisation__. A good visualisation will show you things that you did not expect, raise new questions about the data or confirm your hypotesis. A good visualisation might also hint that you're asking the wrong question, or you need to collect different data. Exploration and visusalization are descriptive analytics and used to answer questions such as: What happend? How many, how often, where? Where exactly is the problem? What actions are needed?
__Models__ are complementary tools to visualisation. Once you have made your questions sufficiently precise, you can use a model to answer them. A model is a description of a system using mathematical concepts and a simplification of the real system. That is, the results of a model are based on a set of assumptions. Models for statistical analysis, forecasting, system behaivior are predictive analytics and answer questions like: Why is this happening? What if these trends continue? What will happen next? Models for prescriptive analytics use optimization and other decision modelling techniques to suggest decision options with the goal of improving business performance and answer questions like: What is the best that can happen?

Exploration, visualizaton and modeling may be seen as different steps which can be used for __analyzing__ the data and answer the overall questions. This part of the course will focus on the different steps except modeling. 

Given an analysis, __communication__ is an absolutely critical part. It doesn't matter how well your models and visualization have led you to understand the data unless you can also communicate your results to decision makers. 

Note that analytics is not a one-way process, is is common that you several times have to tidy and transform your data, explore and visualize based on the results of a model, rerun the model given feedback on you communication to the decision makers etc. Common connections are visualized using directed arrows in Figure \@ref(fig:process). 

Surrounding the process is __programming__. Programming is the Swiss army knife you use during parts of the process. An introduction to programming is given in the first part of the course using VBA in Excel. We will cover programming using R in this part of the course.


## How this book is organised

[Færdiggøres]

The book consists of different parts each containing teaching modules about a specific topic:

   * [Part I](#sec:start) focus on signing up for the different online resources the course will use, installing the needed programs on your computer and giving you a short introduction to R.
   * In Part ?? the focus is on import/export, tidy and transformation of data.
   * Part ??? consider visualization. 
   
In all parts communication are considered ...






You can expect it to be updated when the course runs. The date listed above is the last time this guide was updated.

The R part of the course covers learning goals:

* explore, groom, visualize, and analyze data,
* make all of that reproducible, reusable, and shareable,
* using R.









<!-- ## Prerequisites -->

<!-- We've made a few assumptions about what you already know in order to get the most out of this book. You should be generally numerically literate, and it's helpful if you have some programming experience already. If you've never programmed before, you might find [Hands on Programming with R](http://amzn.com/1449359019) by Garrett to be a useful adjunct to this book. -->

<!-- There are four things you need to run the code in this book: R, RStudio, a collection of R packages called the __tidyverse__, and a handful of other packages. Packages are the fundamental units of reproducible R code. They include reusable functions, the documentation that describes how to use them, and sample data.  -->

<!-- ### R  -->

<!-- To download R, go to CRAN, the **c**omprehensive **R** **a**rchive **n**etwork. CRAN is composed of a set of mirror servers distributed around the world and is used to distribute R and R packages. Don't try and pick a mirror that's close to you: instead use the cloud mirror, <https://cloud.r-project.org>, which automatically figures it out for you. -->

<!-- A new major version of R comes out once a year, and there are 2-3 minor releases each year. It's a good idea to update regularly. Upgrading can be a bit of a hassle, especially for major versions, which require you to reinstall all your packages, but putting it off only makes it worse. -->

<!-- ### RStudio -->

<!-- RStudio is an integrated development environment, or IDE, for R programming. Download and install it from <http://www.rstudio.com/download>. RStudio is updated a couple of times a year. When a new version is available, RStudio will let you know. It's a good idea to upgrade regularly so you can take advantage of the latest and greatest features. For this book, make sure you have at least RStudio 1.0.0. -->

<!-- When you start RStudio, you'll see two key regions in the interface: -->

<!-- ```{r echo = FALSE, out.width = "75%"} -->
<!-- #knitr::include_graphics("diagrams/rstudio-console.png") -->
<!-- ``` -->

<!-- For now, all you need to know is that you type R code in the console pane, and press enter to run it. You'll learn more as we go along! -->

<!-- ### The tidyverse -->

<!-- You'll also need to install some R packages. An R __package__ is a collection of functions, data, and documentation that extends the capabilities of base R. Using packages is key to the successful use of R. The majority of the packages that you will learn in this book are part of the so-called tidyverse. The packages in the tidyverse share a common philosophy of data and R programming, and are designed to work together naturally.  -->

<!-- You can install the complete tidyverse with a single line of code: -->

<!-- ```{r, eval = FALSE} -->
<!-- install.packages("tidyverse") -->
<!-- ``` -->

<!-- On your own computer, type that line of code in the console, and then press enter to run it. R will download the packages from CRAN and install them on to your computer. If you have problems installing, make sure that you are connected to the internet, and that <https://cloud.r-project.org/> isn't blocked by your firewall or proxy.  -->

<!-- You will not be able to use the functions, objects, and help files in a package until you load it with `library()`. Once you have installed a package, you can load it with the `library()` function: -->

<!-- ```{r} -->
<!-- library(tidyverse) -->
<!-- ``` -->

<!-- This tells you that tidyverse is loading the ggplot2, tibble, tidyr, readr, purrr, and dplyr packages. These are considered to be the __core__ of the tidyverse because you'll use them in almost every analysis.  -->

<!-- Packages in the tidyverse change fairly frequently. You can see if updates are available, and optionally install them, by running `tidyverse_update()`. -->

<!-- ### Other packages -->

<!-- There are many other excellent packages that are not part of the tidyverse, because they solve problems in a different domain, or are designed with a different set of underlying principles. This doesn't make them better or worse, just different. In other words, the complement to the tidyverse is not the messyverse, but many other universes of interrelated packages. As you tackle more data science projects with R, you'll learn new packages and new ways of thinking about data.  -->

<!-- In this book we'll use three data packages from outside the tidyverse: -->

<!-- ```{r, eval = FALSE} -->
<!-- install.packages(c("nycflights13", "gapminder", "Lahman")) -->
<!-- ``` -->

<!-- These packages provide data on airline flights, world development, and baseball that we'll use to illustrate key data science ideas. -->



<!-- There are two main differences. In your console, you type after the `>`, called the __prompt__; we don't show the prompt in the book. In the book, output is commented out with `#>`; in your console it appears directly after your code. These two differences mean that if you're working with an electronic version of the book, you can easily copy code out of the book and into the console. -->

<!-- Throughout the book we use a consistent set of conventions to refer to code: -->

<!-- * Functions are in a code font and followed by parentheses, like `sum()`,  -->
<!--   or `mean()`. -->

<!-- * Other R objects (like data or function arguments) are in a code font, -->
<!--   without parentheses, like `flights` or `x`. -->

<!-- * If we want to make it clear what package an object comes from, we'll use -->
<!--   the package name followed by two colons, like `dplyr::mutate()`, or    -->
<!--   `nycflights13::flights`. This is also valid R code. -->

<!-- ## Getting help and learning more -->

<!-- This book is not an island; there is no single resource that will allow you to master R. As you start to apply the techniques described in this book to your own data you will soon find questions that I do not answer. This section describes a few tips on how to get help, and to help you keep learning. -->

<!-- If you get stuck, start with Google. Typically adding "R" to a query is enough to restrict it to relevant results: if the search isn't useful, it often means that there aren't any R-specific results available. Google is particularly useful for error messages. If you get an error message and you have no idea what it means, try googling it! Chances are that someone else has been confused by it in the past, and there will be help somewhere on the web. (If the error message isn't in English, run `Sys.setenv(LANGUAGE = "en")` and re-run the code; you're more likely to find help for English error messages.) -->

<!-- If Google doesn't help, try [stackoverflow](http://stackoverflow.com). Start by spending a little time searching for an existing answer, including `[R]` to restrict your search to questions and answers that use R. If you don't find anything useful, prepare a minimal reproducible example or __reprex__.  A good reprex makes it easier for other people to help you, and often you'll figure out the problem yourself in the course of making it. -->

<!-- There are three things you need to include to make your example reproducible: required packages, data, and code. -->

<!-- 1.  **Packages** should be loaded at the top of the script, so it's easy to -->
<!--     see which ones the example needs. This is a good time to check that you're -->
<!--     using the latest version of each package; it's possible you've discovered -->
<!--     a bug that's been fixed since you installed the package. For packages -->
<!--     in the tidyverse, the easiest way to check is to run `tidyverse_update()`. -->

<!-- 1.  The easiest way to include **data** in a question is to use `dput()` to  -->
<!--     generate the R code to recreate it. For example, to recreate the `mtcars`  -->
<!--     dataset in R, I'd perform the following steps: -->

<!--     1. Run `dput(mtcars)` in R -->
<!--     2. Copy the output -->
<!--     3. In my reproducible script, type `mtcars <- ` then paste. -->

<!--     Try and find the smallest subset of your data that still reveals -->
<!--     the problem. -->

<!-- 1.  Spend a little bit of time ensuring that your **code** is easy for others to -->
<!--     read: -->

<!--     * Make sure you've used spaces and your variable names are concise, yet -->
<!--       informative. -->

<!--     * Use comments to indicate where your problem lies. -->

<!--     * Do your best to remove everything that is not related to the problem.   -->
<!--       The shorter your code is, the easier it is to understand, and the  -->
<!--       easier it is to fix. -->

<!-- Finish by checking that you have actually made a reproducible example by starting a fresh R session and copying and pasting your script in.  -->

<!-- You should also spend some time preparing yourself to solve problems before they occur. Investing a little time in learning R each day will pay off handsomely in the long run. One way is to follow what Hadley, Garrett, and everyone else at RStudio are doing on the [RStudio blog](https://blog.rstudio.org). This is where we post announcements about new packages, new IDE features, and in-person courses. You might also want to follow Hadley ([\@hadleywickham](https://twitter.com/hadleywickham)) or Garrett ([\@statgarrett](https://twitter.com/statgarrett)) on Twitter, or follow [\@rstudiotips](https://twitter.com/rstudiotips) to keep up with new features in the IDE. -->

<!-- To keep up with the R community more broadly, we recommend reading <http://www.r-bloggers.com>: it aggregates over 500 blogs about R from around the world. If you're an active Twitter user, follow the `#rstats` hashtag. Twitter is one of the key tools that Hadley uses to keep up with new developments in the community. -->


<!-- This book isn't just the product of Hadley and Garrett, but is the result of many conversations (in person and online) that we've had with the many people in the R community. There are a few people we'd like to thank in particular, because they have spent many hours answering our dumb questions and helping us to better think about data science: -->

<!-- * Jenny Bryan and Lionel Henry for many helpful discussions around working -->
<!--   with lists and list-columns. -->




<!-- * Yihui Xie for his work on the [bookdown](https://github.com/rstudio/bookdown)  -->
<!--   package, and for tirelessly responding to my feature requests. -->




<!-- An online version of this book is available at <http://r4ds.had.co.nz>. It will continue to evolve in between reprints of the physical book. The source of the book is available at <https://github.com/hadley/r4ds>. The book is powered by <https://bookdown.org> which makes it easy to turn R markdown files into HTML, PDF, and EPUB. -->

<!-- This book was built with: -->

<!-- ```{r} -->
<!-- sessioninfo::session_info(c("tidyverse")) -->
<!-- ``` -->






## Acknowledgements {#ack}

Some of the materials in this book are taken from various places

* The bookdown skeleton and some notes are based on the [Stat545][stat-545] course.
* Module \@ref(install) is inspired by [Chapter 1](https://stat545.com/block000_r-rstudio-install.html) in @stat545.
* Module \@ref(r-basics) is using some text and images from [Chapter 1](https://moderndive.netlify.app/1-getting-started.html) in @moderndrive and [Chapter 2](https://stat545.com/block002_hello-r-workspace-wd-project.html) in @stat545. A few exercises are inspired by [Chapter 2](https://rafalab.github.io/dsbook/r-basics.html) in @dsbook.
  
  <!-- * Notes about git and GitHub are based on [Happy Git and GitHub for the useR][happy-git] site. -->
  <!-- * Several Tools for Analytics TAs were instrumental in the development of these materials and members of the RStudio Education Team ported the [original website](https://github.com/STAT545-UBC/STAT545-UBC-original-website) into the modern and more maintainable framework we enjoy today -->
  
I would like to thank all for their inspiration. This work is licensed under the Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International [CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/).

