```{r include = FALSE, cache=FALSE}
source("common.R")
```

# (PART) IO, tidy and transform {-} 

# Introduction to tidyverse and R Markdown {#sec-tidy-intro}

## Learning outcomes

By the end of this module, you are expected to be able to:

* Describe what the tidyverse package is.
* Explain the ideas behind reproducible reports and literal programming. 
* 

<!-- SOLO increasing: identify · memorise · name · do simple procedure · collect data · -->
<!-- enumerate · describe · interpret · formulate · list · paraphrase · combine · do -->
<!-- algorithms · compare · contrast · explain causes · analyse · relate · derive · -->
<!-- evaluate · apply · argue · theorise · generalise · hypothesise · solve · reflect -->


## The tidyverse package

The [tidyverse][tidyverse-main-page] is an collection of R packages designed for data science. All packages share an underlying design philosophy, grammar, and data structures.

The [core tidyverse][tidyverse-core] includes the packages that you’re likely to use in everyday data analyses. In tidyverse 1.3.0, the following packages are included in the core tidyverse:

* [dplyr][tidyverse-dplyr] provides a grammar of data manipulation, providing a consistent set of verbs that solve the most common data manipulation challenges. We are going to use dplyr in Module \@ref(sec-transform).

* [ggplot2][tidyverse-ggplot2] is a system for declaratively creating graphics, based on The Grammar of Graphics. You provide the data, tell ggplot2 how to map variables to aesthetics, what graphical primitives to use, and it takes care of the details. We are going to use ggplot in Module \@ref(sec-plot).

* [tidyr][tidyverse-tidyr] provides a set of functions that help you get to tidy data. Tidy data is data with a consistent form: in brief, every variable goes in a column, and every column is a variable. 

* [readr][tidyverse-readr] provides a fast and friendly way to read rectangular data (like csv, tsv, and fwf). It is designed to flexibly parse many types of data found in the wild, while still cleanly failing when data unexpectedly changes.  We are going to use dplyr in Module \@ref(sec-io).

* [purrr][tidyverse-purrr] enhances R’s functional programming (FP) toolkit by providing a complete and consistent set of tools for working with functions and vectors. Once you master the basic concepts, purrr allows you to replace many for loops with code that is easier to write and more expressive. This package is not covered by this course.

* [tibble][tidyverse-tibble] is a modern re-imagining of the data frame, keeping what time has proven to be effective, and throwing out what it has not. Tibbles are data.frames that are lazy and surly: they do less and complain more forcing you to confront problems earlier, typically leading to cleaner, more expressive code. We are going to use tibbles in Module \@ref(sec-transform).

* [stringr][tidyverse-stringr] provides a cohesive set of functions designed to make working with strings as easy as possible. You have already worked a bit with stringr in Exercise \@ref(ex-strings)

* [forcats][tidyverse-forcats] provides a suite of useful tools that solve common problems with factors. R uses factors to handle categorical variables, variables that have a fixed and known set of possible values. This package is not covered by this course.

Small introductions (with examples) to the packages are given on their documentation pages (follow the links above). The tidyverse also includes many [other packages][tidyverse-packages] with more specialized usage. They are not loaded automatically with `library(tidyverse)`, so you’ll need to load each one with its own call to `library()`.


## Writing repoducible reports

R Markdown is ...

An introduction to RMarkdown is given in the [Datacamp] course [Reporting with R Markdown][datacamp-r-rmarkdown] (to much select chapters elsewhere). You are expected to have completed the course before continuing this module!

Or chapter 2+3 in [datacamp-r-communicating] 

## Different learning paths

`r strLPath`

* Suggestion 1 
* Suggestion 2

## Recap

[Summary of learning]

## Exercises


## Resources

[Links to further resources]






<!-- Usefull stuff: 

Icons:
`r addIcon("file-code", attrib = list(class = "fa-pull-right fa-5x iconStyle1"))`
`r addIcon("code", attrib = list(class = "fa-pull-right fa-5x iconStyle1"))`
`r addIcon("external-link-alt", attrib = list(class = "fa-pull-right fa-5x iconStyle1"))`



Task/checklist box:
<div class = "boxTask">
`r addIcon("tasks", attrib = list(class = "fa-pull-right fa-5x iconStyle1"))`

   * dasf
   * fsa
   * 324
</div>



Exercise box:
<div class = "boxExercise">
`r addIcon("laptop-code", attrib = list(class = "fa-pull-right fa-5x iconStyle1"))`  

**Exercise 1**
asdf asdlfkj sdfklj fsdjka æ

   1. sdf
   2. edasf

**Exercise 2**
asdfav sdaf sdhj sdjkahdf jkhasdkjæsdfh asjf

   1. sdf
   2. sdf
</div>



Numbered exercises with hints:
## Exercises

Exercises are numbered using [module number].[section number].[exercise number]. 

### Exercise (install packages)

This exercise is done from the Console in RStudio. 

   1) Install the package `devtools` using function `install.packages`. Note you can always get help/see documentation by typing `?install.packages` or typing `install.packages` and press F1. 
   
You now have install the package from the default repository ([CRAN][cran]). You may also install packages from other repositories (e.g. GitHub)
   
   1) Have a look at the documentation for function `install_github` in the package `devtools`. This can be done in different ways:
   
```r
library(devtools)    # we here load all the functions in devtools 
?install_github

?devtools::install_github     # we here use the namespace devtools to load only one function
```

   1) Install the package `tfa` from github using path ``

```{r}
# filter the flights table to include only United and
# American flights

```

```{r}
{
sink("tmp.md")
cat('
Vi tester
```r
cat("hello")
cat("world")
```')
sink()
}
bs_modal(id = "hint", title = "Hint", 
         body = includeMarkdown("tmp.md"))
```

```{r}
bs_button("Hint") %>%
  bs_attach_modal(id_modal = "hint")
```

### Exercise

[Add text]

### Exercise ()

[Add text]

### Exercise (string management)




-->