<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Module 6 Introduction to tidyverse and R Markdown | Tools for Analytics (TFA)</title>
  <meta name="description" content="Course notes for the ‘Tools for Analytics’ course (R part)" />
  <meta name="generator" content="bookdown 0.18 and GitBook 2.6.7" />

  <meta property="og:title" content="Module 6 Introduction to tidyverse and R Markdown | Tools for Analytics (TFA)" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://tools4analytics.github.io/course/" />
  <meta property="og:image" content="https://tools4analytics.github.io/course/assets/logo.png" />
  <meta property="og:description" content="Course notes for the ‘Tools for Analytics’ course (R part)" />
  <meta name="github-repo" content="Tools4Analytics/course/tree/master/book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Module 6 Introduction to tidyverse and R Markdown | Tools for Analytics (TFA)" />
  
  <meta name="twitter:description" content="Course notes for the ‘Tools for Analytics’ course (R part)" />
  <meta name="twitter:image" content="https://tools4analytics.github.io/course/assets/logo.png" />

<meta name="author" content="Lars Relund Nielsen" />


<meta name="date" content="2020-09-10" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="assets/favicon.ico" type="image/x-icon" />
<link rel="prev" href="functions.html"/>
<link rel="next" href="sec-io.html"/>
<script src="libs/header-attrs-2.1/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/font-awesome-5.3.1/css/all.min.css" rel="stylesheet" />
<link href="libs/font-awesome-5.3.1/css/v4-shims.min.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.13/datatables.js"></script>
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
<link href="libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet" />
<script src="libs/nouislider-7.0.10/jquery.nouislider.min.js"></script>
<link href="libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet" />
<script src="libs/selectize-0.12.0/selectize.min.js"></script>
<link href="libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>
<html>
  
  <head>
  <script src="anchor-links.js"></script>
  
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

  </head>

</html>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="assets/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="toc-logo"><a href="./"><img src="img/logo.png"></a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#how-this-book-is-organised"><i class="fa fa-check"></i><b>1.1</b> How this book is organised</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#ack"><i class="fa fa-check"></i><b>1.2</b> Acknowledgements</a></li>
</ul></li>
<li class="part"><span><b>I Getting started</b></span></li>
<li class="chapter" data-level="2" data-path="sec-install.html"><a href="sec-install.html"><i class="fa fa-check"></i><b>2</b> Install R and RStudio</a>
<ul>
<li class="chapter" data-level="2.1" data-path="sec-install.html"><a href="sec-install.html#learning-outcomes"><i class="fa fa-check"></i><b>2.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="2.2" data-path="sec-install.html"><a href="sec-install.html#install-r"><i class="fa fa-check"></i><b>2.2</b> Install R and RStudio</a></li>
<li class="chapter" data-level="2.3" data-path="sec-install.html"><a href="sec-install.html#test-your-installation"><i class="fa fa-check"></i><b>2.3</b> Test your installation</a></li>
<li class="chapter" data-level="2.4" data-path="sec-install.html"><a href="sec-install.html#add-on-packages"><i class="fa fa-check"></i><b>2.4</b> Add-on packages</a></li>
<li class="chapter" data-level="2.5" data-path="sec-install.html"><a href="sec-install.html#different-learning-paths"><i class="fa fa-check"></i><b>2.5</b> Different learning paths</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="sec-r-basics.html"><a href="sec-r-basics.html"><i class="fa fa-check"></i><b>3</b> R basics and workflows</a>
<ul>
<li class="chapter" data-level="3.1" data-path="sec-r-basics.html"><a href="sec-r-basics.html#learning-outcomes-1"><i class="fa fa-check"></i><b>3.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="3.2" data-path="sec-r-basics.html"><a href="sec-r-basics.html#working-with-r-at-the-command-line-in-rstudio"><i class="fa fa-check"></i><b>3.2</b> Working with R at the command line in RStudio</a></li>
<li class="chapter" data-level="3.3" data-path="sec-r-basics.html"><a href="sec-r-basics.html#your-first-datacamp-course"><i class="fa fa-check"></i><b>3.3</b> Your first DataCamp course</a></li>
<li class="chapter" data-level="3.4" data-path="sec-r-basics.html"><a href="sec-r-basics.html#pipes"><i class="fa fa-check"></i><b>3.4</b> Pipes</a></li>
<li class="chapter" data-level="3.5" data-path="sec-r-basics.html"><a href="sec-r-basics.html#rprojs"><i class="fa fa-check"></i><b>3.5</b> RStudio projects</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="sec-r-basics.html"><a href="sec-r-basics.html#storing-your-code-in-a-script-file"><i class="fa fa-check"></i><b>3.5.1</b> Storing your code in a script file</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="sec-r-basics.html"><a href="sec-r-basics.html#global-options"><i class="fa fa-check"></i><b>3.6</b> Global options</a></li>
<li class="chapter" data-level="3.7" data-path="sec-r-basics.html"><a href="sec-r-basics.html#working-directory"><i class="fa fa-check"></i><b>3.7</b> Working directory</a></li>
<li class="chapter" data-level="3.8" data-path="sec-r-basics.html"><a href="sec-r-basics.html#different-learning-paths-1"><i class="fa fa-check"></i><b>3.8</b> Different learning paths</a></li>
<li class="chapter" data-level="3.9" data-path="sec-r-basics.html"><a href="sec-r-basics.html#recap"><i class="fa fa-check"></i><b>3.9</b> Recap</a></li>
<li class="chapter" data-level="3.10" data-path="sec-r-basics.html"><a href="sec-r-basics.html#exercises"><i class="fa fa-check"></i><b>3.10</b> Exercises</a>
<ul>
<li class="chapter" data-level="3.10.1" data-path="sec-r-basics.html"><a href="sec-r-basics.html#exercise-group-work"><i class="fa fa-check"></i><b>3.10.1</b> Exercise (group work)*</a></li>
<li class="chapter" data-level="3.10.2" data-path="sec-r-basics.html"><a href="sec-r-basics.html#exercise-install-packages"><i class="fa fa-check"></i><b>3.10.2</b> Exercise (install packages)</a></li>
<li class="chapter" data-level="3.10.3" data-path="sec-r-basics.html"><a href="sec-r-basics.html#exercise-piping"><i class="fa fa-check"></i><b>3.10.3</b> Exercise (piping)</a></li>
<li class="chapter" data-level="3.10.4" data-path="sec-r-basics.html"><a href="sec-r-basics.html#exercise-working-dir"><i class="fa fa-check"></i><b>3.10.4</b> Exercise (working dir)</a></li>
<li class="chapter" data-level="3.10.5" data-path="sec-r-basics.html"><a href="sec-r-basics.html#exercise-vectors"><i class="fa fa-check"></i><b>3.10.5</b> Exercise (vectors)</a></li>
<li class="chapter" data-level="3.10.6" data-path="sec-r-basics.html"><a href="sec-r-basics.html#exercise-matrices"><i class="fa fa-check"></i><b>3.10.6</b> Exercise (matrices)</a></li>
<li class="chapter" data-level="3.10.7" data-path="sec-r-basics.html"><a href="sec-r-basics.html#exercise-data-frames"><i class="fa fa-check"></i><b>3.10.7</b> Exercise (data frames)</a></li>
<li class="chapter" data-level="3.10.8" data-path="sec-r-basics.html"><a href="sec-r-basics.html#exercise-lists"><i class="fa fa-check"></i><b>3.10.8</b> Exercise (lists)</a></li>
<li class="chapter" data-level="3.10.9" data-path="sec-r-basics.html"><a href="sec-r-basics.html#ex-strings"><i class="fa fa-check"></i><b>3.10.9</b> Exercise (string management)</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Programming in R</b></span></li>
<li class="chapter" data-level="4" data-path="sec-loops.html"><a href="sec-loops.html"><i class="fa fa-check"></i><b>4</b> Loops and conditionals</a>
<ul>
<li class="chapter" data-level="4.1" data-path="sec-loops.html"><a href="sec-loops.html#learning-outcomes-2"><i class="fa fa-check"></i><b>4.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="4.2" data-path="sec-loops.html"><a href="sec-loops.html#conditionals-and-control-flow"><i class="fa fa-check"></i><b>4.2</b> Conditionals and control flow</a></li>
<li class="chapter" data-level="4.3" data-path="sec-loops.html"><a href="sec-loops.html#loops"><i class="fa fa-check"></i><b>4.3</b> Loops</a></li>
<li class="chapter" data-level="4.4" data-path="sec-loops.html"><a href="sec-loops.html#different-learning-paths-2"><i class="fa fa-check"></i><b>4.4</b> Different learning paths</a></li>
<li class="chapter" data-level="4.5" data-path="sec-loops.html"><a href="sec-loops.html#recap-1"><i class="fa fa-check"></i><b>4.5</b> Recap</a></li>
<li class="chapter" data-level="4.6" data-path="sec-loops.html"><a href="sec-loops.html#exercises-1"><i class="fa fa-check"></i><b>4.6</b> Exercises</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="sec-loops.html"><a href="sec-loops.html#exercise-conditional-expressions"><i class="fa fa-check"></i><b>4.6.1</b> Exercise (conditional expressions)</a></li>
<li class="chapter" data-level="4.6.2" data-path="sec-loops.html"><a href="sec-loops.html#exercise-loops"><i class="fa fa-check"></i><b>4.6.2</b> Exercise (loops)</a></li>
<li class="chapter" data-level="4.6.3" data-path="sec-loops.html"><a href="sec-loops.html#ex-dist"><i class="fa fa-check"></i><b>4.6.3</b> Exercise (calculating distances)</a></li>
<li class="chapter" data-level="4.6.4" data-path="sec-loops.html"><a href="sec-loops.html#exercise-expand_grid"><i class="fa fa-check"></i><b>4.6.4</b> Exercise (<code>expand_grid</code>)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>5</b> Functions</a>
<ul>
<li class="chapter" data-level="5.1" data-path="functions.html"><a href="functions.html#learning-outcomes-3"><i class="fa fa-check"></i><b>5.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="5.2" data-path="functions.html"><a href="functions.html#datacamp-course"><i class="fa fa-check"></i><b>5.2</b> DataCamp course</a></li>
<li class="chapter" data-level="5.3" data-path="functions.html"><a href="functions.html#functions-returning-multiple-objects"><i class="fa fa-check"></i><b>5.3</b> Functions returning multiple objects</a></li>
<li class="chapter" data-level="5.4" data-path="functions.html"><a href="functions.html#the-...-argument"><i class="fa fa-check"></i><b>5.4</b> The <code>...</code> argument</a></li>
<li class="chapter" data-level="5.5" data-path="functions.html"><a href="functions.html#documenting-your-functions"><i class="fa fa-check"></i><b>5.5</b> Documenting your functions</a></li>
<li class="chapter" data-level="5.6" data-path="functions.html"><a href="functions.html#different-learning-paths-3"><i class="fa fa-check"></i><b>5.6</b> Different learning paths</a></li>
<li class="chapter" data-level="5.7" data-path="functions.html"><a href="functions.html#recap-2"><i class="fa fa-check"></i><b>5.7</b> Recap</a></li>
<li class="chapter" data-level="5.8" data-path="functions.html"><a href="functions.html#exercises-2"><i class="fa fa-check"></i><b>5.8</b> Exercises</a>
<ul>
<li class="chapter" data-level="5.8.1" data-path="functions.html"><a href="functions.html#exercise-defining-functions"><i class="fa fa-check"></i><b>5.8.1</b> Exercise (defining functions)</a></li>
<li class="chapter" data-level="5.8.2" data-path="functions.html"><a href="functions.html#exercise-scope"><i class="fa fa-check"></i><b>5.8.2</b> Exercise (scope)</a></li>
<li class="chapter" data-level="5.8.3" data-path="functions.html"><a href="functions.html#exercise-job-sequencing"><i class="fa fa-check"></i><b>5.8.3</b> Exercise (job sequencing)</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III IO, tidy and transform</b></span></li>
<li class="chapter" data-level="6" data-path="sec-tidy-intro.html"><a href="sec-tidy-intro.html"><i class="fa fa-check"></i><b>6</b> Introduction to tidyverse and R Markdown</a>
<ul>
<li class="chapter" data-level="6.1" data-path="sec-tidy-intro.html"><a href="sec-tidy-intro.html#learning-outcomes-4"><i class="fa fa-check"></i><b>6.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="6.2" data-path="sec-tidy-intro.html"><a href="sec-tidy-intro.html#the-tidyverse-package"><i class="fa fa-check"></i><b>6.2</b> The tidyverse package</a></li>
<li class="chapter" data-level="6.3" data-path="sec-tidy-intro.html"><a href="sec-tidy-intro.html#writing-reproducible-reports"><i class="fa fa-check"></i><b>6.3</b> Writing reproducible reports</a></li>
<li class="chapter" data-level="6.4" data-path="sec-tidy-intro.html"><a href="sec-tidy-intro.html#t-intro-lp"><i class="fa fa-check"></i><b>6.4</b> Different learning paths</a></li>
<li class="chapter" data-level="6.5" data-path="sec-tidy-intro.html"><a href="sec-tidy-intro.html#recap-3"><i class="fa fa-check"></i><b>6.5</b> Recap</a></li>
<li class="chapter" data-level="6.6" data-path="sec-tidy-intro.html"><a href="sec-tidy-intro.html#exercises-3"><i class="fa fa-check"></i><b>6.6</b> Exercises</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="sec-tidy-intro.html"><a href="sec-tidy-intro.html#exercise-your-first-r-markdown-exersise"><i class="fa fa-check"></i><b>6.6.1</b> Exercise (your first R Markdown exersise)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="sec-io.html"><a href="sec-io.html"><i class="fa fa-check"></i><b>7</b> Importing and exporting data</a>
<ul>
<li class="chapter" data-level="7.1" data-path="sec-io.html"><a href="sec-io.html#learning-outcomes-5"><i class="fa fa-check"></i><b>7.1</b> Learning outcomes</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="sec-transform.html"><a href="sec-transform.html"><i class="fa fa-check"></i><b>8</b> Transforming data</a>
<ul>
<li class="chapter" data-level="8.1" data-path="sec-transform.html"><a href="sec-transform.html#learning-outcomes-6"><i class="fa fa-check"></i><b>8.1</b> Learning outcomes</a></li>
</ul></li>
<li class="part"><span><b>IV Visualization</b></span></li>
<li class="chapter" data-level="9" data-path="sec-plot.html"><a href="sec-plot.html"><i class="fa fa-check"></i><b>9</b> Plotting using ggplot</a>
<ul>
<li class="chapter" data-level="9.1" data-path="sec-plot.html"><a href="sec-plot.html#learning-outcomes-7"><i class="fa fa-check"></i><b>9.1</b> Learning outcomes</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="spartial-data-and-maps.html"><a href="spartial-data-and-maps.html"><i class="fa fa-check"></i><b>10</b> Spartial data and maps</a>
<ul>
<li class="chapter" data-level="10.1" data-path="spartial-data-and-maps.html"><a href="spartial-data-and-maps.html#learning-outcomes-8"><i class="fa fa-check"></i><b>10.1</b> Learning outcomes</a></li>
</ul></li>
<li class="part"><span><b>V R project in groups</b></span></li>
<li class="chapter" data-level="11" data-path="sec-project.html"><a href="sec-project.html"><i class="fa fa-check"></i><b>11</b> Mandatory R project</a>
<ul>
<li class="chapter" data-level="11.1" data-path="sec-project.html"><a href="sec-project.html#learning-outcomes-9"><i class="fa fa-check"></i><b>11.1</b> Learning outcomes</a></li>
</ul></li>
<li class="part"><span><b>VI Extra</b></span></li>
<li class="chapter" data-level="12" data-path="sec-r-excel.html"><a href="sec-r-excel.html"><i class="fa fa-check"></i><b>12</b> Using R in Excel and Excel in R</a></li>
<li class="chapter" data-level="13" data-path="run-an-opl-model-from-r.html"><a href="run-an-opl-model-from-r.html"><i class="fa fa-check"></i><b>13</b> Run an OPL model from R</a></li>
<li class="chapter" data-level="14" data-path="simulation-in-r.html"><a href="simulation-in-r.html"><i class="fa fa-check"></i><b>14</b> Simulation in R</a></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="groups.html"><a href="groups.html"><i class="fa fa-check"></i><b>A</b> Working in groups</a>
<ul>
<li class="chapter" data-level="" data-path="groups.html"><a href="groups.html#r-project-structure"><i class="fa fa-check"></i>R project structure</a></li>
<li class="chapter" data-level="" data-path="groups.html"><a href="groups.html#using-git"><i class="fa fa-check"></i>Using Git together with GitHub</a>
<ul>
<li class="chapter" data-level="" data-path="groups.html"><a href="groups.html#register-a-free-github-account"><i class="fa fa-check"></i>Register a free GitHub account</a></li>
<li class="chapter" data-level="" data-path="groups.html"><a href="groups.html#install-git"><i class="fa fa-check"></i>Install Git</a></li>
<li class="chapter" data-level="" data-path="groups.html"><a href="groups.html#check-your-installation"><i class="fa fa-check"></i>Check your installation</a></li>
<li class="chapter" data-level="" data-path="groups.html"><a href="groups.html#setup-projects-using-git-and-github"><i class="fa fa-check"></i>Setup projects using Git and GitHub</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="B" data-path="help.html"><a href="help.html"><i class="fa fa-check"></i><b>B</b> Getting help</a>
<ul>
<li class="chapter" data-level="" data-path="help.html"><a href="help.html#study-café"><i class="fa fa-check"></i>Study café</a>
<ul>
<li class="chapter" data-level="" data-path="help.html"><a href="help.html#need-help---ask-a-question"><i class="fa fa-check"></i>Need help - ask a question</a></li>
<li class="chapter" data-level="" data-path="help.html"><a href="help.html#current-queue"><i class="fa fa-check"></i>Current queue</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="C" data-path="learning-goals.html"><a href="learning-goals.html"><i class="fa fa-check"></i><b>C</b> Learning goals</a></li>
<li class="chapter" data-level="D" data-path="schedule.html"><a href="schedule.html"><i class="fa fa-check"></i><b>D</b> Schedule</a></li>
<li class="chapter" data-level="E" data-path="sec-ba.html"><a href="sec-ba.html"><i class="fa fa-check"></i><b>E</b> Business Analytics</a></li>
<li class="chapter" data-level="F" data-path="colophon.html"><a href="colophon.html"><i class="fa fa-check"></i><b>F</b> Colophon</a></li>
<li class="divider"></li>
<li><center>
  <a rel="license" href="./index.html#ack">
    License: CC BY-NC-SA<br>
    <i class = "fab fa-creative-commons fa-2x"></i>
    <i class = "fab fa-creative-commons-by fa-2x"></i>
    <i class = "fab fa-creative-commons-nc fa-2x"></i>
    <i class = "fab fa-creative-commons-sa fa-2x"></i>
  </a>
</li></center>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Tools for Analytics (TFA)</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="sec-tidy-intro" class="section level1" number="6">
<h1><span class="header-section-number">Module 6</span> Introduction to tidyverse and R Markdown</h1>
<div id="learning-outcomes-4" class="section level2" number="6.1">
<h2><span class="header-section-number">6.1</span> Learning outcomes</h2>
<p>By the end of this module, you are expected to be able to:</p>
<ul>
<li>Describe what the tidyverse package is.</li>
<li>Explain the ideas behind reproducible reports and literal programming.</li>
<li>Create your first R Markdown document and add some code and text.</li>
</ul>
<!-- SOLO increasing: identify · memorise · name · do simple procedure · collect data · -->
<!-- enumerate · describe · interpret · formulate · list · paraphrase · combine · do -->
<!-- algorithms · compare · contrast · explain causes · analyse · relate · derive · -->
<!-- evaluate · apply · argue · theorise · generalise · hypothesise · solve · reflect -->
</div>
<div id="the-tidyverse-package" class="section level2" number="6.2">
<h2><span class="header-section-number">6.2</span> The tidyverse package</h2>
<p>The <a href="https://www.tidyverse.org">tidyverse</a> is an collection of R packages designed for data science. All packages share an underlying design philosophy, grammar, and data structures.</p>
<p>The <a href="https://www.tidyverse.org/packages/#core-tidyverse">core tidyverse</a> includes the packages that you’re likely to use in everyday data analyses. In tidyverse 1.3.0, the following packages are included in the core tidyverse:</p>
<ul>
<li><p><a href="https://dplyr.tidyverse.org/">dplyr</a> provides a grammar of data manipulation, providing a consistent set of verbs that solve the most common data manipulation challenges. We are going to use dplyr in Module <a href="sec-transform.html#sec-transform">8</a>.</p></li>
<li><p><a href="https://ggplot2.tidyverse.org/">ggplot2</a> is a system for declaratively creating graphics, based on The Grammar of Graphics. You provide the data, tell ggplot2 how to map variables to aesthetics, what graphical primitives to use, and it takes care of the details. We are going to use ggplot in Module <a href="sec-plot.html#sec-plot">9</a>.</p></li>
<li><p><a href="https://tidyr.tidyverse.org/">tidyr</a> provides a set of functions that help you get to tidy data. Tidy data is data with a consistent form: in brief, every variable goes in a column, and every column is a variable.</p></li>
<li><p><a href="https://readr.tidyverse.org/">readr</a> provides a fast and friendly way to read rectangular data (like csv, tsv, and fwf). It is designed to flexibly parse many types of data found in the wild, while still cleanly failing when data unexpectedly changes. We are going to use dplyr in Module <a href="sec-io.html#sec-io">7</a>.</p></li>
<li><p><a href="https://purrr.tidyverse.org/">purrr</a> enhances R’s functional programming (FP) toolkit by providing a complete and consistent set of tools for working with functions and vectors. Once you master the basic concepts, purrr allows you to replace many for loops with code that is easier to write and more expressive. This package is not covered by this course.</p></li>
<li><p><a href="https://tibble.tidyverse.org/">tibble</a> is a modern re-imagining of the data frame, keeping what time has proven to be effective, and throwing out what it has not. Tibbles are data.frames that are lazy and surly: they do less and complain more forcing you to confront problems earlier, typically leading to cleaner, more expressive code. We are going to use tibbles in Module <a href="sec-transform.html#sec-transform">8</a>.</p></li>
<li><p><a href="https://stringr.tidyverse.org/">stringr</a> provides a cohesive set of functions designed to make working with strings as easy as possible. You have already worked a bit with stringr in Exercise <a href="sec-r-basics.html#ex-strings">3.10.9</a></p></li>
<li><p><a href="https://forcats.tidyverse.org/">forcats</a> provides a suite of useful tools that solve common problems with factors. R uses factors to handle categorical variables, variables that have a fixed and known set of possible values. This package is not covered by this course.</p></li>
</ul>
<p>Small introductions (with examples) to the packages are given on their documentation pages (follow the links above). The tidyverse also includes many <a href="https://www.tidyverse.org/packages/">other packages</a> with more specialized usage. They are not loaded automatically with <code>library(tidyverse)</code>, so you’ll need to load each one with its own call to <code>library()</code>.</p>
</div>
<div id="writing-reproducible-reports" class="section level2" number="6.3">
<h2><span class="header-section-number">6.3</span> Writing reproducible reports</h2>
<p>The concept of <a href="https://en.wikipedia.org/wiki/Literate_programming">literate programming</a> was originally introduced by Donald Knuth in 1984. In a nutshell, Knuth envisioned a new programming paradigm where computer scientists focus on weaving code together with text as documentation.</p>
<p>That is, when we do an Analytics project, are we interested in writing reports containing both R code for importing data, wangling and analysis. Moreover, at the same time the document should contain our comments about the code, plots, analysis, results etc. The document is then rendered to an output format such as html, pdf or Word which is presented to the decision maker. Note the document can be seen as the “the source code” for the report communicated to the decision maker.</p>
<p>Some developers have created tools to enable others to write better literate programs. They use a markup language made for authoring. We are going to focus on <a href="https://rmarkdown.rstudio.com/">R Markdown</a>. In R Markdown documents you can weave R code together with text (written in Markdown) to produce elegantly formatted output.</p>
<p>In fact this book is written in R Markdown by using</p>
<ul>
<li>a set of R Markdown documents bound together as a collection using the <a href="https://bookdown.org/yihui/bookdown/">bookdown</a> package,</li>
<li>rendered to a web-page using RStudio,</li>
<li>shared on <a href="https://github.com/">GitHub</a>,</li>
<li>built by <a href="https://github.com/features/actions">GitHub Actions</a>,</li>
<li>and published on <a href="https://pages.github.com/">GitHub Pages</a>.</li>
</ul>
<p>This may seem complicated at first. However, after setup it has made life much easier since</p>
<ul>
<li>we can update the book easier,</li>
<li>share and collaborate on the book easier,</li>
<li>update the web-page automatically,</li>
<li>keep history of the book source.</li>
<li>and keep the book source at a single location.</li>
</ul>
<p>R Markdown documents are reproducible. Anybody who works with data has at some point heard a colleague say ‘Well, it works on my computer’, expressing dismay at the fact that you cannot reproduce their results. Ultimately, reproducible means that the results can be reproduced given access to the original data, software, and code. In practice it may be hard to make your project totally reproducible. For instance, people may be using a different operating system, other versions of the software etc. That is, there are different levels of reproducibility. In this course we will focus on R Markdown only. See Section <a href="sec-tidy-intro.html#t-intro-lp">6.4</a> for more info.</p>
<p>An introduction to R Markdown is given in the Chapters <a href="https://campus.datacamp.com/courses/communicating-with-data-in-the-tidyverse/introduction-to-rmarkdown">3</a> and <a href="https://campus.datacamp.com/courses/communicating-with-data-in-the-tidyverse/customizing-your-rmarkdown-report">4</a> of the <a href="https://www.datacamp.com/">Datacamp</a> course <a href="https://learn.datacamp.com/courses/communicating-with-data-in-the-tidyverse">Communicating with Data in the Tidyverse</a>. Note that you may skip Chapters 1 and 2 and still understand mostly of the questions in Chapters 3 and 4 (otherwise just see the solution). You are expected to have completed the chapters before continuing this module!</p>
</div>
<div id="t-intro-lp" class="section level2" number="6.4">
<h2><span class="header-section-number">6.4</span> Different learning paths</h2>
<p>We are all different and you may like different learning styles compared to others. As a result you may prefer a different learning path than suggested. Here is a list of possible different learning paths that may be usefull for you.</p>
<ul>
<li><a href="https://rbasics.netlify.app/4-rmarkdown.html">Chapter 4</a> in <span class="citation">Ismay and Kennedy (<a href="#ref-rbasics" role="doc-biblioref">2019</a>)</span> gives an overview over R Markdown with videos included.</li>
<li>You may also do the interactive DataCamp <a href="https://campus.datacamp.com/courses/reporting-with-rmarkdown">Reporting with R Markdown</a> which is a bit longer than the suggested course.</li>
<li>If <strong>Help &gt; Markdown Quick Reference</strong> not is enough then try out this <a href="https://commonmark.org/help/tutorial/">interactive markdown tutorial</a>.</li>
<li>The R Markdown cheatsheet may be useful. Find the newest version in RStudio <strong>Help &gt; Cheatsheets</strong>.</li>
<li>Glenn Moncrieff gives a nice detained overview on how to create <a href="https://rpubs.com/glennwithtwons/reproducible-r-toolbox">reproducible projects</a>.<br />
</li>
<li>If you are interested in trying Git and GitHub out see <span class="citation">Bryan, STAT 545 TAs, and Hester (<a href="#ref-hgit" role="doc-biblioref">2020</a>)</span> for detailed help.</li>
<li>All chunk options for R code can be seen <a href="https://yihui.org/knitr/options/">here</a>.</li>
</ul>
</div>
<div id="recap-3" class="section level2" number="6.5">
<h2><span class="header-section-number">6.5</span> Recap</h2>
<ul>
<li><p>The <a href="https://www.tidyverse.org">tidyverse</a> is an collection of R packages designed for data science. All packages share an underlying design philosophy, grammar, and data structures.</p></li>
<li><p>R Markdown is an example of literate programming.</p></li>
<li><p>The <a href="https://www.tidyverse.org/packages/#core-tidyverse">core tidyverse</a> includes the packages that you’re likely to use in everyday data analyses.</p></li>
<li><p>The concept of <a href="https://en.wikipedia.org/wiki/Literate_programming">literate programming</a> is a programming paradigm which focus on weaving code together with text as documentation. That is, we are interested in writing reports containing both text and R code for importing data, wangling and analysis.</p></li>
<li><p>Reproducibility means that the results can be reproduced given access to the original data, software, and code.</p></li>
<li><p>In practice it may be hard to make your project totally reproducible. That is, there are different levels of reproducibility.</p></li>
<li><p>R Markdown documents are a attempt to make reproducible documents and combine R code and markdown text.</p></li>
</ul>
</div>
<div id="exercises-3" class="section level2" number="6.6">
<h2><span class="header-section-number">6.6</span> Exercises</h2>
<p>Below you will find a set of exercises. Always have a look at the exercises before you meet in your study group and try to solve them. Are you stuck that see the <a href="help.html#help">help page</a>. Solutions to each exercise can be seen by pressing the button at each question. Beware you will not learn by giving up to early. Put some effort into finding a solution!</p>
<div id="exercise-your-first-r-markdown-exersise" class="section level3" number="6.6.1">
<h3><span class="header-section-number">6.6.1</span> Exercise (your first R Markdown exersise)</h3>
<p>Load the tfa package:</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="sec-tidy-intro.html#cb73-1" aria-hidden="true"></a><span class="co"># remotes::install_github(&quot;bss-osca/tfa/tfa-package&quot;)  # if not installed</span></span>
<span id="cb73-2"><a href="sec-tidy-intro.html#cb73-2" aria-hidden="true"></a><span class="kw">library</span>(tfa)</span></code></pre></div>
<p>The package contains templates for exercises etc. Go to <strong>File &gt; New File &gt; R Markdown…</strong>. In the pop-up box select <strong>From template</strong> in the left column and then <strong>TFA Exercise</strong>. Press <em>Ok</em> and a new R Markdown document will be opened.</p>
<ol style="list-style-type: decimal">
<li><p>Change the meta text (e.g. the title and add your name) in the yaml.</p></li>
<li><p>Render/compile the document by pressing the <em>Knit</em> button (or Ctrl+Shift+K).</p></li>
</ol>
<div class="modal fade" id="solution0" tabindex="-1" role="dialog" aria-labelledby="solution0-title">
<div class="modal-dialog" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution0-title">Solution</h4>
</div>
<div class="modal-body"><p>All the code is now hidden. But not the output.</p>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default" style="float:right" data-toggle="modal" data-target="#solution0">Solution</button>
<ol start="3" style="list-style-type: decimal">
<li>Change <code>echo = TRUE</code> to <code>echo = FALSE</code> in the first chunk <code>setup</code> and render the document. What have happened?</li>
</ol>
<p>You can easily go to a chunk using the navigation in bottom left of the source window.</p>
<p><img src="img/win_chunk_selection.PNG" width="80%" style="display: block; margin: auto;" /></p>
<ol start="4" style="list-style-type: decimal">
<li><p>Try to change <code>fig.asp = 0.25</code> to e.g. 0.5 in Chunk 10. What happens?</p></li>
<li><p>Create a new section `<code>## Question 4</code> and add text in italic: <em>What is the sum of all setup costs?</em></p></li>
</ol>
<div class="modal fade" id="solution1" tabindex="-1" role="dialog" aria-labelledby="solution1-title">
<div class="modal-dialog" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution1-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">total &lt;- sum(setup_costs)
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default" style="float:right" data-toggle="modal" data-target="#solution1">Solution</button>
<ol start="6" style="list-style-type: decimal">
<li>Add a code chunk solving Question 5 above.</li>
</ol>
<div class="modal fade" id="solution2" tabindex="-1" role="dialog" aria-labelledby="solution2-title">
<div class="modal-dialog" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution2-title">Solution</h4>
</div>
<div class="modal-body"><p>The sum of all setup costs are <code>`r total`</code>.</p>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default" style="float:right" data-toggle="modal" data-target="#solution2">Solution</button>
<ol start="7" style="list-style-type: decimal">
<li>Add a line of text with the result.</li>
</ol>
<!-- Usefull stuff: 

Icons:
<i class="fa-pull-right fa-5x iconStyle1 fas fa-file-code"></i>
<i class="fa-pull-right fa-5x iconStyle1 fas fa-code"></i>
<i class="fa-pull-right fa-5x iconStyle1 fas fa-external-link-alt"></i>



Task/checklist box:
<div class = "boxTask">
<i class="fa-pull-right fa-5x iconStyle1 fas fa-tasks"></i>

   * dasf
   * fsa
   * 324
</div>



Exercise box:
<div class = "boxExercise">
<i class="fa-pull-right fa-5x iconStyle1 fas fa-laptop-code"></i>  

**Exercise 1**
asdf asdlfkj sdfklj fsdjka æ

   1. sdf
   2. edasf

**Exercise 2**
asdfav sdaf sdhj sdjkahdf jkhasdkjæsdfh asjf

   1. sdf
   2. sdf
</div>



Numbered exercises with hints:
## Exercises

Exercises are numbered using [module number].[section number].[exercise number]. 

### Exercise (install packages)

This exercise is done from the Console in RStudio. 

   1) Install the package `devtools` using function `install.packages`. Note you can always get help/see documentation by typing `?install.packages` or typing `install.packages` and press F1. 
   
You now have install the package from the default repository ([CRAN][cran]). You may also install packages from other repositories (e.g. GitHub)
   
   1) Have a look at the documentation for function `install_github` in the package `devtools`. This can be done in different ways:
   
```r
library(devtools)    # we here load all the functions in devtools 
?install_github

?devtools::install_github     # we here use the namespace devtools to load only one function
```

   1) Install the package `tfa` from github using path ``


```r
# filter the flights table to include only United and
# American flights

```


```r
{
sink("tmp.md")
cat('
Vi tester
```r
cat("hello")
cat("world")
```')
sink()
}
bs_modal(id = "hint", title = "Hint", 
         body = includeMarkdown("tmp.md"))
```

<div class="modal fade" id="hint" tabindex="-1" role="dialog" aria-labelledby="hint-title">
<div class="modal-dialog" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="hint-title">Hint</h4>
</div>
<div class="modal-body"><p>Vi tester</p>

<pre><code class="r">cat(&quot;hello&quot;)
cat(&quot;world&quot;)
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>


```r
bs_button("Hint") %>%
  bs_attach_modal(id_modal = "hint")
```

<button class="btn btn-default" data-toggle="modal" data-target="#hint">Hint</button>

### Exercise

[Add text]

### Exercise ()

[Add text]

### Exercise (string management)




-->

</div>
</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-hgit">
<p>Bryan, J., the STAT 545 TAs, and J. Hester. 2020. <em>Happy Git and Github for the useR</em>. <a href="https://happygitwithr.com/">https://happygitwithr.com/</a>.</p>
</div>
<div id="ref-rbasics">
<p>Ismay, C., and P. C. Kennedy. 2019. <em>Getting Used to R, Rstudio, and R Markdown</em>. <a href="https://rbasics.netlify.app">https://rbasics.netlify.app</a>.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="functions.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="sec-io.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/Tools4Analytics/course/edit/master/book/tidyverse-intro.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
