<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Module 12 Importing and exporting data | Tools for Analytics (TFA)</title>
  <meta name="description" content="Course notes for the ‘Tools for Analytics’ course" />
  <meta name="generator" content="bookdown 0.27 and GitBook 2.6.7" />

  <meta property="og:title" content="Module 12 Importing and exporting data | Tools for Analytics (TFA)" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="https://bss-osca.github.io/tfa//assets/logo.png" />
  <meta property="og:description" content="Course notes for the ‘Tools for Analytics’ course" />
  <meta name="github-repo" content="bss-osca/tfa" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Module 12 Importing and exporting data | Tools for Analytics (TFA)" />
  
  <meta name="twitter:description" content="Course notes for the ‘Tools for Analytics’ course" />
  <meta name="twitter:image" content="https://bss-osca.github.io/tfa//assets/logo.png" />

<meta name="author" content="Lars Relund Nielsen" />


<meta name="date" content="2022-09-09" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="assets/favicon.ico" type="image/x-icon" />
<link rel="prev" href="mod-r-tidyverse-intro.html"/>
<link rel="next" href="mod-r-transform.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="libs/viz-1.8.2/viz.js"></script>
<link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="libs/grViz-binding-1.0.9/grViz.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.1.1/leaflet.js"></script>
<script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.1.1/leaflet-providers-plugin.js"></script>
<link href="libs/minichart-0.2.2/minicharts.css" rel="stylesheet" />
<script src="libs/minichart-0.2.2/leaflet.minicharts.min.js"></script>
<link href="libs/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet" />
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.23/datatables.js"></script>
<link href="libs/dt-core-1.11.3/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.11.3/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.11.3/js/jquery.dataTables.min.js"></script>
<link href="libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet" />
<script src="libs/nouislider-7.0.10/jquery.nouislider.min.js"></script>
<link href="libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet" />
<script src="libs/selectize-0.12.0/selectize.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<html>
<head>
<script>
  $(document).ready(function() {

  // Section anchors
  $('.section h1, .section h2, .section h3, .section h4, .section h5').each(function() {
    anchor = '#' + $(this).parent().attr('id');
    $(this).addClass("hasAnchor").prepend('<a href="' + anchor + '" class="anchor"></a>');
  });
});
</script>
<script src="https://hypothes.is/embed.js" async></script>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
</head>
</html>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="assets/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="toc-logo"><a href="./"><img src="img/logo.png"></a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction to the course</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#lo-intro"><i class="fa fa-check"></i><b>1.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#purpose"><i class="fa fa-check"></i><b>1.2</b> Purpose for the course</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#r-vs-vba"><i class="fa fa-check"></i><b>1.3</b> R vs Excel/VBA</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#computer"><i class="fa fa-check"></i><b>1.4</b> How a computer works</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#organization"><i class="fa fa-check"></i><b>1.5</b> How the notes are organized</a></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#ack"><i class="fa fa-check"></i><b>1.6</b> Acknowledgements</a></li>
<li class="chapter" data-level="1.7" data-path="index.html"><a href="index.html#ex-intro"><i class="fa fa-check"></i><b>1.7</b> Exercises</a><ul>
<li class="chapter" data-level="1.7.1" data-path="index.html"><a href="index.html#ex-annotate"><i class="fa fa-check"></i><b>1.7.1</b> Exercise - How to annotate</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>I VBA</b></span></li>
<li class="chapter" data-level="2" data-path="mod-vba-intro.html"><a href="mod-vba-intro.html"><i class="fa fa-check"></i><b>2</b> An introduction to VBA</a><ul>
<li class="chapter" data-level="2.1" data-path="mod-vba-intro.html"><a href="mod-vba-intro.html#lo-vba-intro"><i class="fa fa-check"></i><b>2.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="2.2" data-path="mod-vba-intro.html"><a href="mod-vba-intro.html#vba-what"><i class="fa fa-check"></i><b>2.2</b> What is VBA</a></li>
<li class="chapter" data-level="2.3" data-path="mod-vba-intro.html"><a href="mod-vba-intro.html#vba-setup"><i class="fa fa-check"></i><b>2.3</b> Setup Excel for VBA</a></li>
<li class="chapter" data-level="2.4" data-path="mod-vba-intro.html"><a href="mod-vba-intro.html#vba-hello"><i class="fa fa-check"></i><b>2.4</b> Your first program</a></li>
<li class="chapter" data-level="2.5" data-path="mod-vba-intro.html"><a href="mod-vba-intro.html#vba-macro"><i class="fa fa-check"></i><b>2.5</b> The macro recorder</a></li>
<li class="chapter" data-level="2.6" data-path="mod-vba-intro.html"><a href="mod-vba-intro.html#vba-overview"><i class="fa fa-check"></i><b>2.6</b> VBA - A short overview</a><ul>
<li class="chapter" data-level="2.6.1" data-path="mod-vba-intro.html"><a href="mod-vba-intro.html#variables"><i class="fa fa-check"></i><b>2.6.1</b> Variables</a></li>
<li class="chapter" data-level="2.6.2" data-path="mod-vba-intro.html"><a href="mod-vba-intro.html#procedures"><i class="fa fa-check"></i><b>2.6.2</b> Procedures</a></li>
<li class="chapter" data-level="2.6.3" data-path="mod-vba-intro.html"><a href="mod-vba-intro.html#input-and-output"><i class="fa fa-check"></i><b>2.6.3</b> Input and output</a></li>
<li class="chapter" data-level="2.6.4" data-path="mod-vba-intro.html"><a href="mod-vba-intro.html#conditional-statements"><i class="fa fa-check"></i><b>2.6.4</b> Conditional statements</a></li>
<li class="chapter" data-level="2.6.5" data-path="mod-vba-intro.html"><a href="mod-vba-intro.html#loops"><i class="fa fa-check"></i><b>2.6.5</b> Loops</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="mod-vba-intro.html"><a href="mod-vba-intro.html#vba-coding-practice"><i class="fa fa-check"></i><b>2.7</b> Good coding pratice</a></li>
<li class="chapter" data-level="2.8" data-path="mod-vba-intro.html"><a href="mod-vba-intro.html#rc-vba-intro"><i class="fa fa-check"></i><b>2.8</b> Recap</a></li>
<li class="chapter" data-level="2.9" data-path="mod-vba-intro.html"><a href="mod-vba-intro.html#ex-vba-intro"><i class="fa fa-check"></i><b>2.9</b> Exercises</a><ul>
<li class="chapter" data-level="2.9.1" data-path="mod-vba-intro.html"><a href="mod-vba-intro.html#ex-vba-hello"><i class="fa fa-check"></i><b>2.9.1</b> Exercise - Hello</a></li>
<li class="chapter" data-level="2.9.2" data-path="mod-vba-intro.html"><a href="mod-vba-intro.html#ex-vba-macro"><i class="fa fa-check"></i><b>2.9.2</b> Exercise - Record a macro</a></li>
<li class="chapter" data-level="2.9.3" data-path="mod-vba-intro.html"><a href="mod-vba-intro.html#ex-vba-user-input"><i class="fa fa-check"></i><b>2.9.3</b> Exercise - User input</a></li>
<li class="chapter" data-level="2.9.4" data-path="mod-vba-intro.html"><a href="mod-vba-intro.html#ex-vba-max-min"><i class="fa fa-check"></i><b>2.9.4</b> Exercise - Max and min number</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="mod-vba-loops-cond.html"><a href="mod-vba-loops-cond.html"><i class="fa fa-check"></i><b>3</b> Loops and conditional statements</a><ul>
<li class="chapter" data-level="3.1" data-path="mod-vba-loops-cond.html"><a href="mod-vba-loops-cond.html#lo-vba-loops-cond"><i class="fa fa-check"></i><b>3.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="3.2" data-path="mod-vba-loops-cond.html"><a href="mod-vba-loops-cond.html#vba-operators"><i class="fa fa-check"></i><b>3.2</b> Relational and logical operators</a></li>
<li class="chapter" data-level="3.3" data-path="mod-vba-loops-cond.html"><a href="mod-vba-loops-cond.html#vba-loops"><i class="fa fa-check"></i><b>3.3</b> Loops</a></li>
<li class="chapter" data-level="3.4" data-path="mod-vba-loops-cond.html"><a href="mod-vba-loops-cond.html#vba-cond"><i class="fa fa-check"></i><b>3.4</b> Conditional statements</a></li>
<li class="chapter" data-level="3.5" data-path="mod-vba-loops-cond.html"><a href="mod-vba-loops-cond.html#vba-ex-jen"><i class="fa fa-check"></i><b>3.5</b> Example - Find Jen</a></li>
<li class="chapter" data-level="3.6" data-path="mod-vba-loops-cond.html"><a href="mod-vba-loops-cond.html#vba-ex-dist-mat"><i class="fa fa-check"></i><b>3.6</b> Example - A distance matrix</a></li>
<li class="chapter" data-level="3.7" data-path="mod-vba-loops-cond.html"><a href="mod-vba-loops-cond.html#recap"><i class="fa fa-check"></i><b>3.7</b> Recap</a></li>
<li class="chapter" data-level="3.8" data-path="mod-vba-loops-cond.html"><a href="mod-vba-loops-cond.html#ex-vba-loops-cond"><i class="fa fa-check"></i><b>3.8</b> Exercises</a><ul>
<li class="chapter" data-level="3.8.1" data-path="mod-vba-loops-cond.html"><a href="mod-vba-loops-cond.html#ex-vba-loops"><i class="fa fa-check"></i><b>3.8.1</b> Exercise - Loops</a></li>
<li class="chapter" data-level="3.8.2" data-path="mod-vba-loops-cond.html"><a href="mod-vba-loops-cond.html#ex-vba-cond"><i class="fa fa-check"></i><b>3.8.2</b> Exercise - Conditional statements</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="mod-vba-procedures.html"><a href="mod-vba-procedures.html"><i class="fa fa-check"></i><b>4</b> Procedures</a><ul>
<li class="chapter" data-level="4.1" data-path="mod-vba-procedures.html"><a href="mod-vba-procedures.html#lo-vba-procedures"><i class="fa fa-check"></i><b>4.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="4.2" data-path="mod-vba-procedures.html"><a href="mod-vba-procedures.html#vba-subs-functions"><i class="fa fa-check"></i><b>4.2</b> Subs and functions - The basics</a></li>
<li class="chapter" data-level="4.3" data-path="mod-vba-procedures.html"><a href="mod-vba-procedures.html#vba-optional-arg"><i class="fa fa-check"></i><b>4.3</b> Optional arguments</a></li>
<li class="chapter" data-level="4.4" data-path="mod-vba-procedures.html"><a href="mod-vba-procedures.html#vba-pub-priv"><i class="fa fa-check"></i><b>4.4</b> Public and private procedures</a></li>
<li class="chapter" data-level="4.5" data-path="mod-vba-procedures.html"><a href="mod-vba-procedures.html#vba-byref"><i class="fa fa-check"></i><b>4.5</b> Passing arguments by reference or by value</a><ul>
<li class="chapter" data-level="4.5.1" data-path="mod-vba-procedures.html"><a href="mod-vba-procedures.html#return-values-from-a-sub"><i class="fa fa-check"></i><b>4.5.1</b> Return values from a sub</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="mod-vba-procedures.html"><a href="mod-vba-procedures.html#vba-built-in"><i class="fa fa-check"></i><b>4.6</b> Built-in functions</a></li>
<li class="chapter" data-level="4.7" data-path="mod-vba-procedures.html"><a href="mod-vba-procedures.html#vba-test-persons"><i class="fa fa-check"></i><b>4.7</b> Example - Selection of test persons</a></li>
<li class="chapter" data-level="4.8" data-path="mod-vba-procedures.html"><a href="mod-vba-procedures.html#recap-1"><i class="fa fa-check"></i><b>4.8</b> Recap</a></li>
<li class="chapter" data-level="4.9" data-path="mod-vba-procedures.html"><a href="mod-vba-procedures.html#ex-vba-procedures"><i class="fa fa-check"></i><b>4.9</b> Exercises</a><ul>
<li class="chapter" data-level="4.9.1" data-path="mod-vba-procedures.html"><a href="mod-vba-procedures.html#ex-vba-subs"><i class="fa fa-check"></i><b>4.9.1</b> Exercise - Subs</a></li>
<li class="chapter" data-level="4.9.2" data-path="mod-vba-procedures.html"><a href="mod-vba-procedures.html#exercise---temperatures"><i class="fa fa-check"></i><b>4.9.2</b> Exercise - Temperatures</a></li>
<li class="chapter" data-level="4.9.3" data-path="mod-vba-procedures.html"><a href="mod-vba-procedures.html#ex-vba-functions"><i class="fa fa-check"></i><b>4.9.3</b> Exercise - Functions</a></li>
<li class="chapter" data-level="4.9.4" data-path="mod-vba-procedures.html"><a href="mod-vba-procedures.html#ex-vba-worksheet-functions"><i class="fa fa-check"></i><b>4.9.4</b> Exercise - Worksheet functions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html"><i class="fa fa-check"></i><b>5</b> Advanced data types and usage</a><ul>
<li class="chapter" data-level="5.1" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#lo-vba-datatypes"><i class="fa fa-check"></i><b>5.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="5.2" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#vba-strings"><i class="fa fa-check"></i><b>5.2</b> Strings</a></li>
<li class="chapter" data-level="5.3" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#vba-objects"><i class="fa fa-check"></i><b>5.3</b> Objects</a></li>
<li class="chapter" data-level="5.4" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#vba-wst"><i class="fa fa-check"></i><b>5.4</b> The Worksheet object</a></li>
<li class="chapter" data-level="5.5" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#wst-rng"><i class="fa fa-check"></i><b>5.5</b> The Range object</a><ul>
<li class="chapter" data-level="5.5.1" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#current-region-of-a-range"><i class="fa fa-check"></i><b>5.5.1</b> Current region of a range</a></li>
<li class="chapter" data-level="5.5.2" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#input-and-output-1"><i class="fa fa-check"></i><b>5.5.2</b> Input and output</a></li>
<li class="chapter" data-level="5.5.3" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#sorting-a-range"><i class="fa fa-check"></i><b>5.5.3</b> Sorting a range</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#vba-ary"><i class="fa fa-check"></i><b>5.6</b> Arrays</a><ul>
<li class="chapter" data-level="5.6.1" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#multi-dimensional-arrays"><i class="fa fa-check"></i><b>5.6.1</b> Multi-dimensional arrays</a></li>
<li class="chapter" data-level="5.6.2" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#dynamic-arrays"><i class="fa fa-check"></i><b>5.6.2</b> Dynamic arrays</a></li>
<li class="chapter" data-level="5.6.3" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#input-and-output-2"><i class="fa fa-check"></i><b>5.6.3</b> Input and output</a></li>
<li class="chapter" data-level="5.6.4" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#sorting-arrays"><i class="fa fa-check"></i><b>5.6.4</b> Sorting arrays</a></li>
<li class="chapter" data-level="5.6.5" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#use-arrays-instead-of-ranges"><i class="fa fa-check"></i><b>5.6.5</b> Use arrays instead of ranges</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#vba-coll"><i class="fa fa-check"></i><b>5.7</b> Collections</a></li>
<li class="chapter" data-level="5.8" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#vba-ex-job-seq"><i class="fa fa-check"></i><b>5.8</b> Example - Job sequencing</a></li>
<li class="chapter" data-level="5.9" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#recap-2"><i class="fa fa-check"></i><b>5.9</b> Recap</a></li>
<li class="chapter" data-level="5.10" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#ex-vba-datatypes"><i class="fa fa-check"></i><b>5.10</b> Exercises</a><ul>
<li class="chapter" data-level="5.10.1" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#ex-vba-equal"><i class="fa fa-check"></i><b>5.10.1</b> Exercise - Equal entries</a></li>
<li class="chapter" data-level="5.10.2" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#ex-vba-search-products"><i class="fa fa-check"></i><b>5.10.2</b> Exercise - Product search</a></li>
<li class="chapter" data-level="5.10.3" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#ex-vba-read-collections"><i class="fa fa-check"></i><b>5.10.3</b> Exercise - Read collections</a></li>
<li class="chapter" data-level="5.10.4" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#ex-vba-read-arrays"><i class="fa fa-check"></i><b>5.10.4</b> Exercise - Read arrays</a></li>
<li class="chapter" data-level="5.10.5" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#ex-vba-process"><i class="fa fa-check"></i><b>5.10.5</b> Exercise - Process numbers</a></li>
<li class="chapter" data-level="5.10.6" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#ex-vba-search-pay"><i class="fa fa-check"></i><b>5.10.6</b> Exercise - Search payments</a></li>
<li class="chapter" data-level="5.10.7" data-path="mod-vba-datatypes.html"><a href="mod-vba-datatypes.html#ex-vba-flight"><i class="fa fa-check"></i><b>5.10.7</b> Exercise - Flight search</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="mod-vba-random-numbers.html"><a href="mod-vba-random-numbers.html"><i class="fa fa-check"></i><b>6</b> Generating random numbers</a><ul>
<li class="chapter" data-level="6.1" data-path="mod-vba-random-numbers.html"><a href="mod-vba-random-numbers.html#lo-vba-random-numbers"><i class="fa fa-check"></i><b>6.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="6.2" data-path="mod-vba-random-numbers.html"><a href="mod-vba-random-numbers.html#vba-random-numbers"><i class="fa fa-check"></i><b>6.2</b> Generating random numbers</a></li>
<li class="chapter" data-level="6.3" data-path="mod-vba-random-numbers.html"><a href="mod-vba-random-numbers.html#vba-simulation"><i class="fa fa-check"></i><b>6.3</b> Simulation</a><ul>
<li class="chapter" data-level="6.3.1" data-path="mod-vba-random-numbers.html"><a href="mod-vba-random-numbers.html#sec-vba-tsp"><i class="fa fa-check"></i><b>6.3.1</b> Example - Traveling salesman problem</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="mod-vba-random-numbers.html"><a href="mod-vba-random-numbers.html#recap-3"><i class="fa fa-check"></i><b>6.4</b> Recap</a></li>
<li class="chapter" data-level="6.5" data-path="mod-vba-random-numbers.html"><a href="mod-vba-random-numbers.html#ex-vba-random-numbers"><i class="fa fa-check"></i><b>6.5</b> Exercises</a><ul>
<li class="chapter" data-level="6.5.1" data-path="mod-vba-random-numbers.html"><a href="mod-vba-random-numbers.html#ex-vba-random-int"><i class="fa fa-check"></i><b>6.5.1</b> Exercise - Two random integers</a></li>
<li class="chapter" data-level="6.5.2" data-path="mod-vba-random-numbers.html"><a href="mod-vba-random-numbers.html#ex-vba-swap"><i class="fa fa-check"></i><b>6.5.2</b> Exercise - Swap entries</a></li>
<li class="chapter" data-level="6.5.3" data-path="mod-vba-random-numbers.html"><a href="mod-vba-random-numbers.html#ex-vba-bakery"><i class="fa fa-check"></i><b>6.5.3</b> Exercise - Dan’s bakery</a></li>
<li class="chapter" data-level="6.5.4" data-path="mod-vba-random-numbers.html"><a href="mod-vba-random-numbers.html#ex-vba-generate"><i class="fa fa-check"></i><b>6.5.4</b> Exercise - Generating random numbers</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II R</b></span></li>
<li class="chapter" data-level="7" data-path="mod-r-install.html"><a href="mod-r-install.html"><i class="fa fa-check"></i><b>7</b> Setting up R</a><ul>
<li class="chapter" data-level="7.1" data-path="mod-r-install.html"><a href="mod-r-install.html#lo-r-install"><i class="fa fa-check"></i><b>7.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="7.2" data-path="mod-r-install.html"><a href="mod-r-install.html#r-install"><i class="fa fa-check"></i><b>7.2</b> Install R and RStudio</a><ul>
<li class="chapter" data-level="7.2.1" data-path="mod-r-install.html"><a href="mod-r-install.html#test-your-installation"><i class="fa fa-check"></i><b>7.2.1</b> Test your installation</a></li>
<li class="chapter" data-level="7.2.2" data-path="mod-r-install.html"><a href="mod-r-install.html#add-on-packages"><i class="fa fa-check"></i><b>7.2.2</b> Add-on packages</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="mod-r-install.html"><a href="mod-r-install.html#r-cloud"><i class="fa fa-check"></i><b>7.3</b> Setup and test RStudio Cloud</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="mod-r-workflow.html"><a href="mod-r-workflow.html"><i class="fa fa-check"></i><b>8</b> R basics and workflows</a><ul>
<li class="chapter" data-level="8.1" data-path="mod-r-workflow.html"><a href="mod-r-workflow.html#lo-r-workflow"><i class="fa fa-check"></i><b>8.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="8.2" data-path="mod-r-workflow.html"><a href="mod-r-workflow.html#working-with-r-at-the-command-line-in-rstudio"><i class="fa fa-check"></i><b>8.2</b> Working with R at the command line in RStudio</a></li>
<li class="chapter" data-level="8.3" data-path="mod-r-workflow.html"><a href="mod-r-workflow.html#your-first-datacamp-course"><i class="fa fa-check"></i><b>8.3</b> Your first DataCamp course</a></li>
<li class="chapter" data-level="8.4" data-path="mod-r-workflow.html"><a href="mod-r-workflow.html#pipes"><i class="fa fa-check"></i><b>8.4</b> Pipes</a></li>
<li class="chapter" data-level="8.5" data-path="mod-r-workflow.html"><a href="mod-r-workflow.html#rprojs"><i class="fa fa-check"></i><b>8.5</b> RStudio projects</a><ul>
<li class="chapter" data-level="8.5.1" data-path="mod-r-workflow.html"><a href="mod-r-workflow.html#storing-your-code-in-a-script-file"><i class="fa fa-check"></i><b>8.5.1</b> Storing your code in a script file</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="mod-r-workflow.html"><a href="mod-r-workflow.html#rc-r-workflow"><i class="fa fa-check"></i><b>8.6</b> Recap</a></li>
<li class="chapter" data-level="8.7" data-path="mod-r-workflow.html"><a href="mod-r-workflow.html#ex-r-workflow"><i class="fa fa-check"></i><b>8.7</b> Exercises</a><ul>
<li class="chapter" data-level="8.7.1" data-path="mod-r-workflow.html"><a href="mod-r-workflow.html#exercise-group-work"><i class="fa fa-check"></i><b>8.7.1</b> Exercise (group work)</a></li>
<li class="chapter" data-level="8.7.2" data-path="mod-r-workflow.html"><a href="mod-r-workflow.html#exercise-piping"><i class="fa fa-check"></i><b>8.7.2</b> Exercise (piping)</a></li>
<li class="chapter" data-level="8.7.3" data-path="mod-r-workflow.html"><a href="mod-r-workflow.html#exercise-working-dir"><i class="fa fa-check"></i><b>8.7.3</b> Exercise (working dir)</a></li>
<li class="chapter" data-level="8.7.4" data-path="mod-r-workflow.html"><a href="mod-r-workflow.html#exercise-vectors"><i class="fa fa-check"></i><b>8.7.4</b> Exercise (vectors)</a></li>
<li class="chapter" data-level="8.7.5" data-path="mod-r-workflow.html"><a href="mod-r-workflow.html#exercise-matrices"><i class="fa fa-check"></i><b>8.7.5</b> Exercise (matrices)</a></li>
<li class="chapter" data-level="8.7.6" data-path="mod-r-workflow.html"><a href="mod-r-workflow.html#exercise-data-frames"><i class="fa fa-check"></i><b>8.7.6</b> Exercise (data frames)</a></li>
<li class="chapter" data-level="8.7.7" data-path="mod-r-workflow.html"><a href="mod-r-workflow.html#exercise-lists"><i class="fa fa-check"></i><b>8.7.7</b> Exercise (lists)</a></li>
<li class="chapter" data-level="8.7.8" data-path="mod-r-workflow.html"><a href="mod-r-workflow.html#ex-strings"><i class="fa fa-check"></i><b>8.7.8</b> Exercise (string management)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="mod-r-loops-cond.html"><a href="mod-r-loops-cond.html"><i class="fa fa-check"></i><b>9</b> Loops and conditionals</a><ul>
<li class="chapter" data-level="9.1" data-path="mod-r-loops-cond.html"><a href="mod-r-loops-cond.html#lo-loops"><i class="fa fa-check"></i><b>9.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="9.2" data-path="mod-r-loops-cond.html"><a href="mod-r-loops-cond.html#r-dc-loops-cond"><i class="fa fa-check"></i><b>9.2</b> Conditionals and control flow</a></li>
<li class="chapter" data-level="9.3" data-path="mod-r-loops-cond.html"><a href="mod-r-loops-cond.html#r-loops"><i class="fa fa-check"></i><b>9.3</b> Loops</a></li>
<li class="chapter" data-level="9.4" data-path="mod-r-loops-cond.html"><a href="mod-r-loops-cond.html#rc-r-loops-cond"><i class="fa fa-check"></i><b>9.4</b> Recap</a></li>
<li class="chapter" data-level="9.5" data-path="mod-r-loops-cond.html"><a href="mod-r-loops-cond.html#ex-r-loops-cond"><i class="fa fa-check"></i><b>9.5</b> Exercises</a><ul>
<li class="chapter" data-level="9.5.1" data-path="mod-r-loops-cond.html"><a href="mod-r-loops-cond.html#ex-r-conditional-expressions"><i class="fa fa-check"></i><b>9.5.1</b> Exercise (conditional expressions)</a></li>
<li class="chapter" data-level="9.5.2" data-path="mod-r-loops-cond.html"><a href="mod-r-loops-cond.html#ex-r-loops"><i class="fa fa-check"></i><b>9.5.2</b> Exercise (loops)</a></li>
<li class="chapter" data-level="9.5.3" data-path="mod-r-loops-cond.html"><a href="mod-r-loops-cond.html#ex-r-search-vector"><i class="fa fa-check"></i><b>9.5.3</b> Exercise (search vector)</a></li>
<li class="chapter" data-level="9.5.4" data-path="mod-r-loops-cond.html"><a href="mod-r-loops-cond.html#ex-dist"><i class="fa fa-check"></i><b>9.5.4</b> Exercise (calculating distances)</a></li>
<li class="chapter" data-level="9.5.5" data-path="mod-r-loops-cond.html"><a href="mod-r-loops-cond.html#ex-r-expand"><i class="fa fa-check"></i><b>9.5.5</b> Exercise (expand_grid)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="mod-r-functions.html"><a href="mod-r-functions.html"><i class="fa fa-check"></i><b>10</b> Functions</a><ul>
<li class="chapter" data-level="10.1" data-path="mod-r-functions.html"><a href="mod-r-functions.html#lo-r-functions"><i class="fa fa-check"></i><b>10.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="10.2" data-path="mod-r-functions.html"><a href="mod-r-functions.html#r-dc-functions"><i class="fa fa-check"></i><b>10.2</b> DataCamp course</a></li>
<li class="chapter" data-level="10.3" data-path="mod-r-functions.html"><a href="mod-r-functions.html#r-functions-extra"><i class="fa fa-check"></i><b>10.3</b> Functions returning multiple objects</a></li>
<li class="chapter" data-level="10.4" data-path="mod-r-functions.html"><a href="mod-r-functions.html#r-functions-arg"><i class="fa fa-check"></i><b>10.4</b> The <code>...</code> argument</a></li>
<li class="chapter" data-level="10.5" data-path="mod-r-functions.html"><a href="mod-r-functions.html#r-functions-doc"><i class="fa fa-check"></i><b>10.5</b> Documenting your functions</a></li>
<li class="chapter" data-level="10.6" data-path="mod-r-functions.html"><a href="mod-r-functions.html#example---job-sequencing"><i class="fa fa-check"></i><b>10.6</b> Example - Job sequencing</a></li>
<li class="chapter" data-level="10.7" data-path="mod-r-functions.html"><a href="mod-r-functions.html#rc-functions"><i class="fa fa-check"></i><b>10.7</b> Recap</a></li>
<li class="chapter" data-level="10.8" data-path="mod-r-functions.html"><a href="mod-r-functions.html#ex-r-functions"><i class="fa fa-check"></i><b>10.8</b> Exercises</a><ul>
<li class="chapter" data-level="10.8.1" data-path="mod-r-functions.html"><a href="mod-r-functions.html#ex-r-def-func"><i class="fa fa-check"></i><b>10.8.1</b> Exercise (defining functions)</a></li>
<li class="chapter" data-level="10.8.2" data-path="mod-r-functions.html"><a href="mod-r-functions.html#ex-r-euclidean-distances"><i class="fa fa-check"></i><b>10.8.2</b> Exercise (euclidean distances)</a></li>
<li class="chapter" data-level="10.8.3" data-path="mod-r-functions.html"><a href="mod-r-functions.html#exercise-scope"><i class="fa fa-check"></i><b>10.8.3</b> Exercise (scope)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="mod-r-tidyverse-intro.html"><a href="mod-r-tidyverse-intro.html"><i class="fa fa-check"></i><b>11</b> Introduction to tidyverse and RMarkdown</a><ul>
<li class="chapter" data-level="11.1" data-path="mod-r-tidyverse-intro.html"><a href="mod-r-tidyverse-intro.html#lo-tidyverse-intro"><i class="fa fa-check"></i><b>11.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="11.2" data-path="mod-r-tidyverse-intro.html"><a href="mod-r-tidyverse-intro.html#r-tidyverse-intro"><i class="fa fa-check"></i><b>11.2</b> The tidyverse package</a></li>
<li class="chapter" data-level="11.3" data-path="mod-r-tidyverse-intro.html"><a href="mod-r-tidyverse-intro.html#r-markdown-intro"><i class="fa fa-check"></i><b>11.3</b> Writing reproducible reports</a></li>
<li class="chapter" data-level="11.4" data-path="mod-r-tidyverse-intro.html"><a href="mod-r-tidyverse-intro.html#r-tibbles-intro"><i class="fa fa-check"></i><b>11.4</b> Tibbles</a></li>
<li class="chapter" data-level="11.5" data-path="mod-r-tidyverse-intro.html"><a href="mod-r-tidyverse-intro.html#rc-tidyverse-intro"><i class="fa fa-check"></i><b>11.5</b> Recap</a></li>
<li class="chapter" data-level="11.6" data-path="mod-r-tidyverse-intro.html"><a href="mod-r-tidyverse-intro.html#ex-tidyverse-intro"><i class="fa fa-check"></i><b>11.6</b> Exercises</a><ul>
<li class="chapter" data-level="11.6.1" data-path="mod-r-tidyverse-intro.html"><a href="mod-r-tidyverse-intro.html#exercise-your-first-rmarkdown-exercise"><i class="fa fa-check"></i><b>11.6.1</b> Exercise (your first RMarkdown exercise)</a></li>
<li class="chapter" data-level="11.6.2" data-path="mod-r-tidyverse-intro.html"><a href="mod-r-tidyverse-intro.html#exercise-tibbles"><i class="fa fa-check"></i><b>11.6.2</b> Exercise (tibbles)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="mod-r-io.html"><a href="mod-r-io.html"><i class="fa fa-check"></i><b>12</b> Importing and exporting data</a><ul>
<li class="chapter" data-level="12.1" data-path="mod-r-io.html"><a href="mod-r-io.html#lo-r-io"><i class="fa fa-check"></i><b>12.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="12.2" data-path="mod-r-io.html"><a href="mod-r-io.html#r-io-csv"><i class="fa fa-check"></i><b>12.2</b> CSV files</a><ul>
<li class="chapter" data-level="12.2.1" data-path="mod-r-io.html"><a href="mod-r-io.html#reading-a-csv-file"><i class="fa fa-check"></i><b>12.2.1</b> Reading a CSV file</a></li>
<li class="chapter" data-level="12.2.2" data-path="mod-r-io.html"><a href="mod-r-io.html#writing-to-csv-files"><i class="fa fa-check"></i><b>12.2.2</b> Writing to CSV files</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="mod-r-io.html"><a href="mod-r-io.html#r-io-excel"><i class="fa fa-check"></i><b>12.3</b> Excel</a></li>
<li class="chapter" data-level="12.4" data-path="mod-r-io.html"><a href="mod-r-io.html#r-io-google"><i class="fa fa-check"></i><b>12.4</b> Google Sheets</a></li>
<li class="chapter" data-level="12.5" data-path="mod-r-io.html"><a href="mod-r-io.html#r-io-text"><i class="fa fa-check"></i><b>12.5</b> Text files</a></li>
<li class="chapter" data-level="12.6" data-path="mod-r-io.html"><a href="mod-r-io.html#r-io-r"><i class="fa fa-check"></i><b>12.6</b> R’s native binary format</a></li>
<li class="chapter" data-level="12.7" data-path="mod-r-io.html"><a href="mod-r-io.html#r-io-json"><i class="fa fa-check"></i><b>12.7</b> Json</a></li>
<li class="chapter" data-level="12.8" data-path="mod-r-io.html"><a href="mod-r-io.html#rc-r-io"><i class="fa fa-check"></i><b>12.8</b> Recap</a></li>
<li class="chapter" data-level="12.9" data-path="mod-r-io.html"><a href="mod-r-io.html#ex-r-io"><i class="fa fa-check"></i><b>12.9</b> Exercises</a><ul>
<li class="chapter" data-level="12.9.1" data-path="mod-r-io.html"><a href="mod-r-io.html#exercise-statistikbanken"><i class="fa fa-check"></i><b>12.9.1</b> Exercise (Statistikbanken)</a></li>
<li class="chapter" data-level="12.9.2" data-path="mod-r-io.html"><a href="mod-r-io.html#exercise-tuples-in-opl"><i class="fa fa-check"></i><b>12.9.2</b> Exercise (tuples in OPL)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="mod-r-transform.html"><a href="mod-r-transform.html"><i class="fa fa-check"></i><b>13</b> Transforming data</a><ul>
<li class="chapter" data-level="13.1" data-path="mod-r-transform.html"><a href="mod-r-transform.html#lo-r-transform"><i class="fa fa-check"></i><b>13.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="13.2" data-path="mod-r-transform.html"><a href="mod-r-transform.html#r-transform-tidyverse"><i class="fa fa-check"></i><b>13.2</b> Working with data in the tidyverse</a></li>
<li class="chapter" data-level="13.3" data-path="mod-r-transform.html"><a href="mod-r-transform.html#r-transform-joins"><i class="fa fa-check"></i><b>13.3</b> Mutating joins</a></li>
<li class="chapter" data-level="13.4" data-path="mod-r-transform.html"><a href="mod-r-transform.html#rc-r-transform"><i class="fa fa-check"></i><b>13.4</b> Recap</a></li>
<li class="chapter" data-level="13.5" data-path="mod-r-transform.html"><a href="mod-r-transform.html#ex-r-transform"><i class="fa fa-check"></i><b>13.5</b> Exercises</a><ul>
<li class="chapter" data-level="13.5.1" data-path="mod-r-transform.html"><a href="mod-r-transform.html#ex-gapminder1"><i class="fa fa-check"></i><b>13.5.1</b> Exercise (gapminder)</a></li>
<li class="chapter" data-level="13.5.2" data-path="mod-r-transform.html"><a href="mod-r-transform.html#ex-babynames1"><i class="fa fa-check"></i><b>13.5.2</b> Exercise (babynames)</a></li>
<li class="chapter" data-level="13.5.3" data-path="mod-r-transform.html"><a href="mod-r-transform.html#ex-profit1"><i class="fa fa-check"></i><b>13.5.3</b> Exercise (profit)</a></li>
<li class="chapter" data-level="13.5.4" data-path="mod-r-transform.html"><a href="mod-r-transform.html#ex-fish"><i class="fa fa-check"></i><b>13.5.4</b> Exercise (fisheries)</a></li>
<li class="chapter" data-level="13.5.5" data-path="mod-r-transform.html"><a href="mod-r-transform.html#ex-company"><i class="fa fa-check"></i><b>13.5.5</b> Exercise (company ranking)</a></li>
<li class="chapter" data-level="13.5.6" data-path="mod-r-transform.html"><a href="mod-r-transform.html#ex-titanic"><i class="fa fa-check"></i><b>13.5.6</b> Exercise (Titanic)</a></li>
<li class="chapter" data-level="13.5.7" data-path="mod-r-transform.html"><a href="mod-r-transform.html#ex-r-covid"><i class="fa fa-check"></i><b>13.5.7</b> Exercise (covid)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="mod-r-plot.html"><a href="mod-r-plot.html"><i class="fa fa-check"></i><b>14</b> Data visualization using ggplot</a><ul>
<li class="chapter" data-level="14.1" data-path="mod-r-plot.html"><a href="mod-r-plot.html#lo-plot"><i class="fa fa-check"></i><b>14.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="14.2" data-path="mod-r-plot.html"><a href="mod-r-plot.html#r-plot-intro"><i class="fa fa-check"></i><b>14.2</b> Introduction to data visualization</a></li>
<li class="chapter" data-level="14.3" data-path="mod-r-plot.html"><a href="mod-r-plot.html#r-plot-multi"><i class="fa fa-check"></i><b>14.3</b> Combining plots into one using <em>patchwork</em></a></li>
<li class="chapter" data-level="14.4" data-path="mod-r-plot.html"><a href="mod-r-plot.html#r-plot-save"><i class="fa fa-check"></i><b>14.4</b> Saving graphics</a></li>
<li class="chapter" data-level="14.5" data-path="mod-r-plot.html"><a href="mod-r-plot.html#rc-r-plot"><i class="fa fa-check"></i><b>14.5</b> Recap</a></li>
<li class="chapter" data-level="14.6" data-path="mod-r-plot.html"><a href="mod-r-plot.html#ex-r-plot"><i class="fa fa-check"></i><b>14.6</b> Exercises</a><ul>
<li class="chapter" data-level="14.6.1" data-path="mod-r-plot.html"><a href="mod-r-plot.html#ex-gapminder2"><i class="fa fa-check"></i><b>14.6.1</b> Exercise (gapminder)</a></li>
<li class="chapter" data-level="14.6.2" data-path="mod-r-plot.html"><a href="mod-r-plot.html#ex-profit2"><i class="fa fa-check"></i><b>14.6.2</b> Exercise (profit)</a></li>
<li class="chapter" data-level="14.6.3" data-path="mod-r-plot.html"><a href="mod-r-plot.html#ex-covid19"><i class="fa fa-check"></i><b>14.6.3</b> Exercise (COVID-19)</a></li>
<li class="chapter" data-level="14.6.4" data-path="mod-r-plot.html"><a href="mod-r-plot.html#ex-lego"><i class="fa fa-check"></i><b>14.6.4</b> Exercise (Lego and sales)</a></li>
<li class="chapter" data-level="14.6.5" data-path="mod-r-plot.html"><a href="mod-r-plot.html#ex-company-plot"><i class="fa fa-check"></i><b>14.6.5</b> Exercise (company ranking)</a></li>
<li class="chapter" data-level="14.6.6" data-path="mod-r-plot.html"><a href="mod-r-plot.html#ex-titanic-plot"><i class="fa fa-check"></i><b>14.6.6</b> Exercise (Titanic)</a></li>
<li class="chapter" data-level="14.6.7" data-path="mod-r-plot.html"><a href="mod-r-plot.html#ex-r-covid-plot"><i class="fa fa-check"></i><b>14.6.7</b> Exercise (covid)</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Extra R</b></span></li>
<li class="chapter" data-level="15" data-path="mod-r-dist-fit.html"><a href="mod-r-dist-fit.html"><i class="fa fa-check"></i><b>15</b> Fitting probability distributions</a><ul>
<li class="chapter" data-level="15.1" data-path="mod-r-dist-fit.html"><a href="mod-r-dist-fit.html#lo-r-dist-fit"><i class="fa fa-check"></i><b>15.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="15.2" data-path="mod-r-dist-fit.html"><a href="mod-r-dist-fit.html#sec-r-dist-fit-intro"><i class="fa fa-check"></i><b>15.2</b> Introduction</a></li>
<li class="chapter" data-level="15.3" data-path="mod-r-dist-fit.html"><a href="mod-r-dist-fit.html#sec-r-dist-fit-cont"><i class="fa fa-check"></i><b>15.3</b> Fitting distributions to continuous data</a><ul>
<li class="chapter" data-level="15.3.1" data-path="mod-r-dist-fit.html"><a href="mod-r-dist-fit.html#example-breakdown-times"><i class="fa fa-check"></i><b>15.3.1</b> Example: breakdown times</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="mod-r-dist-fit.html"><a href="mod-r-dist-fit.html#sec-r-dist-fit-discrete"><i class="fa fa-check"></i><b>15.4</b> Fitting distributions to discrete data</a><ul>
<li class="chapter" data-level="15.4.1" data-path="mod-r-dist-fit.html"><a href="mod-r-dist-fit.html#example-sales-of-lottery-tickets"><i class="fa fa-check"></i><b>15.4.1</b> Example: sales of lottery tickets</a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="mod-r-dist-fit.html"><a href="mod-r-dist-fit.html#sec-dist-fit-pois"><i class="fa fa-check"></i><b>15.5</b> The Poisson process</a></li>
<li class="chapter" data-level="15.6" data-path="mod-r-dist-fit.html"><a href="mod-r-dist-fit.html#rc-r-dist-fit"><i class="fa fa-check"></i><b>15.6</b> Recap</a></li>
<li class="chapter" data-level="15.7" data-path="mod-r-dist-fit.html"><a href="mod-r-dist-fit.html#ex-r-dist-fit"><i class="fa fa-check"></i><b>15.7</b> Exercises</a><ul>
<li class="chapter" data-level="15.7.1" data-path="mod-r-dist-fit.html"><a href="mod-r-dist-fit.html#exercise---call-center"><i class="fa fa-check"></i><b>15.7.1</b> Exercise - Call center</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="mod-r-maps.html"><a href="mod-r-maps.html"><i class="fa fa-check"></i><b>16</b> Spatial data and maps</a><ul>
<li class="chapter" data-level="16.1" data-path="mod-r-maps.html"><a href="mod-r-maps.html#lo-maps"><i class="fa fa-check"></i><b>16.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="16.2" data-path="mod-r-maps.html"><a href="mod-r-maps.html#sec-map-api-key"><i class="fa fa-check"></i><b>16.2</b> Services for obtatining spatial data</a></li>
<li class="chapter" data-level="16.3" data-path="mod-r-maps.html"><a href="mod-r-maps.html#calculating-distances"><i class="fa fa-check"></i><b>16.3</b> Calculating distances</a><ul>
<li class="chapter" data-level="16.3.1" data-path="mod-r-maps.html"><a href="mod-r-maps.html#using-google-maps"><i class="fa fa-check"></i><b>16.3.1</b> Using Google Maps</a></li>
<li class="chapter" data-level="16.3.2" data-path="mod-r-maps.html"><a href="mod-r-maps.html#using-bing-maps"><i class="fa fa-check"></i><b>16.3.2</b> Using Bing Maps</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="mod-r-maps.html"><a href="mod-r-maps.html#geocoding-and-reverse-geocoding"><i class="fa fa-check"></i><b>16.4</b> Geocoding and reverse geocoding</a><ul>
<li class="chapter" data-level="16.4.1" data-path="mod-r-maps.html"><a href="mod-r-maps.html#using-google-maps-1"><i class="fa fa-check"></i><b>16.4.1</b> Using Google maps</a></li>
<li class="chapter" data-level="16.4.2" data-path="mod-r-maps.html"><a href="mod-r-maps.html#use-bing-maps"><i class="fa fa-check"></i><b>16.4.2</b> Use Bing Maps</a></li>
</ul></li>
<li class="chapter" data-level="16.5" data-path="mod-r-maps.html"><a href="mod-r-maps.html#adding-markers-and-routes-to-a-map"><i class="fa fa-check"></i><b>16.5</b> Adding markers and routes to a map</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="groups.html"><a href="groups.html"><i class="fa fa-check"></i><b>A</b> Working in groups</a><ul>
<li class="chapter" data-level="" data-path="groups.html"><a href="groups.html#using-git"><i class="fa fa-check"></i>Using Git together with GitHub</a><ul>
<li class="chapter" data-level="" data-path="groups.html"><a href="groups.html#register-a-free-github-account"><i class="fa fa-check"></i>Register a free GitHub account</a></li>
<li class="chapter" data-level="" data-path="groups.html"><a href="groups.html#install-git"><i class="fa fa-check"></i>Install Git</a></li>
<li class="chapter" data-level="" data-path="groups.html"><a href="groups.html#check-your-installation"><i class="fa fa-check"></i>Check your installation</a></li>
<li class="chapter" data-level="" data-path="groups.html"><a href="groups.html#setup-projects-using-git-and-github"><i class="fa fa-check"></i>Setup projects using Git and GitHub</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="B" data-path="annotate.html"><a href="annotate.html"><i class="fa fa-check"></i><b>B</b> Annotate the course notes</a></li>
<li class="chapter" data-level="C" data-path="help.html"><a href="help.html"><i class="fa fa-check"></i><b>C</b> Getting help</a></li>
<li class="chapter" data-level="D" data-path="coding-convention.html"><a href="coding-convention.html"><i class="fa fa-check"></i><b>D</b> Coding/naming convention</a><ul>
<li class="chapter" data-level="D.1" data-path="coding-convention.html"><a href="coding-convention.html#commenting-your-code"><i class="fa fa-check"></i><b>D.1</b> Commenting your code</a></li>
</ul></li>
<li class="chapter" data-level="E" data-path="apdx-vba.html"><a href="apdx-vba.html"><i class="fa fa-check"></i><b>E</b> VBA specific topics</a><ul>
<li class="chapter" data-level="E.1" data-path="apdx-vba.html"><a href="apdx-vba.html#vba-debug"><i class="fa fa-check"></i><b>E.1</b> Debugging your code</a></li>
<li class="chapter" data-level="E.2" data-path="apdx-vba.html"><a href="apdx-vba.html#error-handling"><i class="fa fa-check"></i><b>E.2</b> Error handling</a></li>
<li class="chapter" data-level="E.3" data-path="apdx-vba.html"><a href="apdx-vba.html#vba-course-procedures"><i class="fa fa-check"></i><b>E.3</b> Course procedures</a></li>
</ul></li>
<li class="chapter" data-level="F" data-path="lg-course.html"><a href="lg-course.html"><i class="fa fa-check"></i><b>F</b> Learning goals</a></li>
<li class="chapter" data-level="G" data-path="ba.html"><a href="ba.html"><i class="fa fa-check"></i><b>G</b> Business Analytics</a></li>
<li class="chapter" data-level="H" data-path="colophon.html"><a href="colophon.html"><i class="fa fa-check"></i><b>H</b> Colophon</a></li>
<li class="divider"></li>
<li><center>
  <a rel="license" href="./index.html#ack">
    License: CC BY-NC-SA<br>
    <i class = "fab fa-creative-commons fa-2x"></i>
    <i class = "fab fa-creative-commons-by fa-2x"></i>
    <i class = "fab fa-creative-commons-nc fa-2x"></i>
    <i class = "fab fa-creative-commons-sa fa-2x"></i>
  </a>
</li></center>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Tools for Analytics (TFA)</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="mod-r-io" class="section level1 hasAnchor">
<h1><span class="header-section-number">Module 12</span> Importing and exporting data<a href="mod-r-io.html#mod-r-io" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>For doing data driven analytics, you first must <strong>import</strong> some data. That is, take data from a database, file, web API etc. and transform it into a data frame/table. Moreover, after processing data, you often want to export or store some of the results. This module introduces you to different ways of importing and exporting data.</p>
<p>A template project for this module is given on [RStudio Cloud][r-cloud-mod12] (open it and use it while reading the notes).</p>
<div id="learning-path-diagram-11" class="section level4 unnumbered hasAnchor">
<h4>Learning path diagram<a href="mod-r-io.html#learning-path-diagram-11" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div id="htmlwidget-92bc01968f64d0d2c052" style="width:1000px;height:480px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-92bc01968f64d0d2c052">{"x":{"diagram":"digraph {\n\ngraph [layout = \"neato\",\n       outputorder = \"edgesfirst\",\n       bgcolor = \"white\"]\n\nnode [fontname = \"Helvetica\",\n      fontsize = \"10\",\n      shape = \"circle\",\n      fixedsize = \"true\",\n      width = \"0.5\",\n      style = \"filled\",\n      fillcolor = \"aliceblue\",\n      color = \"gray70\",\n      fontcolor = \"gray50\"]\n\nedge [fontname = \"Helvetica\",\n     fontsize = \"8\",\n     len = \"1.5\",\n     color = \"gray80\",\n     arrowsize = \"0.5\"]\n\n  \"1\" [label = \"📖 CSV files\", URL = \"#r-io-csv\", tooltip = \"CSV files\", style = \"filled\", fixedsize = \"FALSE\", fontsize = \"11\", fontcolor = \"white\", penwidth = \"2\", fontname = \"Helvetica-bold\", shape = \"rect\", margin = \"0.2\", width = \"0.5\", fillcolor = \"DarkSeaGreen4\", pos = \"0,2!\"] \n  \"2\" [label = \"📖 Excel\", URL = \"#r-io-excel\", tooltip = \"Excel\", style = \"filled\", fixedsize = \"FALSE\", fontsize = \"11\", fontcolor = \"white\", penwidth = \"2\", fontname = \"Helvetica-bold\", shape = \"rect\", margin = \"0.2\", width = \"0.5\", fillcolor = \"PeachPuff3\", pos = \"2,2!\"] \n  \"3\" [label = \"📖 Google\\nsheets\", URL = \"#r-io-google\", tooltip = \"Google\\nsheets\", style = \"filled\", fixedsize = \"FALSE\", fontsize = \"11\", fontcolor = \"white\", penwidth = \"2\", fontname = \"Helvetica-bold\", shape = \"rect\", margin = \"0.2\", width = \"0.5\", fillcolor = \"PeachPuff3\", pos = \"4,2!\"] \n  \"4\" [label = \"📖 Text\\nfiles\", URL = \"#r-io-text\", tooltip = \"Text\\nfiles\", style = \"filled\", fixedsize = \"FALSE\", fontsize = \"11\", fontcolor = \"white\", penwidth = \"2\", fontname = \"Helvetica-bold\", shape = \"rect\", margin = \"0.2\", width = \"0.5\", fillcolor = \"PeachPuff3\", pos = \"6,2!\"] \n  \"5\" [label = \"📖 R\", URL = \"#r-io-r\", tooltip = \"Rs native binary format\", style = \"filled\", fixedsize = \"FALSE\", fontsize = \"11\", fontcolor = \"white\", penwidth = \"2\", fontname = \"Helvetica-bold\", shape = \"rect\", margin = \"0.2\", width = \"0.5\", fillcolor = \"PeachPuff3\", pos = \"7.5,2!\"] \n  \"6\" [label = \"📖 Json\", URL = \"#r-io-json\", tooltip = \"Json\", style = \"filled\", fixedsize = \"FALSE\", fontsize = \"11\", fontcolor = \"white\", penwidth = \"2\", fontname = \"Helvetica-bold\", shape = \"rect\", margin = \"0.2\", width = \"0.5\", fillcolor = \"PeachPuff3\", pos = \"9,2!\"] \n  \"7\" [label = \"💻 Exercises\", URL = \"#ex-r-io\", tooltip = \"Exercises\", style = \"filled\", fixedsize = \"FALSE\", fontsize = \"11\", fontcolor = \"white\", penwidth = \"2\", fontname = \"Helvetica-bold\", shape = \"egg\", margin = \"0.2\", width = \"0.5\", fillcolor = \"PeachPuff3\", pos = \"11,2!\"] \n  \"8\" [label = \"📖 Importing\\ndata\", URL = \"https://rafalab.github.io/dsbook/importing-data.html\", tooltip = \"Chapter 5 in Irizarry (2020) gives an alternative introduction to importing data.\", style = \"filled\", fixedsize = \"FALSE\", fontsize = \"11\", fontcolor = \"white\", penwidth = \"2\", fontname = \"Helvetica-bold\", shape = \"rect\", margin = \"0.2\", width = \"0.5\", fillcolor = \"PeachPuff3\", pos = \"4,0!\"] \n  \"9\" [label = \"\", URL = \"\", tooltip = \" \", style = \"filled\", fixedsize = \"true\", fontsize = \"9\", fontcolor = \"white\", penwidth = \"0.5\", fontname = \"Helvetica\", shape = \"rect\", height = \"1\", width = \"6\", fillcolor = \"#F0F8FF\", pos = \"2.4,3.66!\"] \n  \"10\" [label = \"Color:\", URL = \"\", tooltip = \" \", style = \"filled\", fixedsize = \"true\", fontsize = \"9\", fontcolor = \"black\", penwidth = \"0\", fontname = \"Helvetica\", shape = \"none\", height = \"0\", width = \"0.8\", fillcolor = \"#FFFFFE\", pos = \"-0.23,4!\"] \n  \"11\" [label = \"mandatory\", URL = \"\", tooltip = \"Mandatory syllabus.\", style = \"filled\", fixedsize = \"true\", fontsize = \"9\", fontcolor = \"white\", penwidth = \"2\", fontname = \"Helvetica\", shape = \"rect\", width = \"0.8\", fillcolor = \"DarkSeaGreen4\", pos = \"0,3.6!\"] \n  \"12\" [label = \"alternative\", URL = \"\", tooltip = \"Alternative syllabus if you prefer another learning style.\", style = \"filled\", fixedsize = \"true\", fontsize = \"9\", fontcolor = \"white\", penwidth = \"2\", fontname = \"Helvetica\", shape = \"rect\", width = \"0.8\", fillcolor = \"DarkOrange4\", pos = \"1,3.6!\"] \n  \"13\" [label = \"extra\", URL = \"\", tooltip = \"Extra learning if you are interested (not part of syllabus).\", style = \"filled\", fixedsize = \"true\", fontsize = \"9\", fontcolor = \"white\", penwidth = \"2\", fontname = \"Helvetica\", shape = \"rect\", width = \"0.8\", fillcolor = \"PeachPuff3\", pos = \"2,3.6!\"] \n  \"14\" [label = \"Shape:\", URL = \"\", tooltip = \" \", style = \"filled\", fixedsize = \"true\", fontsize = \"9\", fontcolor = \"black\", penwidth = \"0\", fontname = \"Helvetica\", shape = \"none\", height = \"0\", width = \"1\", fillcolor = \"#FFFFFE\", pos = \"3.2,4!\"] \n  \"15\" [label = \"non-interactive\", URL = \"\", tooltip = \"Non-interactive learning content (e.g. reading).\", style = \"filled\", fixedsize = \"true\", fontsize = \"9\", fontcolor = \"white\", penwidth = \"2\", fontname = \"Helvetica\", shape = \"rect\", width = \"1\", fillcolor = \"Grey40\", pos = \"3.5,3.6!\"] \n  \"16\" [label = \"interactive\", URL = \"\", tooltip = \"Interactive learning content (tutorial, exercises etc.).\", style = \"filled\", fixedsize = \"true\", fontsize = \"9\", fontcolor = \"white\", penwidth = \"2\", fontname = \"Helvetica\", shape = \"egg\", width = \"1\", fillcolor = \"Grey40\", pos = \"4.75,3.6!\"] \n\"1\"->\"2\" [color = \"black\", arrowhead = \"vee\"] \n\"1\"->\"8\" [color = \"black\", arrowhead = \"vee\"] \n\"2\"->\"3\" [color = \"black\", arrowhead = \"vee\"] \n\"2\"->\"8\" [color = \"black\", arrowhead = \"vee\"] \n\"3\"->\"4\" [color = \"black\", arrowhead = \"vee\"] \n\"4\"->\"5\" [color = \"black\", arrowhead = \"vee\"] \n\"4\"->\"8\" [color = \"black\", arrowhead = \"vee\"] \n\"5\"->\"6\" [color = \"black\", arrowhead = \"vee\"] \n\"6\"->\"7\" [color = \"black\", arrowhead = \"vee\"] \n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
<div>It is recommended that you follow the green learning path; however, you may like a different learning style. In the learning path diagram, there are links to alternative online content (video or reading). Note this is an alternative to the standard learning path that you may use instead (you should not do both). The learning path may also have extra content, that is NOT a part of syllabus (only look at it if you want more info)!</div>
<!-- * [Chapter 5](https://rafalab.github.io/dsbook/importing-data.html) in @dsbook gives an alternative introduction to importing data. -->
</div>
<div id="lo-r-io" class="section level2 hasAnchor">
<h2><span class="header-section-number">12.1</span> Learning outcomes<a href="mod-r-io.html#lo-r-io" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>By the end of this module, you are expected to be able to:</p>
<ul>
<li>Import and export csv files in different formats.</li>
<li>Import and export data from Excel.</li>
<li>Import and export data from Google Sheets.</li>
<li>Write to a text file.</li>
<li>Save data using R’s native format.</li>
<li>Read and write to a json file.</li>
</ul>
<p>The learning outcomes relate to the <a href="lg-course.html#lg-course">overall learning goals</a> number 7 and 13 of the course.</p>
<!-- SOLO increasing: identify · memorize · name · do simple procedure · collect data · -->
<!-- enumerate · describe · interpret · formulate · list · paraphrase · combine · do -->
<!-- algorithms · compare · contrast · explain causes · analyse · relate · derive · -->
<!-- evaluate · apply · argue · theorise · generalise · hypothesise · solve · reflect -->
</div>
<div id="r-io-csv" class="section level2 hasAnchor">
<h2><span class="header-section-number">12.2</span> CSV files<a href="mod-r-io.html#r-io-csv" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><a href="https://en.wikipedia.org/wiki/Comma-separated_values">CSV files</a> contain <em>comma separated values</em> (csv) in plain text and are often named using the file suffix <code>.csv</code>. Each line of the file is a data record. Each record consists of one or more fields, separated by a common delimiter (e.g. <code>,</code>, <code>;</code> or <code>_</code>). The CSV file format is not fully standardized. Different delimiters may be used, fields may be surrounded by quotation marks, text may contain escape characters and the encoding of the file may not be known. Despite these problems, CSV files are commonly used since they are easy to exchange and read.</p>
<p>We will use the <a href="https://readr.tidyverse.org/">readr</a> package for reading and writing. An overview over the functions can be seen in the <a href="https://rawgit.com/rstudio/cheatsheets/master/data-import.pdf">cheatsheet</a>.</p>
<div id="reading-a-csv-file" class="section level3 hasAnchor">
<h3><span class="header-section-number">12.2.1</span> Reading a CSV file<a href="mod-r-io.html#reading-a-csv-file" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In general use the following functions</p>
<ul>
<li><code>read_csv</code>: Read a file with delimiter <code>,</code>.
<ul>
<li><code>read_csv2</code>: Read a file with delimiter <code>;</code>.</li>
<li><code>read_delim</code>: Read a file with a delimiter set by you.</li>
</ul></li>
</ul>
<div id="reading-an-unknown-csv-file" class="section level4 hasAnchor">
<h4><span class="header-section-number">12.2.1.1</span> Reading an unknown CSV file<a href="mod-r-io.html#reading-an-unknown-csv-file" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>For importing a CSV file properly, you need to know the delimiter, if the files has headers and the encoding. If you are not sure, you may have a look on the file by opening it in a text editor or try to read some lines:</p>
<div class="sourceCode" id="cb381"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb381-1"><a href="mod-r-io.html#cb381-1"></a>csv_file &lt;-<span class="st"> </span><span class="kw">readr_example</span>(<span class="st">&quot;mtcars.csv&quot;</span>) <span class="co"># csv file</span></span>
<span id="cb381-2"><a href="mod-r-io.html#cb381-2"></a>lines &lt;-<span class="st"> </span><span class="kw">read_lines</span>(csv_file, <span class="dt">n_max =</span> <span class="dv">3</span>)</span>
<span id="cb381-3"><a href="mod-r-io.html#cb381-3"></a>lines</span>
<span id="cb381-4"><a href="mod-r-io.html#cb381-4"></a><span class="co">#&gt; [1] &quot;\&quot;mpg\&quot;,\&quot;cyl\&quot;,\&quot;disp\&quot;,\&quot;hp\&quot;,\&quot;drat\&quot;,\&quot;wt\&quot;,\&quot;qsec\&quot;,\&quot;vs\&quot;,\&quot;am\&quot;,\&quot;gear\&quot;,\&quot;carb\&quot;&quot;</span></span>
<span id="cb381-5"><a href="mod-r-io.html#cb381-5"></a><span class="co">#&gt; [2] &quot;21,6,160,110,3.9,2.62,16.46,0,1,4,4&quot;                                                     </span></span>
<span id="cb381-6"><a href="mod-r-io.html#cb381-6"></a><span class="co">#&gt; [3] &quot;21,6,160,110,3.9,2.875,17.02,0,1,4,4&quot;</span></span>
<span id="cb381-7"><a href="mod-r-io.html#cb381-7"></a><span class="kw">cat</span>(lines, <span class="dt">sep =</span> <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)</span>
<span id="cb381-8"><a href="mod-r-io.html#cb381-8"></a><span class="co">#&gt; &quot;mpg&quot;,&quot;cyl&quot;,&quot;disp&quot;,&quot;hp&quot;,&quot;drat&quot;,&quot;wt&quot;,&quot;qsec&quot;,&quot;vs&quot;,&quot;am&quot;,&quot;gear&quot;,&quot;carb&quot;</span></span>
<span id="cb381-9"><a href="mod-r-io.html#cb381-9"></a><span class="co">#&gt; 21,6,160,110,3.9,2.62,16.46,0,1,4,4</span></span>
<span id="cb381-10"><a href="mod-r-io.html#cb381-10"></a><span class="co">#&gt; 21,6,160,110,3.9,2.875,17.02,0,1,4,4</span></span></code></pre></div>
<p>It seems that the delimiter is a <code>,</code> and we may try to read the file using <code>read_csv</code>:</p>
<div class="sourceCode" id="cb382"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb382-1"><a href="mod-r-io.html#cb382-1"></a>dat &lt;-<span class="st"> </span><span class="kw">read_csv</span>(csv_file)</span>
<span id="cb382-2"><a href="mod-r-io.html#cb382-2"></a><span class="kw">head</span>(dat)</span>
<span id="cb382-3"><a href="mod-r-io.html#cb382-3"></a><span class="co">#&gt; # A tibble: 6 × 11</span></span>
<span id="cb382-4"><a href="mod-r-io.html#cb382-4"></a><span class="co">#&gt;     mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb</span></span>
<span id="cb382-5"><a href="mod-r-io.html#cb382-5"></a><span class="co">#&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span id="cb382-6"><a href="mod-r-io.html#cb382-6"></a><span class="co">#&gt; 1  21       6   160   110  3.9   2.62  16.5     0     1     4     4</span></span>
<span id="cb382-7"><a href="mod-r-io.html#cb382-7"></a><span class="co">#&gt; 2  21       6   160   110  3.9   2.88  17.0     0     1     4     4</span></span>
<span id="cb382-8"><a href="mod-r-io.html#cb382-8"></a><span class="co">#&gt; 3  22.8     4   108    93  3.85  2.32  18.6     1     1     4     1</span></span>
<span id="cb382-9"><a href="mod-r-io.html#cb382-9"></a><span class="co">#&gt; 4  21.4     6   258   110  3.08  3.22  19.4     1     0     3     1</span></span>
<span id="cb382-10"><a href="mod-r-io.html#cb382-10"></a><span class="co">#&gt; 5  18.7     8   360   175  3.15  3.44  17.0     0     0     3     2</span></span>
<span id="cb382-11"><a href="mod-r-io.html#cb382-11"></a><span class="co">#&gt; 6  18.1     6   225   105  2.76  3.46  20.2     1     0     3     1</span></span></code></pre></div>
<p>CSV files should always be saved using encoding UTF-8. However, sometimes you may have encoding problems when you read a file:</p>
<div class="sourceCode" id="cb383"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb383-1"><a href="mod-r-io.html#cb383-1"></a>csv_file &lt;-<span class="st"> </span><span class="kw">system.file</span>(<span class="st">&quot;extdata/persons.csv&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;tfa&quot;</span>)</span>
<span id="cb383-2"><a href="mod-r-io.html#cb383-2"></a><span class="kw">read_csv</span>(csv_file)</span>
<span id="cb383-3"><a href="mod-r-io.html#cb383-3"></a><span class="co">#&gt; # A tibble: 3 × 2</span></span>
<span id="cb383-4"><a href="mod-r-io.html#cb383-4"></a><span class="co">#&gt;   first    last        </span></span>
<span id="cb383-5"><a href="mod-r-io.html#cb383-5"></a><span class="co">#&gt;   &lt;chr&gt;    &lt;chr&gt;       </span></span>
<span id="cb383-6"><a href="mod-r-io.html#cb383-6"></a><span class="co">#&gt; 1 &quot;Hans&quot;   &quot;S\xf8gaard&quot;</span></span>
<span id="cb383-7"><a href="mod-r-io.html#cb383-7"></a><span class="co">#&gt; 2 &quot;\xc5ge&quot; &quot;\xd8kse&quot;   </span></span>
<span id="cb383-8"><a href="mod-r-io.html#cb383-8"></a><span class="co">#&gt; 3 &quot;Yvette&quot; &quot;L\xe6ske&quot;</span></span></code></pre></div>
<p>Note that some of the characters are not converted correctly. This is usually because the file encoding is not UTF-8. In this case, try to guess the encoding using:</p>
<div class="sourceCode" id="cb384"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb384-1"><a href="mod-r-io.html#cb384-1"></a><span class="kw">guess_encoding</span>(csv_file)</span>
<span id="cb384-2"><a href="mod-r-io.html#cb384-2"></a><span class="co">#&gt; # A tibble: 1 × 2</span></span>
<span id="cb384-3"><a href="mod-r-io.html#cb384-3"></a><span class="co">#&gt;   encoding   confidence</span></span>
<span id="cb384-4"><a href="mod-r-io.html#cb384-4"></a><span class="co">#&gt;   &lt;chr&gt;           &lt;dbl&gt;</span></span>
<span id="cb384-5"><a href="mod-r-io.html#cb384-5"></a><span class="co">#&gt; 1 ISO-8859-1       0.27</span></span>
<span id="cb384-6"><a href="mod-r-io.html#cb384-6"></a>dat &lt;-<span class="st"> </span><span class="kw">read_csv</span>(csv_file, <span class="dt">locale =</span> <span class="kw">locale</span>(<span class="dt">encoding =</span> <span class="st">&quot;ISO-8859-1&quot;</span>))</span>
<span id="cb384-7"><a href="mod-r-io.html#cb384-7"></a>dat</span>
<span id="cb384-8"><a href="mod-r-io.html#cb384-8"></a><span class="co">#&gt; # A tibble: 3 × 2</span></span>
<span id="cb384-9"><a href="mod-r-io.html#cb384-9"></a><span class="co">#&gt;   first  last   </span></span>
<span id="cb384-10"><a href="mod-r-io.html#cb384-10"></a><span class="co">#&gt;   &lt;chr&gt;  &lt;chr&gt;  </span></span>
<span id="cb384-11"><a href="mod-r-io.html#cb384-11"></a><span class="co">#&gt; 1 Hans   Søgaard</span></span>
<span id="cb384-12"><a href="mod-r-io.html#cb384-12"></a><span class="co">#&gt; 2 Åge    Økse   </span></span>
<span id="cb384-13"><a href="mod-r-io.html#cb384-13"></a><span class="co">#&gt; 3 Yvette Læske</span></span></code></pre></div>
</div>
</div>
<div id="writing-to-csv-files" class="section level3 hasAnchor">
<h3><span class="header-section-number">12.2.2</span> Writing to CSV files<a href="mod-r-io.html#writing-to-csv-files" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Given a tibble/data frame export it using <code>write_csv</code>:</p>
<div class="sourceCode" id="cb385"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb385-1"><a href="mod-r-io.html#cb385-1"></a>csv_file &lt;-<span class="st"> &quot;testing.csv&quot;</span></span>
<span id="cb385-2"><a href="mod-r-io.html#cb385-2"></a><span class="kw">write_csv</span>(dat, <span class="dt">file =</span> csv_file) </span>
<span id="cb385-3"><a href="mod-r-io.html#cb385-3"></a><span class="kw">write_csv2</span>(dat, <span class="dt">file =</span> <span class="st">&quot;testing_semicolon.csv&quot;</span>)   <span class="co"># use a semicolon as delimitor</span></span></code></pre></div>
<p>You can now always import the data again using <code>read_csv</code>:</p>
<div class="sourceCode" id="cb386"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb386-1"><a href="mod-r-io.html#cb386-1"></a><span class="kw">read_csv</span>(csv_file)</span>
<span id="cb386-2"><a href="mod-r-io.html#cb386-2"></a><span class="co">#&gt; # A tibble: 3 × 2</span></span>
<span id="cb386-3"><a href="mod-r-io.html#cb386-3"></a><span class="co">#&gt;   first  last   </span></span>
<span id="cb386-4"><a href="mod-r-io.html#cb386-4"></a><span class="co">#&gt;   &lt;chr&gt;  &lt;chr&gt;  </span></span>
<span id="cb386-5"><a href="mod-r-io.html#cb386-5"></a><span class="co">#&gt; 1 Hans   Søgaard</span></span>
<span id="cb386-6"><a href="mod-r-io.html#cb386-6"></a><span class="co">#&gt; 2 Åge    Økse   </span></span>
<span id="cb386-7"><a href="mod-r-io.html#cb386-7"></a><span class="co">#&gt; 3 Yvette Læske</span></span>
<span id="cb386-8"><a href="mod-r-io.html#cb386-8"></a><span class="kw">guess_encoding</span>(csv_file)</span>
<span id="cb386-9"><a href="mod-r-io.html#cb386-9"></a><span class="co">#&gt; # A tibble: 3 × 2</span></span>
<span id="cb386-10"><a href="mod-r-io.html#cb386-10"></a><span class="co">#&gt;   encoding     confidence</span></span>
<span id="cb386-11"><a href="mod-r-io.html#cb386-11"></a><span class="co">#&gt;   &lt;chr&gt;             &lt;dbl&gt;</span></span>
<span id="cb386-12"><a href="mod-r-io.html#cb386-12"></a><span class="co">#&gt; 1 UTF-8              1   </span></span>
<span id="cb386-13"><a href="mod-r-io.html#cb386-13"></a><span class="co">#&gt; 2 windows-1252       0.31</span></span>
<span id="cb386-14"><a href="mod-r-io.html#cb386-14"></a><span class="co">#&gt; 3 windows-1250       0.25</span></span></code></pre></div>
<p>Note that <code>write_csv</code> always saves the file using encoding UTF-8.</p>
<p>In a few cases, you may need to save a CSV file that can be read by Excel. For this purpose use:</p>
<div class="sourceCode" id="cb387"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb387-1"><a href="mod-r-io.html#cb387-1"></a><span class="kw">write_excel_csv2</span>(dat, csv_file)</span></code></pre></div>
<p>The CSV file can now be opened correctly in Excel.</p>
</div>
</div>
<div id="r-io-excel" class="section level2 hasAnchor">
<h2><span class="header-section-number">12.3</span> Excel<a href="mod-r-io.html#r-io-excel" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>There are different packages in R for reading and writing to Excel. We will use the <a href="https://readxl.tidyverse.org">readxl</a> package for reading Excel files which is a part of tidyverse. The package supports both the legacy <code>.xls</code> format and the modern xml-based <code>.xlsx</code> format. Let us use one of the example files provided by the package:</p>
<div class="sourceCode" id="cb388"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb388-1"><a href="mod-r-io.html#cb388-1"></a>xlsx_file &lt;-<span class="st"> </span><span class="kw">system.file</span>(<span class="st">&quot;extdata/datasets.xlsx&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;readxl&quot;</span>)</span></code></pre></div>
<p>It is always a good idea to have a look at the file before you import from it. You can open it from R by using:</p>
<div class="sourceCode" id="cb389"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb389-1"><a href="mod-r-io.html#cb389-1"></a><span class="kw">browseURL</span>(xlsx_file)</span></code></pre></div>
<p>Data can be read using:</p>
<div class="sourceCode" id="cb390"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb390-1"><a href="mod-r-io.html#cb390-1"></a><span class="kw">library</span>(readxl)</span>
<span id="cb390-2"><a href="mod-r-io.html#cb390-2"></a>xlsx &lt;-<span class="st"> </span><span class="kw">read_excel</span>(xlsx_file)   <span class="co"># reads the first sheet</span></span>
<span id="cb390-3"><a href="mod-r-io.html#cb390-3"></a>xlsx</span>
<span id="cb390-4"><a href="mod-r-io.html#cb390-4"></a><span class="co">#&gt; # A tibble: 150 × 5</span></span>
<span id="cb390-5"><a href="mod-r-io.html#cb390-5"></a><span class="co">#&gt;    Sepal.Length Sepal.Width Petal.Length Petal.Width Species</span></span>
<span id="cb390-6"><a href="mod-r-io.html#cb390-6"></a><span class="co">#&gt;           &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;  </span></span>
<span id="cb390-7"><a href="mod-r-io.html#cb390-7"></a><span class="co">#&gt;  1          5.1         3.5          1.4         0.2 setosa </span></span>
<span id="cb390-8"><a href="mod-r-io.html#cb390-8"></a><span class="co">#&gt;  2          4.9         3            1.4         0.2 setosa </span></span>
<span id="cb390-9"><a href="mod-r-io.html#cb390-9"></a><span class="co">#&gt;  3          4.7         3.2          1.3         0.2 setosa </span></span>
<span id="cb390-10"><a href="mod-r-io.html#cb390-10"></a><span class="co">#&gt;  4          4.6         3.1          1.5         0.2 setosa </span></span>
<span id="cb390-11"><a href="mod-r-io.html#cb390-11"></a><span class="co">#&gt;  5          5           3.6          1.4         0.2 setosa </span></span>
<span id="cb390-12"><a href="mod-r-io.html#cb390-12"></a><span class="co">#&gt;  6          5.4         3.9          1.7         0.4 setosa </span></span>
<span id="cb390-13"><a href="mod-r-io.html#cb390-13"></a><span class="co">#&gt;  7          4.6         3.4          1.4         0.3 setosa </span></span>
<span id="cb390-14"><a href="mod-r-io.html#cb390-14"></a><span class="co">#&gt;  8          5           3.4          1.5         0.2 setosa </span></span>
<span id="cb390-15"><a href="mod-r-io.html#cb390-15"></a><span class="co">#&gt;  9          4.4         2.9          1.4         0.2 setosa </span></span>
<span id="cb390-16"><a href="mod-r-io.html#cb390-16"></a><span class="co">#&gt; 10          4.9         3.1          1.5         0.1 setosa </span></span>
<span id="cb390-17"><a href="mod-r-io.html#cb390-17"></a><span class="co">#&gt; # … with 140 more rows</span></span>
<span id="cb390-18"><a href="mod-r-io.html#cb390-18"></a><span class="co">#&gt; # ℹ Use `print(n = ...)` to see more rows</span></span>
<span id="cb390-19"><a href="mod-r-io.html#cb390-19"></a>xlsx &lt;-<span class="st"> </span><span class="kw">read_excel</span>(xlsx_file, <span class="dt">sheet =</span> <span class="dv">2</span>)   <span class="co"># reads the second sheet</span></span>
<span id="cb390-20"><a href="mod-r-io.html#cb390-20"></a>xlsx</span>
<span id="cb390-21"><a href="mod-r-io.html#cb390-21"></a><span class="co">#&gt; # A tibble: 32 × 11</span></span>
<span id="cb390-22"><a href="mod-r-io.html#cb390-22"></a><span class="co">#&gt;      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb</span></span>
<span id="cb390-23"><a href="mod-r-io.html#cb390-23"></a><span class="co">#&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span id="cb390-24"><a href="mod-r-io.html#cb390-24"></a><span class="co">#&gt;  1  21       6  160    110  3.9   2.62  16.5     0     1     4     4</span></span>
<span id="cb390-25"><a href="mod-r-io.html#cb390-25"></a><span class="co">#&gt;  2  21       6  160    110  3.9   2.88  17.0     0     1     4     4</span></span>
<span id="cb390-26"><a href="mod-r-io.html#cb390-26"></a><span class="co">#&gt;  3  22.8     4  108     93  3.85  2.32  18.6     1     1     4     1</span></span>
<span id="cb390-27"><a href="mod-r-io.html#cb390-27"></a><span class="co">#&gt;  4  21.4     6  258    110  3.08  3.22  19.4     1     0     3     1</span></span>
<span id="cb390-28"><a href="mod-r-io.html#cb390-28"></a><span class="co">#&gt;  5  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2</span></span>
<span id="cb390-29"><a href="mod-r-io.html#cb390-29"></a><span class="co">#&gt;  6  18.1     6  225    105  2.76  3.46  20.2     1     0     3     1</span></span>
<span id="cb390-30"><a href="mod-r-io.html#cb390-30"></a><span class="co">#&gt;  7  14.3     8  360    245  3.21  3.57  15.8     0     0     3     4</span></span>
<span id="cb390-31"><a href="mod-r-io.html#cb390-31"></a><span class="co">#&gt;  8  24.4     4  147.    62  3.69  3.19  20       1     0     4     2</span></span>
<span id="cb390-32"><a href="mod-r-io.html#cb390-32"></a><span class="co">#&gt;  9  22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2</span></span>
<span id="cb390-33"><a href="mod-r-io.html#cb390-33"></a><span class="co">#&gt; 10  19.2     6  168.   123  3.92  3.44  18.3     1     0     4     4</span></span>
<span id="cb390-34"><a href="mod-r-io.html#cb390-34"></a><span class="co">#&gt; # … with 22 more rows</span></span>
<span id="cb390-35"><a href="mod-r-io.html#cb390-35"></a><span class="co">#&gt; # ℹ Use `print(n = ...)` to see more rows</span></span>
<span id="cb390-36"><a href="mod-r-io.html#cb390-36"></a>xlsx &lt;-<span class="st"> </span><span class="kw">read_excel</span>(xlsx_file, <span class="dt">sheet =</span> <span class="st">&quot;quakes&quot;</span>)   <span class="co"># reads a named sheet</span></span>
<span id="cb390-37"><a href="mod-r-io.html#cb390-37"></a>xlsx</span>
<span id="cb390-38"><a href="mod-r-io.html#cb390-38"></a><span class="co">#&gt; # A tibble: 1,000 × 5</span></span>
<span id="cb390-39"><a href="mod-r-io.html#cb390-39"></a><span class="co">#&gt;      lat  long depth   mag stations</span></span>
<span id="cb390-40"><a href="mod-r-io.html#cb390-40"></a><span class="co">#&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;</span></span>
<span id="cb390-41"><a href="mod-r-io.html#cb390-41"></a><span class="co">#&gt;  1 -20.4  182.   562   4.8       41</span></span>
<span id="cb390-42"><a href="mod-r-io.html#cb390-42"></a><span class="co">#&gt;  2 -20.6  181.   650   4.2       15</span></span>
<span id="cb390-43"><a href="mod-r-io.html#cb390-43"></a><span class="co">#&gt;  3 -26    184.    42   5.4       43</span></span>
<span id="cb390-44"><a href="mod-r-io.html#cb390-44"></a><span class="co">#&gt;  4 -18.0  182.   626   4.1       19</span></span>
<span id="cb390-45"><a href="mod-r-io.html#cb390-45"></a><span class="co">#&gt;  5 -20.4  182.   649   4         11</span></span>
<span id="cb390-46"><a href="mod-r-io.html#cb390-46"></a><span class="co">#&gt;  6 -19.7  184.   195   4         12</span></span>
<span id="cb390-47"><a href="mod-r-io.html#cb390-47"></a><span class="co">#&gt;  7 -11.7  166.    82   4.8       43</span></span>
<span id="cb390-48"><a href="mod-r-io.html#cb390-48"></a><span class="co">#&gt;  8 -28.1  182.   194   4.4       15</span></span>
<span id="cb390-49"><a href="mod-r-io.html#cb390-49"></a><span class="co">#&gt;  9 -28.7  182.   211   4.7       35</span></span>
<span id="cb390-50"><a href="mod-r-io.html#cb390-50"></a><span class="co">#&gt; 10 -17.5  180.   622   4.3       19</span></span>
<span id="cb390-51"><a href="mod-r-io.html#cb390-51"></a><span class="co">#&gt; # … with 990 more rows</span></span>
<span id="cb390-52"><a href="mod-r-io.html#cb390-52"></a><span class="co">#&gt; # ℹ Use `print(n = ...)` to see more rows</span></span>
<span id="cb390-53"><a href="mod-r-io.html#cb390-53"></a>xlsx &lt;-<span class="st"> </span><span class="kw">read_excel</span>(xlsx_file, <span class="dt">sheet =</span> <span class="st">&quot;mtcars&quot;</span>, <span class="dt">range =</span> <span class="st">&quot;A5:G11&quot;</span>, <span class="dt">col_names =</span> F)   <span class="co"># reads a range</span></span>
<span id="cb390-54"><a href="mod-r-io.html#cb390-54"></a><span class="kw">colnames</span>(xlsx) &lt;-<span class="st"> </span><span class="kw">read_excel</span>(xlsx_file, <span class="dt">sheet =</span> <span class="st">&quot;mtcars&quot;</span>, <span class="dt">range =</span> <span class="st">&quot;A1:G1&quot;</span>, <span class="dt">col_names =</span> F)   <span class="co"># reads the column names</span></span>
<span id="cb390-55"><a href="mod-r-io.html#cb390-55"></a>xlsx</span>
<span id="cb390-56"><a href="mod-r-io.html#cb390-56"></a><span class="co">#&gt; # A tibble: 7 × 7</span></span>
<span id="cb390-57"><a href="mod-r-io.html#cb390-57"></a><span class="co">#&gt;     mpg   cyl  disp    hp  drat    wt  qsec</span></span>
<span id="cb390-58"><a href="mod-r-io.html#cb390-58"></a><span class="co">#&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span id="cb390-59"><a href="mod-r-io.html#cb390-59"></a><span class="co">#&gt; 1  21.4     6  258    110  3.08  3.22  19.4</span></span>
<span id="cb390-60"><a href="mod-r-io.html#cb390-60"></a><span class="co">#&gt; 2  18.7     8  360    175  3.15  3.44  17.0</span></span>
<span id="cb390-61"><a href="mod-r-io.html#cb390-61"></a><span class="co">#&gt; 3  18.1     6  225    105  2.76  3.46  20.2</span></span>
<span id="cb390-62"><a href="mod-r-io.html#cb390-62"></a><span class="co">#&gt; 4  14.3     8  360    245  3.21  3.57  15.8</span></span>
<span id="cb390-63"><a href="mod-r-io.html#cb390-63"></a><span class="co">#&gt; 5  24.4     4  147.    62  3.69  3.19  20  </span></span>
<span id="cb390-64"><a href="mod-r-io.html#cb390-64"></a><span class="co">#&gt; 6  22.8     4  141.    95  3.92  3.15  22.9</span></span>
<span id="cb390-65"><a href="mod-r-io.html#cb390-65"></a><span class="co">#&gt; 7  19.2     6  168.   123  3.92  3.44  18.3</span></span></code></pre></div>
<p>Writing to an Excel file can be done using the <a href="https://ycphs.github.io/openxlsx/index.html">openxlsx</a> package. To write to a new file use:</p>
<div class="sourceCode" id="cb391"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb391-1"><a href="mod-r-io.html#cb391-1"></a><span class="kw">library</span>(openxlsx)</span>
<span id="cb391-2"><a href="mod-r-io.html#cb391-2"></a>dat &lt;-<span class="st"> </span>trees   <span class="co"># test dataset</span></span>
<span id="cb391-3"><a href="mod-r-io.html#cb391-3"></a><span class="kw">head</span>(dat)</span>
<span id="cb391-4"><a href="mod-r-io.html#cb391-4"></a><span class="co">#&gt;   Girth Height Volume</span></span>
<span id="cb391-5"><a href="mod-r-io.html#cb391-5"></a><span class="co">#&gt; 1   8.3     70   10.3</span></span>
<span id="cb391-6"><a href="mod-r-io.html#cb391-6"></a><span class="co">#&gt; 2   8.6     65   10.3</span></span>
<span id="cb391-7"><a href="mod-r-io.html#cb391-7"></a><span class="co">#&gt; 3   8.8     63   10.2</span></span>
<span id="cb391-8"><a href="mod-r-io.html#cb391-8"></a><span class="co">#&gt; 4  10.5     72   16.4</span></span>
<span id="cb391-9"><a href="mod-r-io.html#cb391-9"></a><span class="co">#&gt; 5  10.7     81   18.8</span></span>
<span id="cb391-10"><a href="mod-r-io.html#cb391-10"></a><span class="co">#&gt; 6  10.8     83   19.7</span></span>
<span id="cb391-11"><a href="mod-r-io.html#cb391-11"></a><span class="kw">write.xlsx</span>(dat, <span class="st">&quot;test1.xlsx&quot;</span>, <span class="dt">sheetName =</span> <span class="st">&quot;trees&quot;</span>) <span class="co"># start at cell A1</span></span>
<span id="cb391-12"><a href="mod-r-io.html#cb391-12"></a><span class="kw">write.xlsx</span>(dat, <span class="st">&quot;test2.xlsx&quot;</span>, <span class="dt">sheetName =</span> <span class="st">&quot;trees&quot;</span>, <span class="dt">startCol =</span> <span class="st">&quot;C&quot;</span>, <span class="dt">startRow =</span> <span class="dv">3</span>)</span></code></pre></div>
<p>If you want to append a sheet to a file use:</p>
<div class="sourceCode" id="cb392"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb392-1"><a href="mod-r-io.html#cb392-1"></a>xlsx_file &lt;-<span class="st"> </span><span class="kw">system.file</span>(<span class="st">&quot;extdata/datasets.xlsx&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;tfa&quot;</span>)</span>
<span id="cb392-2"><a href="mod-r-io.html#cb392-2"></a><span class="kw">file.copy</span>(xlsx_file, <span class="st">&quot;test.xlsx&quot;</span>)         <span class="co"># copy the file so can make some tests</span></span>
<span id="cb392-3"><a href="mod-r-io.html#cb392-3"></a><span class="co">#&gt; [1] TRUE</span></span>
<span id="cb392-4"><a href="mod-r-io.html#cb392-4"></a>wb &lt;-<span class="st"> </span><span class="kw">loadWorkbook</span>(<span class="dt">file =</span> <span class="st">&quot;test.xlsx&quot;</span>)    <span class="co"># read the workbook</span></span>
<span id="cb392-5"><a href="mod-r-io.html#cb392-5"></a><span class="kw">addWorksheet</span>(<span class="dt">wb =</span> wb, <span class="dt">sheetName =</span> <span class="st">&quot;trees&quot;</span>)</span>
<span id="cb392-6"><a href="mod-r-io.html#cb392-6"></a><span class="kw">writeData</span>(wb, <span class="dt">sheet =</span> <span class="st">&quot;trees&quot;</span>, <span class="dt">x =</span> dat)</span>
<span id="cb392-7"><a href="mod-r-io.html#cb392-7"></a><span class="kw">saveWorkbook</span>(wb, <span class="dt">file =</span> <span class="st">&quot;test.xlsx&quot;</span>, <span class="dt">overwrite =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
</div>
<div id="r-io-google" class="section level2 hasAnchor">
<h2><span class="header-section-number">12.4</span> Google Sheets<a href="mod-r-io.html#r-io-google" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>You can import and export to Google sheets using the <a href="https://googlesheets4.tidyverse.org/index.html">googlesheets4</a> package in tidyverse. To read and write data, in general, you need to be logged in as a Google user. The package will ask you when needed. However, if you only want to read data from a public sheet, you can use <code>gs4_deauth</code> to skip this:</p>
<div class="sourceCode" id="cb393"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb393-1"><a href="mod-r-io.html#cb393-1"></a><span class="kw">library</span>(googlesheets4)</span>
<span id="cb393-2"><a href="mod-r-io.html#cb393-2"></a><span class="kw">gs4_deauth</span>()</span></code></pre></div>
<p>To read data use:</p>
<div class="sourceCode" id="cb394"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb394-1"><a href="mod-r-io.html#cb394-1"></a>url &lt;-<span class="st"> &quot;https://docs.google.com/spreadsheets/d/1U6Cf_qEOhiR9AZqTqS3mbMF3zt2db48ZP5v3rkrAEJY/edit#gid=780868077&quot;</span></span>
<span id="cb394-2"><a href="mod-r-io.html#cb394-2"></a><span class="kw">read_sheet</span>(url)</span>
<span id="cb394-3"><a href="mod-r-io.html#cb394-3"></a><span class="kw">read_sheet</span>(url, <span class="dt">sheet =</span> <span class="dv">3</span>)</span>
<span id="cb394-4"><a href="mod-r-io.html#cb394-4"></a><span class="kw">range_read</span>(url, <span class="dt">sheet =</span> <span class="dv">2</span>, <span class="dt">n_max =</span> <span class="dv">3</span>)</span>
<span id="cb394-5"><a href="mod-r-io.html#cb394-5"></a><span class="kw">range_read</span>(url, <span class="dt">range =</span> <span class="st">&quot;Africa!A5:C15&quot;</span>)</span></code></pre></div>
<p>To write data to a new file use:</p>
<div class="sourceCode" id="cb395"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb395-1"><a href="mod-r-io.html#cb395-1"></a><span class="kw">gs4_auth</span>()</span>
<span id="cb395-2"><a href="mod-r-io.html#cb395-2"></a>gs &lt;-<span class="st"> </span><span class="kw">gs4_create</span>(<span class="st">&quot;test&quot;</span>, <span class="dt">sheets =</span> <span class="kw">c</span>(<span class="st">&quot;Sheet 1&quot;</span>, <span class="st">&quot;Sheet 2&quot;</span>))</span>
<span id="cb395-3"><a href="mod-r-io.html#cb395-3"></a><span class="kw">write_sheet</span>(dat, <span class="dt">ss =</span> gs)</span>
<span id="cb395-4"><a href="mod-r-io.html#cb395-4"></a><span class="kw">range_write</span>(gs, dat, <span class="dt">sheet =</span> <span class="st">&quot;Sheet 1&quot;</span>, <span class="dt">range =</span> <span class="st">&quot;C4&quot;</span>)</span>
<span id="cb395-5"><a href="mod-r-io.html#cb395-5"></a><span class="kw">gs4_browse</span>(gs)  <span class="co"># have a look at the file in a browser</span></span></code></pre></div>
<p>To see the results, have a look at your Google sheet <code>test</code> in your browser.</p>
</div>
<div id="r-io-text" class="section level2 hasAnchor">
<h2><span class="header-section-number">12.5</span> Text files<a href="mod-r-io.html#r-io-text" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>You can read and write to plain text files using the <a href="https://readr.tidyverse.org/">readr</a> package. However, mostly you want to write to a text file because you want to save some kind of log file when you run your script. Here <code>sink</code> is an excellent function to use, since it redirects your R output. To see the output without messages, errors and warnings use:</p>
<div class="sourceCode" id="cb396"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb396-1"><a href="mod-r-io.html#cb396-1"></a><span class="kw">sink</span>(<span class="dt">file =</span> <span class="st">&quot;ex1.log&quot;</span>, <span class="dt">split =</span> <span class="ot">TRUE</span>)  <span class="co"># open the file for output</span></span>
<span id="cb396-2"><a href="mod-r-io.html#cb396-2"></a><span class="kw">cat</span>(<span class="st">&quot;This is a string</span><span class="ch">\n</span><span class="st">... and on a new line</span><span class="ch">\n\n</span><span class="st">&quot;</span>)</span>
<span id="cb396-3"><a href="mod-r-io.html#cb396-3"></a><span class="kw">print</span>(<span class="st">&quot;This is another string&quot;</span>)</span>
<span id="cb396-4"><a href="mod-r-io.html#cb396-4"></a><span class="kw">head</span>(mtcars)</span>
<span id="cb396-5"><a href="mod-r-io.html#cb396-5"></a><span class="kw">rep</span>(<span class="dv">1</span>, <span class="dv">4</span>)</span>
<span id="cb396-6"><a href="mod-r-io.html#cb396-6"></a><span class="kw">message</span>(<span class="st">&quot;A message.&quot;</span>)</span>
<span id="cb396-7"><a href="mod-r-io.html#cb396-7"></a><span class="kw">warning</span>(<span class="st">&quot;A warning.&quot;</span>)</span>
<span id="cb396-8"><a href="mod-r-io.html#cb396-8"></a><span class="kw">rep</span>(<span class="dv">3</span>, f)  <span class="co"># a error</span></span>
<span id="cb396-9"><a href="mod-r-io.html#cb396-9"></a><span class="kw">cat</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">Last line</span><span class="ch">\n</span><span class="st">&quot;</span>)</span>
<span id="cb396-10"><a href="mod-r-io.html#cb396-10"></a><span class="kw">sink</span>()  <span class="co"># close the file again</span></span>
<span id="cb396-11"><a href="mod-r-io.html#cb396-11"></a><span class="co"># file.show(&quot;ex1.log&quot;)   # to view in external viewer</span></span></code></pre></div>
<p>Let us have a look at the content of the file (run <code>cat(read_file("ex1.log"))</code>):</p>
<pre><code>This is a string
... and on a new line

[1] &quot;This is another string&quot;
                   mpg cyl disp  hp drat   wt qsec vs am gear carb
Mazda RX4         21.0   6  160 110 3.90 2.62 16.5  0  1    4    4
Mazda RX4 Wag     21.0   6  160 110 3.90 2.88 17.0  0  1    4    4
Datsun 710        22.8   4  108  93 3.85 2.32 18.6  1  1    4    1
Hornet 4 Drive    21.4   6  258 110 3.08 3.21 19.4  1  0    3    1
Hornet Sportabout 18.7   8  360 175 3.15 3.44 17.0  0  0    3    2
Valiant           18.1   6  225 105 2.76 3.46 20.2  1  0    3    1
[1] 1 1 1 1

Last line</code></pre>
<p>Note that messages, errors and warnings are not included in the output. If you want to include it use:</p>
<div class="sourceCode" id="cb398"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb398-1"><a href="mod-r-io.html#cb398-1"></a>zz &lt;-<span class="st"> </span><span class="kw">file</span>(<span class="st">&quot;ex2.log&quot;</span>, <span class="dt">open =</span> <span class="st">&quot;wt&quot;</span>)</span>
<span id="cb398-2"><a href="mod-r-io.html#cb398-2"></a><span class="kw">sink</span>(zz, <span class="dt">type =</span> <span class="st">&quot;output&quot;</span>)   <span class="co"># open the file for output</span></span>
<span id="cb398-3"><a href="mod-r-io.html#cb398-3"></a><span class="kw">sink</span>(zz, <span class="dt">type =</span> <span class="st">&quot;message&quot;</span>)  <span class="co"># open the same file for messages, errors and warnings</span></span>
<span id="cb398-4"><a href="mod-r-io.html#cb398-4"></a><span class="kw">cat</span>(<span class="st">&quot;This is a string</span><span class="ch">\n</span><span class="st">... and on a new line</span><span class="ch">\n\n</span><span class="st">&quot;</span>)</span>
<span id="cb398-5"><a href="mod-r-io.html#cb398-5"></a><span class="kw">print</span>(<span class="st">&quot;This is another string&quot;</span>)</span>
<span id="cb398-6"><a href="mod-r-io.html#cb398-6"></a><span class="kw">head</span>(mtcars)</span>
<span id="cb398-7"><a href="mod-r-io.html#cb398-7"></a><span class="kw">rep</span>(<span class="dv">1</span>, <span class="dv">4</span>)</span>
<span id="cb398-8"><a href="mod-r-io.html#cb398-8"></a><span class="kw">message</span>(<span class="st">&quot;A message.&quot;</span>)</span>
<span id="cb398-9"><a href="mod-r-io.html#cb398-9"></a><span class="kw">warning</span>(<span class="st">&quot;A warning.&quot;</span>)</span>
<span id="cb398-10"><a href="mod-r-io.html#cb398-10"></a><span class="kw">rep</span>(<span class="dv">3</span>, f)  <span class="co"># a error</span></span>
<span id="cb398-11"><a href="mod-r-io.html#cb398-11"></a><span class="kw">cat</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">Last line</span><span class="ch">\n</span><span class="st">&quot;</span>)</span>
<span id="cb398-12"><a href="mod-r-io.html#cb398-12"></a><span class="kw">sink</span>()  <span class="co"># close the file for output</span></span>
<span id="cb398-13"><a href="mod-r-io.html#cb398-13"></a><span class="kw">sink</span>()  <span class="co"># close the file for messages, errors and warnings</span></span></code></pre></div>
<p>That is, we call sink two times. Let us have a look at the content of the file:</p>
<pre><code>This is a string
... and on a new line

[1] &quot;This is another string&quot;
                   mpg cyl disp  hp drat   wt qsec vs am gear carb
Mazda RX4         21.0   6  160 110 3.90 2.62 16.5  0  1    4    4
Mazda RX4 Wag     21.0   6  160 110 3.90 2.88 17.0  0  1    4    4
Datsun 710        22.8   4  108  93 3.85 2.32 18.6  1  1    4    1
Hornet 4 Drive    21.4   6  258 110 3.08 3.21 19.4  1  0    3    1
Hornet Sportabout 18.7   8  360 175 3.15 3.44 17.0  0  0    3    2
Valiant           18.1   6  225 105 2.76 3.46 20.2  1  0    3    1
[1] 1 1 1 1
A message.
Warning message:
A warning. 
Error: object &#39;f&#39; not found

Last line
Warning message:
In sink() : no sink to remove
✓ Reading from &quot;learning_paths&quot;.
✓ Range &#39;&#39;r-transform&#39;&#39;.
Error: unexpected symbol in &quot;By the&quot;
Error: unexpected &#39;*&#39; in &quot;*&quot;
Error: unexpected &#39;*&#39; in &quot;*&quot;
Error: unexpected &#39;*&#39; in &quot;*&quot;
Error: unexpected &#39;*&#39; in &quot;*&quot;
Error: unexpected &#39;*&#39; in &quot;*&quot;
Error: unexpected symbol in &quot;The learning&quot;
Error: unexpected &#39;&lt;&#39; in &quot;&lt;&quot;
Error: unexpected &#39;&lt;&#39; in &quot;&lt;&quot;
Error: unexpected &#39;&lt;&#39; in &quot;&lt;&quot;
Error: unexpected &#39;&lt;&#39; in &quot;&lt;&quot;
Error: unexpected symbol in &quot;An excellent&quot;
Error: unexpected &#39;&lt;&#39; in &quot;&lt;&quot;
Error: unexpected &#39;&lt;&#39; in &quot;&lt;&quot;
Error: unexpected &#39;&lt;&#39; in &quot;&lt;&quot;
Error: unexpected &#39;&lt;&#39; in &quot;&lt;&quot;
Error: unexpected &#39;&lt;&#39; in &quot;&lt;&quot;
Error: unexpected symbol in &quot;Mutating joins&quot;
Error: attempt to use zero-length variable name
Error in curl::curl_fetch_memory(url, handle = handle) : 
  Error in the HTTP2 framing layer
✓ Reading from &quot;learning_paths&quot;.
✓ Range &#39;&#39;r-transform&#39;&#39;.
✓ Reading from &quot;learning_paths&quot;.
✓ Range &#39;&#39;r-transform&#39;&#39;.
✓ Reading from &quot;learning_paths&quot;.
✓ Range &#39;&#39;r-transform&#39;&#39;.
✓ Reading from &quot;learning_paths&quot;.
✓ Range &#39;&#39;r-transform&#39;&#39;.
✓ Reading from &quot;learning_paths&quot;.
✓ Range &#39;&#39;r-transform&#39;&#39;.
✓ Reading from &quot;learning_paths&quot;.
✓ Range &#39;&#39;r-transform&#39;&#39;.
✓ Reading from &quot;learning_paths&quot;.
✓ Range &#39;&#39;r-transform&#39;&#39;.
✓ Reading from &quot;learning_paths&quot;.
✓ Range &#39;&#39;r-transform&#39;&#39;.
✓ Reading from &quot;learning_paths&quot;.
✓ Range &#39;&#39;r-transform&#39;&#39;.
✓ Reading from &quot;learning_paths&quot;.
✓ Range &#39;&#39;r-transform&#39;&#39;.
x Request failed [429]. Retry 1 happens in 3.5 seconds ...
x Request failed [429]. Retry 2 happens in 3.5 seconds ...
x Request failed [429]. Retry 3 happens in 8.2 seconds ...

x Request failed [429]. Retry 1 happens in 2.5 seconds ...
x Request failed [429]. Retry 2 happens in 1.9 seconds ...
x Request failed [429]. Retry 3 happens in 26 seconds ...

x Request failed [429]. Retry 1 happens in 4.2 seconds ...
✓ Reading from &quot;learning_paths&quot;.
✓ Range &#39;&#39;r-transform&#39;&#39;.
✓ Reading from &quot;learning_paths&quot;.
✓ Range &#39;&#39;r-transform&#39;&#39;.
✓ Reading from &quot;learning_paths&quot;.
✓ Range &#39;&#39;r-transform&#39;&#39;.
✓ Reading from &quot;learning_paths&quot;.
✓ Range &#39;&#39;r-transform&#39;&#39;.</code></pre>
</div>
<div id="r-io-r" class="section level2 hasAnchor">
<h2><span class="header-section-number">12.6</span> R’s native binary format<a href="mod-r-io.html#r-io-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In general, we can differ between two main types of data/files. Information is either binary encoded (basically just 0’s and 1’s) or stored as text files. What we have considered so far is storing data in text files.</p>
<p>Text files can be read by humans and computers alike. The great thing about plain text is their simplicity and their ease of use: any programming language can read a plain text file. Text files are good for storing tabular data but lacks type-safety, and has limited precision for numeric values. Binary file formats cannot be read by humans but allow space-efficient data compression. Furthermore, binary formats may be difficult to read and write using other programs.</p>
<p>As most other programming languages, R comes with its own binary format. We will focus on the Rds data format which is optimized for speed and compression ratios. To save and read an R object use:</p>
<div class="sourceCode" id="cb400"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb400-1"><a href="mod-r-io.html#cb400-1"></a>dat &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">x =</span> <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">6</span>), <span class="dt">y =</span> <span class="st">&quot;A string&quot;</span>, <span class="dt">z =</span> mtcars)</span>
<span id="cb400-2"><a href="mod-r-io.html#cb400-2"></a><span class="kw">saveRDS</span>(dat, <span class="dt">file =</span> <span class="st">&quot;test.rds&quot;</span>)</span>
<span id="cb400-3"><a href="mod-r-io.html#cb400-3"></a><span class="kw">readRDS</span>(<span class="st">&quot;test.rds&quot;</span>)</span>
<span id="cb400-4"><a href="mod-r-io.html#cb400-4"></a><span class="co">#&gt; $x</span></span>
<span id="cb400-5"><a href="mod-r-io.html#cb400-5"></a><span class="co">#&gt; [1] 2 5 6</span></span>
<span id="cb400-6"><a href="mod-r-io.html#cb400-6"></a><span class="co">#&gt; </span></span>
<span id="cb400-7"><a href="mod-r-io.html#cb400-7"></a><span class="co">#&gt; $y</span></span>
<span id="cb400-8"><a href="mod-r-io.html#cb400-8"></a><span class="co">#&gt; [1] &quot;A string&quot;</span></span>
<span id="cb400-9"><a href="mod-r-io.html#cb400-9"></a><span class="co">#&gt; </span></span>
<span id="cb400-10"><a href="mod-r-io.html#cb400-10"></a><span class="co">#&gt; $z</span></span>
<span id="cb400-11"><a href="mod-r-io.html#cb400-11"></a><span class="co">#&gt;                      mpg cyl  disp  hp drat   wt qsec vs am gear carb</span></span>
<span id="cb400-12"><a href="mod-r-io.html#cb400-12"></a><span class="co">#&gt; Mazda RX4           21.0   6 160.0 110 3.90 2.62 16.5  0  1    4    4</span></span>
<span id="cb400-13"><a href="mod-r-io.html#cb400-13"></a><span class="co">#&gt; Mazda RX4 Wag       21.0   6 160.0 110 3.90 2.88 17.0  0  1    4    4</span></span>
<span id="cb400-14"><a href="mod-r-io.html#cb400-14"></a><span class="co">#&gt; Datsun 710          22.8   4 108.0  93 3.85 2.32 18.6  1  1    4    1</span></span>
<span id="cb400-15"><a href="mod-r-io.html#cb400-15"></a><span class="co">#&gt; Hornet 4 Drive      21.4   6 258.0 110 3.08 3.21 19.4  1  0    3    1</span></span>
<span id="cb400-16"><a href="mod-r-io.html#cb400-16"></a><span class="co">#&gt; Hornet Sportabout   18.7   8 360.0 175 3.15 3.44 17.0  0  0    3    2</span></span>
<span id="cb400-17"><a href="mod-r-io.html#cb400-17"></a><span class="co">#&gt; Valiant             18.1   6 225.0 105 2.76 3.46 20.2  1  0    3    1</span></span>
<span id="cb400-18"><a href="mod-r-io.html#cb400-18"></a><span class="co">#&gt; Duster 360          14.3   8 360.0 245 3.21 3.57 15.8  0  0    3    4</span></span>
<span id="cb400-19"><a href="mod-r-io.html#cb400-19"></a><span class="co">#&gt; Merc 240D           24.4   4 146.7  62 3.69 3.19 20.0  1  0    4    2</span></span>
<span id="cb400-20"><a href="mod-r-io.html#cb400-20"></a><span class="co">#&gt; Merc 230            22.8   4 140.8  95 3.92 3.15 22.9  1  0    4    2</span></span>
<span id="cb400-21"><a href="mod-r-io.html#cb400-21"></a><span class="co">#&gt; Merc 280            19.2   6 167.6 123 3.92 3.44 18.3  1  0    4    4</span></span>
<span id="cb400-22"><a href="mod-r-io.html#cb400-22"></a><span class="co">#&gt; Merc 280C           17.8   6 167.6 123 3.92 3.44 18.9  1  0    4    4</span></span>
<span id="cb400-23"><a href="mod-r-io.html#cb400-23"></a><span class="co">#&gt; Merc 450SE          16.4   8 275.8 180 3.07 4.07 17.4  0  0    3    3</span></span>
<span id="cb400-24"><a href="mod-r-io.html#cb400-24"></a><span class="co">#&gt; Merc 450SL          17.3   8 275.8 180 3.07 3.73 17.6  0  0    3    3</span></span>
<span id="cb400-25"><a href="mod-r-io.html#cb400-25"></a><span class="co">#&gt; Merc 450SLC         15.2   8 275.8 180 3.07 3.78 18.0  0  0    3    3</span></span>
<span id="cb400-26"><a href="mod-r-io.html#cb400-26"></a><span class="co">#&gt; Cadillac Fleetwood  10.4   8 472.0 205 2.93 5.25 18.0  0  0    3    4</span></span>
<span id="cb400-27"><a href="mod-r-io.html#cb400-27"></a><span class="co">#&gt; Lincoln Continental 10.4   8 460.0 215 3.00 5.42 17.8  0  0    3    4</span></span>
<span id="cb400-28"><a href="mod-r-io.html#cb400-28"></a><span class="co">#&gt; Chrysler Imperial   14.7   8 440.0 230 3.23 5.34 17.4  0  0    3    4</span></span>
<span id="cb400-29"><a href="mod-r-io.html#cb400-29"></a><span class="co">#&gt; Fiat 128            32.4   4  78.7  66 4.08 2.20 19.5  1  1    4    1</span></span>
<span id="cb400-30"><a href="mod-r-io.html#cb400-30"></a><span class="co">#&gt; Honda Civic         30.4   4  75.7  52 4.93 1.61 18.5  1  1    4    2</span></span>
<span id="cb400-31"><a href="mod-r-io.html#cb400-31"></a><span class="co">#&gt; Toyota Corolla      33.9   4  71.1  65 4.22 1.83 19.9  1  1    4    1</span></span>
<span id="cb400-32"><a href="mod-r-io.html#cb400-32"></a><span class="co">#&gt; Toyota Corona       21.5   4 120.1  97 3.70 2.46 20.0  1  0    3    1</span></span>
<span id="cb400-33"><a href="mod-r-io.html#cb400-33"></a><span class="co">#&gt; Dodge Challenger    15.5   8 318.0 150 2.76 3.52 16.9  0  0    3    2</span></span>
<span id="cb400-34"><a href="mod-r-io.html#cb400-34"></a><span class="co">#&gt; AMC Javelin         15.2   8 304.0 150 3.15 3.44 17.3  0  0    3    2</span></span>
<span id="cb400-35"><a href="mod-r-io.html#cb400-35"></a><span class="co">#&gt; Camaro Z28          13.3   8 350.0 245 3.73 3.84 15.4  0  0    3    4</span></span>
<span id="cb400-36"><a href="mod-r-io.html#cb400-36"></a><span class="co">#&gt; Pontiac Firebird    19.2   8 400.0 175 3.08 3.85 17.1  0  0    3    2</span></span>
<span id="cb400-37"><a href="mod-r-io.html#cb400-37"></a><span class="co">#&gt; Fiat X1-9           27.3   4  79.0  66 4.08 1.94 18.9  1  1    4    1</span></span>
<span id="cb400-38"><a href="mod-r-io.html#cb400-38"></a><span class="co">#&gt; Porsche 914-2       26.0   4 120.3  91 4.43 2.14 16.7  0  1    5    2</span></span>
<span id="cb400-39"><a href="mod-r-io.html#cb400-39"></a><span class="co">#&gt; Lotus Europa        30.4   4  95.1 113 3.77 1.51 16.9  1  1    5    2</span></span>
<span id="cb400-40"><a href="mod-r-io.html#cb400-40"></a><span class="co">#&gt; Ford Pantera L      15.8   8 351.0 264 4.22 3.17 14.5  0  1    5    4</span></span>
<span id="cb400-41"><a href="mod-r-io.html#cb400-41"></a><span class="co">#&gt; Ferrari Dino        19.7   6 145.0 175 3.62 2.77 15.5  0  1    5    6</span></span>
<span id="cb400-42"><a href="mod-r-io.html#cb400-42"></a><span class="co">#&gt; Maserati Bora       15.0   8 301.0 335 3.54 3.57 14.6  0  1    5    8</span></span>
<span id="cb400-43"><a href="mod-r-io.html#cb400-43"></a><span class="co">#&gt; Volvo 142E          21.4   4 121.0 109 4.11 2.78 18.6  1  1    4    2</span></span></code></pre></div>
<p>Note we here have saved a non tabular R object (a list).</p>
</div>
<div id="r-io-json" class="section level2 hasAnchor">
<h2><span class="header-section-number">12.7</span> Json<a href="mod-r-io.html#r-io-json" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><a href="https://en.wikipedia.org/wiki/JSON">JavaScript Object Notation</a> (json) is an open standard text file format, and data interchange format, that uses human-readable text to store and transmit data objects consisting of attribute–value pairs and array data types. It can be used to store non tabular data in text format. It is often used for data-exchange in web-apis.</p>
<p>Let us try to read and write to a json file using the <a href="https://cran.r-project.org/web/packages/jsonlite/index.html">jsonlite</a> package.</p>
<div class="sourceCode" id="cb401"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb401-1"><a href="mod-r-io.html#cb401-1"></a><span class="kw">library</span>(jsonlite)</span>
<span id="cb401-2"><a href="mod-r-io.html#cb401-2"></a>dat &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">x =</span> <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">6</span>), <span class="dt">y =</span> <span class="st">&quot;A string&quot;</span>, <span class="dt">z =</span> <span class="kw">head</span>(mtcars))</span>
<span id="cb401-3"><a href="mod-r-io.html#cb401-3"></a><span class="kw">write_json</span>(dat, <span class="st">&quot;test.json&quot;</span>, <span class="dt">pretty =</span> T)</span>
<span id="cb401-4"><a href="mod-r-io.html#cb401-4"></a>lst &lt;-<span class="st"> </span><span class="kw">read_json</span>(<span class="st">&quot;test.json&quot;</span>, <span class="dt">simplifyDataFrame =</span> T, <span class="dt">simplifyVector =</span> T)</span>
<span id="cb401-5"><a href="mod-r-io.html#cb401-5"></a>lst</span>
<span id="cb401-6"><a href="mod-r-io.html#cb401-6"></a><span class="co">#&gt; $x</span></span>
<span id="cb401-7"><a href="mod-r-io.html#cb401-7"></a><span class="co">#&gt; [1] 2 5 6</span></span>
<span id="cb401-8"><a href="mod-r-io.html#cb401-8"></a><span class="co">#&gt; </span></span>
<span id="cb401-9"><a href="mod-r-io.html#cb401-9"></a><span class="co">#&gt; $y</span></span>
<span id="cb401-10"><a href="mod-r-io.html#cb401-10"></a><span class="co">#&gt; [1] &quot;A string&quot;</span></span>
<span id="cb401-11"><a href="mod-r-io.html#cb401-11"></a><span class="co">#&gt; </span></span>
<span id="cb401-12"><a href="mod-r-io.html#cb401-12"></a><span class="co">#&gt; $z</span></span>
<span id="cb401-13"><a href="mod-r-io.html#cb401-13"></a><span class="co">#&gt;                    mpg cyl disp  hp drat   wt qsec vs am gear carb</span></span>
<span id="cb401-14"><a href="mod-r-io.html#cb401-14"></a><span class="co">#&gt; Mazda RX4         21.0   6  160 110 3.90 2.62 16.5  0  1    4    4</span></span>
<span id="cb401-15"><a href="mod-r-io.html#cb401-15"></a><span class="co">#&gt; Mazda RX4 Wag     21.0   6  160 110 3.90 2.88 17.0  0  1    4    4</span></span>
<span id="cb401-16"><a href="mod-r-io.html#cb401-16"></a><span class="co">#&gt; Datsun 710        22.8   4  108  93 3.85 2.32 18.6  1  1    4    1</span></span>
<span id="cb401-17"><a href="mod-r-io.html#cb401-17"></a><span class="co">#&gt; Hornet 4 Drive    21.4   6  258 110 3.08 3.21 19.4  1  0    3    1</span></span>
<span id="cb401-18"><a href="mod-r-io.html#cb401-18"></a><span class="co">#&gt; Hornet Sportabout 18.7   8  360 175 3.15 3.44 17.0  0  0    3    2</span></span>
<span id="cb401-19"><a href="mod-r-io.html#cb401-19"></a><span class="co">#&gt; Valiant           18.1   6  225 105 2.76 3.46 20.2  1  0    3    1</span></span></code></pre></div>
<p>The content of the json file look likes:</p>
<pre><code>{
  &quot;x&quot;: [2, 5, 6],
  &quot;y&quot;: [&quot;A string&quot;],
  &quot;z&quot;: [
    {
      &quot;mpg&quot;: 21,
      &quot;cyl&quot;: 6,
      &quot;disp&quot;: 160,
      &quot;hp&quot;: 110,
      &quot;drat&quot;: 3.9,
      &quot;wt&quot;: 2.62,
      &quot;qsec&quot;: 16.46,
      &quot;vs&quot;: 0,
      &quot;am&quot;: 1,
      &quot;gear&quot;: 4,
      &quot;carb&quot;: 4,
      &quot;_row&quot;: &quot;Mazda RX4&quot;
    },
    {
      &quot;mpg&quot;: 21,
      &quot;cyl&quot;: 6,
      &quot;disp&quot;: 160,
      &quot;hp&quot;: 110,
      &quot;drat&quot;: 3.9,
      &quot;wt&quot;: 2.875,
      &quot;qsec&quot;: 17.02,
      &quot;vs&quot;: 0,
      &quot;am&quot;: 1,
      &quot;gear&quot;: 4,
      &quot;carb&quot;: 4,
      &quot;_row&quot;: &quot;Mazda RX4 Wag&quot;
    },
    {
      &quot;mpg&quot;: 22.8,
      &quot;cyl&quot;: 4,
      &quot;disp&quot;: 108,
      &quot;hp&quot;: 93,
      &quot;drat&quot;: 3.85,
      &quot;wt&quot;: 2.32,
      &quot;qsec&quot;: 18.61,
      &quot;vs&quot;: 1,
      &quot;am&quot;: 1,
      &quot;gear&quot;: 4,
      &quot;carb&quot;: 1,
      &quot;_row&quot;: &quot;Datsun 710&quot;
    },
    {
      &quot;mpg&quot;: 21.4,
      &quot;cyl&quot;: 6,
      &quot;disp&quot;: 258,
      &quot;hp&quot;: 110,
      &quot;drat&quot;: 3.08,
      &quot;wt&quot;: 3.215,
      &quot;qsec&quot;: 19.44,
      &quot;vs&quot;: 1,
      &quot;am&quot;: 0,
      &quot;gear&quot;: 3,
      &quot;carb&quot;: 1,
      &quot;_row&quot;: &quot;Hornet 4 Drive&quot;
    },
    {
      &quot;mpg&quot;: 18.7,
      &quot;cyl&quot;: 8,
      &quot;disp&quot;: 360,
      &quot;hp&quot;: 175,
      &quot;drat&quot;: 3.15,
      &quot;wt&quot;: 3.44,
      &quot;qsec&quot;: 17.02,
      &quot;vs&quot;: 0,
      &quot;am&quot;: 0,
      &quot;gear&quot;: 3,
      &quot;carb&quot;: 2,
      &quot;_row&quot;: &quot;Hornet Sportabout&quot;
    },
    {
      &quot;mpg&quot;: 18.1,
      &quot;cyl&quot;: 6,
      &quot;disp&quot;: 225,
      &quot;hp&quot;: 105,
      &quot;drat&quot;: 2.76,
      &quot;wt&quot;: 3.46,
      &quot;qsec&quot;: 20.22,
      &quot;vs&quot;: 1,
      &quot;am&quot;: 0,
      &quot;gear&quot;: 3,
      &quot;carb&quot;: 1,
      &quot;_row&quot;: &quot;Valiant&quot;
    }
  ]
}</code></pre>
</div>
<div id="rc-r-io" class="section level2 hasAnchor">
<h2><span class="header-section-number">12.8</span> Recap<a href="mod-r-io.html#rc-r-io" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li><p>For doing data driven analytics you first must import some data. That is, take data from a database, file, web API etc. and transform it into a data frame/table.</p></li>
<li><p>CSV files contain delimiter separated values in plain text and are often named using the file suffix <code>.csv</code>.</p></li>
<li><p>Each line of a csv file is a data record. Each record consists of one or more fields, separated by a common delimiter (e.g. <code>,</code>, <code>;</code> or <code>_</code>).</p></li>
<li><p>The <a href="https://readxl.tidyverse.org">readxl</a> package can be used to read Excel files.</p></li>
<li><p>Writing to an Excel file can be done using the <a href="https://ycphs.github.io/openxlsx/index.html">openxlsx</a> package.</p></li>
<li><p>You can import and export to Google sheets using the <a href="https://googlesheets4.tidyverse.org/index.html">googlesheets4</a> package in tidyverse.</p></li>
<li><p>Use <code>sink</code> to save output of you R script.</p></li>
<li><p>There are two main types of data files. Information is either binary encoded or stored as text files.</p></li>
<li><p>Text files can be read by humans and computers alike. The great thing about plain text is their simplicity and their ease of use: any programming language can read a plain text file.</p></li>
<li><p>Text files are good for storing tabular data but lacks type-safety, and has limited precision for numeric values.</p></li>
<li><p>Binary file formats cannot be read by humans but allow space-efficient data compression. Moreover they can be used to save non tabular data.</p></li>
<li><p>As most other programming languages, R comes with its own binary format. We will focus on the Rds data format which are optimized for speed and compression ratios.</p></li>
<li><p>Json is an open standard text file format, and data interchange format. It can be used to store non tabular data in text format. It is often used for data-exchange in web-api’s.</p></li>
</ul>
<p>You may also have a look at the <a href="https://bss-osca.github.io/tfa/slides/07-02_r-io-slides.html">slides for this module</a>.</p>
</div>
<div id="ex-r-io" class="section level2 hasAnchor">
<h2><span class="header-section-number">12.9</span> Exercises<a href="mod-r-io.html#ex-r-io" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Below you will find a set of exercises. Always have a look at the exercises before you meet in your study group and try to solve them yourself. Are you stuck, see the <a href="help.html#help">help page</a>. Some of the solutions to each exercise can be seen by pressing the button at each question. Beware, you will not learn by giving up too early. Put some effort into finding a solution! Always practice using shortcuts in RStudio (see <strong>Tools &gt; Keyboard Shortcuts Help</strong>).</p>
<p>Go to the <a href="https://rstudio.cloud/spaces/274292/join?access_code=iLqcFGfYZ43En9-eMNzu7zPusybjK7Mdj0vyazWH">Tools for Analytics</a> workspace and download/export the TM12 project. Open it on your laptop and have a look at the files in the <code>exercises</code> folder which can be used as a starting point.</p>
<div id="exercise-statistikbanken" class="section level3 hasAnchor">
<h3><span class="header-section-number">12.9.1</span> Exercise (Statistikbanken)<a href="mod-r-io.html#exercise-statistikbanken" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Use the <em>exercise R markdown template</em> to solve this exercise (<strong>File &gt; New File &gt; R Markdown…</strong>, select <strong>From template</strong> and then <strong>TFA Exercise</strong>).</p>
<p>You can use the <a href="https://api.statbank.dk/console">API</a> from <a href="https://www.statistikbanken.dk/">Statistikbanken</a> to download a lot of data sets. Let us consider airports in Denmark (data set with table id FLYV41):</p>
<div class="sourceCode" id="cb403"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb403-1"><a href="mod-r-io.html#cb403-1"></a>url &lt;-<span class="st"> &quot;https://api.statbank.dk/v1/data/FLYV41/CSV?lang=en&amp;LUFTHAVN=*&amp;Tid=*&amp;Transport=*&quot;</span></span></code></pre></div>
<ol style="list-style-type: decimal">
<li>Use <code>cat(read_lines(url, n_max = 3), sep = "\n")</code> to have a look at the delimiter used.</li>
</ol>
<div id="BZfuKX0Mdbo7fCahWMhT" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="BZfuKX0Mdbo7fCahWMhT-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="BZfuKX0Mdbo7fCahWMhT-title">
Solution
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb404"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb404-1"><a href="mod-r-io.html#cb404-1"></a>url &lt;-<span class="st"> &#39;https://api.statbank.dk/v1/data/FLYV41/CSV?lang=en&amp;LUFTHAVN=*&amp;Tid=*&amp;Transport=*&#39;</span></span>
<span id="cb404-2"><a href="mod-r-io.html#cb404-2"></a>dat &lt;-<span class="st"> </span><span class="kw">read_csv2</span>(url)</span>
<span id="cb404-3"><a href="mod-r-io.html#cb404-3"></a>dat</span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#BZfuKX0Mdbo7fCahWMhT">
Solution
</button>
<ol start="2" style="list-style-type: decimal">
<li><p>Import the csv file.</p>
<ol start="3" style="list-style-type: decimal">
<li><p>Try to retrieve information and get an overview over the data by running:</p>
<div class="sourceCode" id="cb405"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb405-1"><a href="mod-r-io.html#cb405-1"></a><span class="kw">library</span>(jsonlite)</span>
<span id="cb405-2"><a href="mod-r-io.html#cb405-2"></a>url &lt;-<span class="st"> &quot;https://api.statbank.dk/v1/tableinfo/FLYV41?lang=en&quot;</span></span>
<span id="cb405-3"><a href="mod-r-io.html#cb405-3"></a>lst &lt;-<span class="st"> </span><span class="kw">read_json</span>(url, <span class="dt">simplifyVector =</span> T)</span>
<span id="cb405-4"><a href="mod-r-io.html#cb405-4"></a><span class="kw">View</span>(lst)</span></code></pre></div>
<p>Note the data returned is in json format, so we use <code>read_json</code> to read the data into a list.</p></li>
</ol></li>
</ol>
<div id="ES4FY1Ddim46wvve9uvA" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="ES4FY1Ddim46wvve9uvA-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="ES4FY1Ddim46wvve9uvA-title">
Solution
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb406"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb406-1"><a href="mod-r-io.html#cb406-1"></a>info &lt;-<span class="st"> </span><span class="cf">function</span>(tab_id) {</span>
<span id="cb406-2"><a href="mod-r-io.html#cb406-2"></a>   url &lt;-<span class="st"> </span><span class="kw">str_c</span>(<span class="st">&quot;https://api.statbank.dk/v1/tableinfo/&quot;</span>, tab_id, <span class="st">&quot;?lang=en&quot;</span>)</span>
<span id="cb406-3"><a href="mod-r-io.html#cb406-3"></a>   lst &lt;-<span class="st"> </span><span class="kw">read_json</span>(url, <span class="dt">simplifyVector =</span> T) </span>
<span id="cb406-4"><a href="mod-r-io.html#cb406-4"></a>   <span class="kw">return</span>(<span class="kw">list</span>(<span class="dt">description =</span> lst<span class="op">$</span>description, <span class="dt">unit =</span> lst<span class="op">$</span>unit, <span class="dt">variables =</span> lst<span class="op">$</span>variables[,<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>]))</span>
<span id="cb406-5"><a href="mod-r-io.html#cb406-5"></a>}</span>
<span id="cb406-6"><a href="mod-r-io.html#cb406-6"></a><span class="kw">info</span>(<span class="st">&quot;FLYV41&quot;</span>)</span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#ES4FY1Ddim46wvve9uvA">
Solution
</button>
<div id="4ZMSSmpHjU42EDQYiEtT" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="4ZMSSmpHjU42EDQYiEtT-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="4ZMSSmpHjU42EDQYiEtT-title">
Hint 2
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb407"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb407-1"><a href="mod-r-io.html#cb407-1"></a>info &lt;-<span class="st"> </span><span class="cf">function</span>(tab_id) {</span>
<span id="cb407-2"><a href="mod-r-io.html#cb407-2"></a>   url &lt;-<span class="st"> </span><span class="kw">str_c</span>(___)</span>
<span id="cb407-3"><a href="mod-r-io.html#cb407-3"></a>   lst &lt;-<span class="st"> </span><span class="kw">read_json</span>(___) </span>
<span id="cb407-4"><a href="mod-r-io.html#cb407-4"></a>   <span class="kw">return</span>(<span class="kw">list</span>(<span class="dt">description =</span> lst<span class="op">$</span>___, <span class="dt">unit =</span> ___, ___))</span>
<span id="cb407-5"><a href="mod-r-io.html#cb407-5"></a>}</span>
<span id="cb407-6"><a href="mod-r-io.html#cb407-6"></a><span class="kw">info</span>(<span class="st">&quot;FLYV41&quot;</span>)</span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#4ZMSSmpHjU42EDQYiEtT">
Hint 2
</button>
<div id="GJfjZsPCTNFvS0wN0yNz" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="GJfjZsPCTNFvS0wN0yNz-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="GJfjZsPCTNFvS0wN0yNz-title">
Hint 1
</h4>
</div>
<div class="modal-body">
<p>
You can modify the code in Question 3 to return only parts of the list.
</p>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#GJfjZsPCTNFvS0wN0yNz">
Hint 1
</button>
<ol start="4" style="list-style-type: decimal">
<li><p>Create a function <code>info(tab_id)</code> that returns a list with components <code>description</code>, <code>unit</code> and <code>variables</code> from the information for a data set with table id <code>tab_id</code>.</p>
<ol start="5" style="list-style-type: decimal">
<li><p>Information about all the data sets can be retrieved using:</p>
<div class="sourceCode" id="cb408"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb408-1"><a href="mod-r-io.html#cb408-1"></a>url &lt;-<span class="st"> &quot;https://api.statbank.dk/v1/tables?lang=en&quot;</span></span>
<span id="cb408-2"><a href="mod-r-io.html#cb408-2"></a>lst &lt;-<span class="st"> </span>jsonlite<span class="op">::</span><span class="kw">read_json</span>(url, <span class="dt">simplifyVector =</span> T)</span>
<span id="cb408-3"><a href="mod-r-io.html#cb408-3"></a><span class="kw">View</span>(lst)</span></code></pre></div>
<p>Have a look at the row for FLYV41.</p></li>
</ol></li>
</ol>
<div id="8YnCiZ0FTvzDXetjbDun" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="8YnCiZ0FTvzDXetjbDun-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="8YnCiZ0FTvzDXetjbDun-title">
Solution
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb409"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb409-1"><a href="mod-r-io.html#cb409-1"></a>get_data &lt;-<span class="st"> </span><span class="cf">function</span>(tab_id, <span class="dt">col_id =</span> <span class="ot">NULL</span>) {</span>
<span id="cb409-2"><a href="mod-r-io.html#cb409-2"></a>   url &lt;-<span class="st"> </span><span class="kw">str_c</span>(<span class="st">&quot;https://api.statbank.dk/v1/tableinfo/&quot;</span>, tab_id, <span class="st">&quot;?lang=en&quot;</span>)</span>
<span id="cb409-3"><a href="mod-r-io.html#cb409-3"></a>   lst &lt;-<span class="st"> </span><span class="kw">read_json</span>(url, <span class="dt">simplifyVector =</span> T) </span>
<span id="cb409-4"><a href="mod-r-io.html#cb409-4"></a>   cols &lt;-<span class="st"> </span>lst<span class="op">$</span>variables<span class="op">$</span>id</span>
<span id="cb409-5"><a href="mod-r-io.html#cb409-5"></a>   <span class="cf">if</span> (<span class="op">!</span><span class="kw">is.null</span>(col_id)) cols &lt;-<span class="st"> </span>cols[col_id]</span>
<span id="cb409-6"><a href="mod-r-io.html#cb409-6"></a>   url &lt;-<span class="st"> </span><span class="kw">str_c</span>(<span class="st">&quot;https://api.statbank.dk/v1/data/&quot;</span>, tab_id, <span class="st">&quot;/CSV?lang=en&amp;&quot;</span>, <span class="kw">str_c</span>(cols, <span class="dt">collapse =</span> <span class="st">&quot;=*&amp;&quot;</span>), <span class="st">&quot;=*&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb409-7"><a href="mod-r-io.html#cb409-7"></a><span class="st">      </span><span class="kw">URLencode</span>()</span>
<span id="cb409-8"><a href="mod-r-io.html#cb409-8"></a>   dat &lt;-<span class="st"> </span><span class="kw">read_csv2</span>(url)</span>
<span id="cb409-9"><a href="mod-r-io.html#cb409-9"></a>   <span class="kw">return</span>(dat)</span>
<span id="cb409-10"><a href="mod-r-io.html#cb409-10"></a>}</span>
<span id="cb409-11"><a href="mod-r-io.html#cb409-11"></a><span class="kw">get_data</span>(<span class="st">&quot;FLYV41&quot;</span>, <span class="dv">3</span>)</span>
<span id="cb409-12"><a href="mod-r-io.html#cb409-12"></a><span class="kw">get_data</span>(<span class="st">&quot;FLYV41&quot;</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>)</span>
<span id="cb409-13"><a href="mod-r-io.html#cb409-13"></a><span class="kw">get_data</span>(<span class="st">&quot;FLYV41&quot;</span>)</span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#8YnCiZ0FTvzDXetjbDun">
Solution
</button>
<div id="JEejSrfA0r6JQcLZpKNb" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="JEejSrfA0r6JQcLZpKNb-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="JEejSrfA0r6JQcLZpKNb-title">
Hint
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb410"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb410-1"><a href="mod-r-io.html#cb410-1"></a>get_data &lt;-<span class="st"> </span><span class="cf">function</span>(tab_id, <span class="dt">col_id =</span> <span class="ot">NULL</span>) {</span>
<span id="cb410-2"><a href="mod-r-io.html#cb410-2"></a>   url &lt;-<span class="st"> </span>___</span>
<span id="cb410-3"><a href="mod-r-io.html#cb410-3"></a>   lst &lt;-<span class="st"> </span>___</span>
<span id="cb410-4"><a href="mod-r-io.html#cb410-4"></a>   cols &lt;-<span class="st"> </span>lst<span class="op">$</span>variables<span class="op">$</span>id</span>
<span id="cb410-5"><a href="mod-r-io.html#cb410-5"></a>   <span class="cf">if</span> (<span class="op">!</span><span class="kw">is.null</span>(col_id)) cols &lt;-<span class="st"> </span>cols[___]</span>
<span id="cb410-6"><a href="mod-r-io.html#cb410-6"></a>   url &lt;-<span class="st"> </span>___</span>
<span id="cb410-7"><a href="mod-r-io.html#cb410-7"></a>   dat &lt;-<span class="st"> </span>___</span>
<span id="cb410-8"><a href="mod-r-io.html#cb410-8"></a>   <span class="kw">return</span>(dat)</span>
<span id="cb410-9"><a href="mod-r-io.html#cb410-9"></a>}</span>
<span id="cb410-10"><a href="mod-r-io.html#cb410-10"></a><span class="kw">get_data</span>(<span class="st">&quot;FLYV41&quot;</span>, <span class="dv">3</span>)</span>
<span id="cb410-11"><a href="mod-r-io.html#cb410-11"></a><span class="kw">get_data</span>(<span class="st">&quot;FLYV41&quot;</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>)</span>
<span id="cb410-12"><a href="mod-r-io.html#cb410-12"></a><span class="kw">get_data</span>(<span class="st">&quot;FLYV41&quot;</span>)</span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#JEejSrfA0r6JQcLZpKNb">
Hint
</button>
<ol start="6" style="list-style-type: decimal">
<li><p>Given the information about variables in a data set we can construct the url to retrieve the data in csv format:</p>
<div class="sourceCode" id="cb411"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb411-1"><a href="mod-r-io.html#cb411-1"></a>tab_id &lt;-<span class="st"> &quot;FLYV41&quot;</span></span>
<span id="cb411-2"><a href="mod-r-io.html#cb411-2"></a>url &lt;-<span class="st"> </span><span class="kw">str_c</span>(<span class="st">&quot;https://api.statbank.dk/v1/tableinfo/&quot;</span>, tab_id, <span class="st">&quot;?lang=en&quot;</span>)</span>
<span id="cb411-3"><a href="mod-r-io.html#cb411-3"></a>lst &lt;-<span class="st"> </span><span class="kw">read_json</span>(url, <span class="dt">simplifyVector =</span> T) </span>
<span id="cb411-4"><a href="mod-r-io.html#cb411-4"></a>col_id &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)  <span class="co"># column ids in lst$variables$id</span></span>
<span id="cb411-5"><a href="mod-r-io.html#cb411-5"></a>cols &lt;-<span class="st"> </span>lst<span class="op">$</span>variables<span class="op">$</span>id[col_id]</span>
<span id="cb411-6"><a href="mod-r-io.html#cb411-6"></a>url &lt;-<span class="st"> </span><span class="kw">str_c</span>(<span class="st">&quot;https://api.statbank.dk/v1/data/&quot;</span>, tab_id, <span class="st">&quot;/CSV?lang=en&amp;&quot;</span>, <span class="kw">str_c</span>(cols, <span class="dt">collapse =</span> <span class="st">&quot;=*&amp;&quot;</span>), <span class="st">&quot;=*&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb411-7"><a href="mod-r-io.html#cb411-7"></a><span class="st">   </span><span class="kw">URLencode</span>()</span>
<span id="cb411-8"><a href="mod-r-io.html#cb411-8"></a>url</span>
<span id="cb411-9"><a href="mod-r-io.html#cb411-9"></a><span class="co">#&gt; [1] &quot;https://api.statbank.dk/v1/data/FLYV41/CSV?lang=en&amp;LUFTHAVN=*&amp;Tid=*&quot;</span></span></code></pre></div>
<p>Create a function <code>get_data(tab_id, col_id)</code> that retrieve a data set.</p></li>
</ol>
<div id="U6qRknO0k4W7f3nfF930" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="U6qRknO0k4W7f3nfF930-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="U6qRknO0k4W7f3nfF930-title">
Solution
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb412"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb412-1"><a href="mod-r-io.html#cb412-1"></a>dat &lt;-<span class="st"> </span><span class="kw">get_data</span>(<span class="st">&quot;FOLK1A&quot;</span>, <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">5</span>))</span>
<span id="cb412-2"><a href="mod-r-io.html#cb412-2"></a>dat</span>
<span id="cb412-3"><a href="mod-r-io.html#cb412-3"></a><span class="kw">write_csv</span>(dat, <span class="st">&quot;test.csv&quot;</span>)</span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#U6qRknO0k4W7f3nfF930">
Solution
</button>
<ol start="7" style="list-style-type: decimal">
<li>Use the function <code>get_data</code> to retrieve data for <code>tab_id = "FOLK1A"</code> and <code>col_id = c(2, 3, 5)</code> and save it as a csv file with a comma as delimiter.</li>
</ol>
<div id="pG3LZnL8lszeFdRCbyCQ" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="pG3LZnL8lszeFdRCbyCQ-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="pG3LZnL8lszeFdRCbyCQ-title">
Solution
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb413"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb413-1"><a href="mod-r-io.html#cb413-1"></a><span class="kw">library</span>(openxlsx)</span>
<span id="cb413-2"><a href="mod-r-io.html#cb413-2"></a><span class="kw">write.xlsx</span>(dat, <span class="st">&quot;test.xlsx&quot;</span>, <span class="dt">sheetName =</span> <span class="st">&quot;FOLK1A&quot;</span>) </span>
<span id="cb413-3"><a href="mod-r-io.html#cb413-3"></a></span>
<span id="cb413-4"><a href="mod-r-io.html#cb413-4"></a><span class="kw">library</span>(googlesheets4)</span>
<span id="cb413-5"><a href="mod-r-io.html#cb413-5"></a>gs &lt;-<span class="st"> </span><span class="kw">gs4_create</span>(<span class="st">&quot;test&quot;</span>)</span>
<span id="cb413-6"><a href="mod-r-io.html#cb413-6"></a><span class="kw">write_sheet</span>(dat, <span class="dt">ss =</span> gs, <span class="dt">sheet =</span> <span class="st">&quot;FOLK1A&quot;</span>)</span>
<span id="cb413-7"><a href="mod-r-io.html#cb413-7"></a><span class="kw">gs4_browse</span>(gs)</span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#pG3LZnL8lszeFdRCbyCQ">
Solution
</button>
<div id="L26P21ANaKUkAqJEJmFv" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="L26P21ANaKUkAqJEJmFv-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="L26P21ANaKUkAqJEJmFv-title">
Hint
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb414"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb414-1"><a href="mod-r-io.html#cb414-1"></a><span class="kw">library</span>(openxlsx)</span>
<span id="cb414-2"><a href="mod-r-io.html#cb414-2"></a><span class="kw">write.xlsx</span>(___) </span>
<span id="cb414-3"><a href="mod-r-io.html#cb414-3"></a></span>
<span id="cb414-4"><a href="mod-r-io.html#cb414-4"></a><span class="kw">library</span>(googlesheets4)</span>
<span id="cb414-5"><a href="mod-r-io.html#cb414-5"></a>gs &lt;-<span class="st"> </span><span class="kw">gs4_create</span>(<span class="st">&quot;test&quot;</span>)</span>
<span id="cb414-6"><a href="mod-r-io.html#cb414-6"></a><span class="kw">write_sheet</span>(___, <span class="dt">ss =</span> ___, <span class="dt">sheet =</span> <span class="st">&quot;FOLK1A&quot;</span>)</span>
<span id="cb414-7"><a href="mod-r-io.html#cb414-7"></a><span class="kw">gs4_browse</span>(gs)</span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#L26P21ANaKUkAqJEJmFv">
Hint
</button>
<ol start="8" style="list-style-type: decimal">
<li>Save the data in an Excel file and a Google sheet.</li>
</ol>
</div>
<div id="exercise-tuples-in-opl" class="section level3 hasAnchor">
<h3><span class="header-section-number">12.9.2</span> Exercise (tuples in OPL)<a href="mod-r-io.html#exercise-tuples-in-opl" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In the algebraic modeling language OPL (Optimization Programming Language) used by <a href="https://www.ibm.com/products/ilog-cplex-optimization-studio">IBM ILOG CPLEX Optimization Studio</a>, you can define tuples to contain various information. For example consider tuples defined as:</p>
<div class="sourceCode" id="cb415"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb415-1"><a href="mod-r-io.html#cb415-1"></a>tuple nurse {</span>
<span id="cb415-2"><a href="mod-r-io.html#cb415-2"></a>  string name;</span>
<span id="cb415-3"><a href="mod-r-io.html#cb415-3"></a>  <span class="dt">int</span> experience;   <span class="co">// higest best</span></span>
<span id="cb415-4"><a href="mod-r-io.html#cb415-4"></a>}</span>
<span id="cb415-5"><a href="mod-r-io.html#cb415-5"></a></span>
<span id="cb415-6"><a href="mod-r-io.html#cb415-6"></a>tuple shift {</span>
<span id="cb415-7"><a href="mod-r-io.html#cb415-7"></a>   string departmentName;</span>
<span id="cb415-8"><a href="mod-r-io.html#cb415-8"></a>   string day;</span>
<span id="cb415-9"><a href="mod-r-io.html#cb415-9"></a>   <span class="dt">int</span> startTime;</span>
<span id="cb415-10"><a href="mod-r-io.html#cb415-10"></a>   <span class="dt">int</span> endTime;</span>
<span id="cb415-11"><a href="mod-r-io.html#cb415-11"></a>}</span></code></pre></div>
<p>A <code>nurse</code> tuple is then defined as <code>&lt;"Anne", 11&gt;</code> and a <code>shift</code> tuple as `&lt;“Consultation”, “Monday” 12, 18&gt;.</p>
<p>A set of tuples can be defined using:</p>
<div class="sourceCode" id="cb416"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb416-1"><a href="mod-r-io.html#cb416-1"></a>{nurse} nurses = ...;</span>
<span id="cb416-2"><a href="mod-r-io.html#cb416-2"></a>{shift} shifts = ...;</span></code></pre></div>
<p>where the <code>...</code> operator means that the sets are read from a data text file:</p>
<div class="sourceCode" id="cb417"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb417-1"><a href="mod-r-io.html#cb417-1"></a>nurses = {</span>
<span id="cb417-2"><a href="mod-r-io.html#cb417-2"></a>   &lt;<span class="st">&quot;Anne&quot;</span>, <span class="dv">11</span>&gt;, </span>
<span id="cb417-3"><a href="mod-r-io.html#cb417-3"></a>   &lt;<span class="st">&quot;Bethanie&quot;</span>, <span class="dv">4</span>&gt;, </span>
<span id="cb417-4"><a href="mod-r-io.html#cb417-4"></a>   &lt;<span class="st">&quot;Betsy&quot;</span>, <span class="dv">2</span>&gt;</span>
<span id="cb417-5"><a href="mod-r-io.html#cb417-5"></a>};</span>
<span id="cb417-6"><a href="mod-r-io.html#cb417-6"></a></span>
<span id="cb417-7"><a href="mod-r-io.html#cb417-7"></a>shifts = {</span>
<span id="cb417-8"><a href="mod-r-io.html#cb417-8"></a>   &lt;<span class="st">&quot;Emergency&quot;</span>, <span class="st">&quot;Monday&quot;</span>, <span class="dv">2</span>, <span class="dv">8</span>&gt;,</span>
<span id="cb417-9"><a href="mod-r-io.html#cb417-9"></a>   &lt;<span class="st">&quot;Emergency&quot;</span>, Monday <span class="dv">8</span> <span class="dv">12</span> <span class="dv">4</span> <span class="dv">7</span>&gt;, </span>
<span id="cb417-10"><a href="mod-r-io.html#cb417-10"></a>   &lt;<span class="st">&quot;Emergency&quot;</span>, <span class="st">&quot;Monday&quot;</span> <span class="dv">12</span> <span class="dv">18</span> <span class="dv">2</span> <span class="dv">5</span>&gt; </span>
<span id="cb417-11"><a href="mod-r-io.html#cb417-11"></a>};</span></code></pre></div>
<p>You can now use the sets to define decision variables <span class="math inline">\(x_{ns}\)</span> equal one if nurse <span class="math inline">\(n\)</span> is assigned to shift <span class="math inline">\(s\)</span>.</p>
<p>In this exercise we will try to generate the data text file given tibbles with data.</p>
<div id="9DcFhkGZuhqvIe8qfjJf" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="9DcFhkGZuhqvIe8qfjJf-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="9DcFhkGZuhqvIe8qfjJf-title">
Solution
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb418"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb418-1"><a href="mod-r-io.html#cb418-1"></a>file =<span class="st"> &quot;test.dat&quot;</span></span>
<span id="cb418-2"><a href="mod-r-io.html#cb418-2"></a><span class="kw">write_lines</span>(<span class="st">&quot;nurses = {&quot;</span>, file)</span>
<span id="cb418-3"><a href="mod-r-io.html#cb418-3"></a><span class="kw">write_lines</span>(<span class="st">&#39;   &lt;&quot;Anne&quot;, 11&gt;&#39;</span>, file, <span class="dt">append =</span> <span class="ot">TRUE</span>)</span>
<span id="cb418-4"><a href="mod-r-io.html#cb418-4"></a><span class="kw">write_lines</span>(<span class="st">&#39;};&#39;</span>, file, <span class="dt">append =</span> <span class="ot">TRUE</span>)</span>
<span id="cb418-5"><a href="mod-r-io.html#cb418-5"></a><span class="kw">cat</span>(<span class="kw">read_file</span>(<span class="st">&quot;test.dat&quot;</span>))</span>
<span id="cb418-6"><a href="mod-r-io.html#cb418-6"></a><span class="co">#&gt; nurses = {</span></span>
<span id="cb418-7"><a href="mod-r-io.html#cb418-7"></a><span class="co">#&gt;    &lt;&quot;Anne&quot;, 11&gt;</span></span>
<span id="cb418-8"><a href="mod-r-io.html#cb418-8"></a><span class="co">#&gt; };</span></span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#9DcFhkGZuhqvIe8qfjJf">
Solution
</button>
<div id="SemtW9G8EicSdWKldmBO" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="SemtW9G8EicSdWKldmBO-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="SemtW9G8EicSdWKldmBO-title">
Hint
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb419"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb419-1"><a href="mod-r-io.html#cb419-1"></a>file =<span class="st"> &quot;test.dat&quot;</span></span>
<span id="cb419-2"><a href="mod-r-io.html#cb419-2"></a><span class="kw">write_lines</span>(<span class="st">&quot;nurses = {&quot;</span>, file)</span>
<span id="cb419-3"><a href="mod-r-io.html#cb419-3"></a><span class="kw">write_lines</span>(___, ___, <span class="dt">append =</span> <span class="ot">TRUE</span>)</span>
<span id="cb419-4"><a href="mod-r-io.html#cb419-4"></a><span class="kw">write_lines</span>(___, ___, <span class="dt">append =</span> <span class="ot">TRUE</span>)</span>
<span id="cb419-5"><a href="mod-r-io.html#cb419-5"></a><span class="kw">cat</span>(<span class="kw">read_file</span>(<span class="st">&quot;test.dat&quot;</span>))  <span class="co"># to have a look </span></span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#SemtW9G8EicSdWKldmBO">
Hint
</button>
<ol style="list-style-type: decimal">
<li><p>Try to generate a text file named <code>test.dat</code> using function <code>write_lines</code> with content</p>
<div class="sourceCode" id="cb420"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb420-1"><a href="mod-r-io.html#cb420-1"></a>nurses = {</span>
<span id="cb420-2"><a href="mod-r-io.html#cb420-2"></a>   &lt;<span class="st">&quot;Anne&quot;</span>, <span class="dv">11</span>&gt;</span>
<span id="cb420-3"><a href="mod-r-io.html#cb420-3"></a>};</span></code></pre></div></li>
</ol>
<p>Load datasets</p>
<div class="sourceCode" id="cb421"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb421-1"><a href="mod-r-io.html#cb421-1"></a><span class="co"># remotes::install_github(&quot;bss-osca/tfa/tfa-package&quot;, dependencies = FALSE)  # if tfa not installed</span></span>
<span id="cb421-2"><a href="mod-r-io.html#cb421-2"></a><span class="kw">library</span>(tfa)</span>
<span id="cb421-3"><a href="mod-r-io.html#cb421-3"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb421-4"><a href="mod-r-io.html#cb421-4"></a>nurses &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="kw">system.file</span>(<span class="st">&quot;extdata/nurses.csv&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;tfa&quot;</span>))</span>
<span id="cb421-5"><a href="mod-r-io.html#cb421-5"></a>shifts &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="kw">system.file</span>(<span class="st">&quot;extdata/shifts.csv&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;tfa&quot;</span>))</span></code></pre></div>
<div id="xN4WwrYfVv5Umrto9jle" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="xN4WwrYfVv5Umrto9jle-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="xN4WwrYfVv5Umrto9jle-title">
Solution
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb422"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb422-1"><a href="mod-r-io.html#cb422-1"></a>nurses <span class="op">%&gt;%</span></span>
<span id="cb422-2"><a href="mod-r-io.html#cb422-2"></a><span class="st">   </span><span class="kw">mutate</span>(<span class="kw">across</span>(<span class="kw">where</span>(is.character), <span class="op">~</span><span class="kw">str_c</span>(<span class="st">&#39;&quot;&#39;</span>, .x, <span class="st">&#39;&quot;&#39;</span>))) </span>
<span id="cb422-3"><a href="mod-r-io.html#cb422-3"></a><span class="co">#&gt; # A tibble: 32 × 2</span></span>
<span id="cb422-4"><a href="mod-r-io.html#cb422-4"></a><span class="co">#&gt;    name           experience</span></span>
<span id="cb422-5"><a href="mod-r-io.html#cb422-5"></a><span class="co">#&gt;    &lt;chr&gt;               &lt;dbl&gt;</span></span>
<span id="cb422-6"><a href="mod-r-io.html#cb422-6"></a><span class="co">#&gt;  1 &quot;\&quot;Anne\&quot;&quot;             11</span></span>
<span id="cb422-7"><a href="mod-r-io.html#cb422-7"></a><span class="co">#&gt;  2 &quot;\&quot;Bethanie\&quot;&quot;          4</span></span>
<span id="cb422-8"><a href="mod-r-io.html#cb422-8"></a><span class="co">#&gt;  3 &quot;\&quot;Betsy\&quot;&quot;             2</span></span>
<span id="cb422-9"><a href="mod-r-io.html#cb422-9"></a><span class="co">#&gt;  4 &quot;\&quot;Cathy\&quot;&quot;             2</span></span>
<span id="cb422-10"><a href="mod-r-io.html#cb422-10"></a><span class="co">#&gt;  5 &quot;\&quot;Cecilia\&quot;&quot;           9</span></span>
<span id="cb422-11"><a href="mod-r-io.html#cb422-11"></a><span class="co">#&gt;  6 &quot;\&quot;Chris\&quot;&quot;            11</span></span>
<span id="cb422-12"><a href="mod-r-io.html#cb422-12"></a><span class="co">#&gt;  7 &quot;\&quot;Cindy\&quot;&quot;             5</span></span>
<span id="cb422-13"><a href="mod-r-io.html#cb422-13"></a><span class="co">#&gt;  8 &quot;\&quot;David\&quot;&quot;             1</span></span>
<span id="cb422-14"><a href="mod-r-io.html#cb422-14"></a><span class="co">#&gt;  9 &quot;\&quot;Debbie\&quot;&quot;            7</span></span>
<span id="cb422-15"><a href="mod-r-io.html#cb422-15"></a><span class="co">#&gt; 10 &quot;\&quot;Dee\&quot;&quot;               3</span></span>
<span id="cb422-16"><a href="mod-r-io.html#cb422-16"></a><span class="co">#&gt; # … with 22 more rows</span></span>
<span id="cb422-17"><a href="mod-r-io.html#cb422-17"></a><span class="co">#&gt; # ℹ Use `print(n = ...)` to see more rows</span></span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#xN4WwrYfVv5Umrto9jle">
Solution
</button>
<div id="uOxSCa9WPpYSBTEJrRQT" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="uOxSCa9WPpYSBTEJrRQT-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="uOxSCa9WPpYSBTEJrRQT-title">
Hint 2
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb423"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb423-1"><a href="mod-r-io.html#cb423-1"></a>nurses <span class="op">%&gt;%</span></span>
<span id="cb423-2"><a href="mod-r-io.html#cb423-2"></a><span class="st">   </span><span class="kw">mutate</span>(<span class="kw">across</span>(<span class="kw">where</span>(___), <span class="op">~</span><span class="kw">str_c</span>(<span class="st">&#39;___&#39;</span>, .x, <span class="st">&#39;___&#39;</span>))) </span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#uOxSCa9WPpYSBTEJrRQT">
Hint 2
</button>
<div id="p0J5pTXOS7114Mlk6x8U" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="p0J5pTXOS7114Mlk6x8U-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="p0J5pTXOS7114Mlk6x8U-title">
Hint 1
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb424"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb424-1"><a href="mod-r-io.html#cb424-1"></a>v &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;foo&quot;</span>, <span class="st">&quot;bar&quot;</span>)</span>
<span id="cb424-2"><a href="mod-r-io.html#cb424-2"></a><span class="kw">str_c</span>(<span class="st">&#39;&quot;&#39;</span>, v, <span class="st">&#39;&quot;&#39;</span>)  <span class="co"># use of str_c to add &quot;</span></span>
<span id="cb424-3"><a href="mod-r-io.html#cb424-3"></a><span class="co">#&gt; [1] &quot;\&quot;foo\&quot;&quot; &quot;\&quot;bar\&quot;&quot;</span></span>
<span id="cb424-4"><a href="mod-r-io.html#cb424-4"></a><span class="kw">str_c</span>(v, <span class="dt">collapse =</span> <span class="st">&quot;, &quot;</span>) <span class="co"># collapsing a vector</span></span>
<span id="cb424-5"><a href="mod-r-io.html#cb424-5"></a><span class="co">#&gt; [1] &quot;foo, bar&quot;</span></span>
<span id="cb424-6"><a href="mod-r-io.html#cb424-6"></a>tbl &lt;-<span class="st"> </span><span class="kw">tribble</span>(</span>
<span id="cb424-7"><a href="mod-r-io.html#cb424-7"></a>   <span class="op">~</span>name, <span class="op">~</span>experience,</span>
<span id="cb424-8"><a href="mod-r-io.html#cb424-8"></a>   <span class="st">&quot;Anne&quot;</span>, <span class="dv">11</span>,</span>
<span id="cb424-9"><a href="mod-r-io.html#cb424-9"></a>   <span class="st">&quot;Bethanie&quot;</span>, <span class="dv">4</span></span>
<span id="cb424-10"><a href="mod-r-io.html#cb424-10"></a>)</span>
<span id="cb424-11"><a href="mod-r-io.html#cb424-11"></a>tbl</span>
<span id="cb424-12"><a href="mod-r-io.html#cb424-12"></a><span class="co">#&gt; # A tibble: 2 × 2</span></span>
<span id="cb424-13"><a href="mod-r-io.html#cb424-13"></a><span class="co">#&gt;   name     experience</span></span>
<span id="cb424-14"><a href="mod-r-io.html#cb424-14"></a><span class="co">#&gt;   &lt;chr&gt;         &lt;dbl&gt;</span></span>
<span id="cb424-15"><a href="mod-r-io.html#cb424-15"></a><span class="co">#&gt; 1 Anne             11</span></span>
<span id="cb424-16"><a href="mod-r-io.html#cb424-16"></a><span class="co">#&gt; 2 Bethanie          4</span></span>
<span id="cb424-17"><a href="mod-r-io.html#cb424-17"></a>tbl <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb424-18"><a href="mod-r-io.html#cb424-18"></a><span class="st">   </span><span class="kw">mutate</span>(<span class="kw">across</span>(<span class="kw">where</span>(is.character), <span class="co"># use across to find all character columns</span></span>
<span id="cb424-19"><a href="mod-r-io.html#cb424-19"></a>                 <span class="op">~</span><span class="kw">str_c</span>(<span class="st">&#39;(&#39;</span>, .x, <span class="st">&#39;)&#39;</span>))) <span class="co"># str_c is applied to each column where .x is the column values </span></span>
<span id="cb424-20"><a href="mod-r-io.html#cb424-20"></a><span class="co">#&gt; # A tibble: 2 × 2</span></span>
<span id="cb424-21"><a href="mod-r-io.html#cb424-21"></a><span class="co">#&gt;   name       experience</span></span>
<span id="cb424-22"><a href="mod-r-io.html#cb424-22"></a><span class="co">#&gt;   &lt;chr&gt;           &lt;dbl&gt;</span></span>
<span id="cb424-23"><a href="mod-r-io.html#cb424-23"></a><span class="co">#&gt; 1 (Anne)             11</span></span>
<span id="cb424-24"><a href="mod-r-io.html#cb424-24"></a><span class="co">#&gt; 2 (Bethanie)          4</span></span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#p0J5pTXOS7114Mlk6x8U">
Hint 1
</button>
<ol start="2" style="list-style-type: decimal">
<li>Transform all character columns in <code>nurses</code> so they start and end with <code>"</code>. Some hints are given in Hint 1.</li>
</ol>
<div id="ZvoXNXnc6BqTmoIEcNs7" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="ZvoXNXnc6BqTmoIEcNs7-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="ZvoXNXnc6BqTmoIEcNs7-title">
Solution
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb425"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb425-1"><a href="mod-r-io.html#cb425-1"></a>nurses <span class="op">%&gt;%</span></span>
<span id="cb425-2"><a href="mod-r-io.html#cb425-2"></a><span class="st">   </span><span class="kw">mutate</span>(<span class="kw">across</span>(<span class="kw">where</span>(is.character), <span class="op">~</span><span class="kw">str_c</span>(<span class="st">&#39;&quot;&#39;</span>, .x, <span class="st">&#39;&quot;&#39;</span>))) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb425-3"><a href="mod-r-io.html#cb425-3"></a><span class="st">   </span><span class="kw">unite</span>(<span class="st">&quot;tuple&quot;</span>, <span class="kw">everything</span>(), <span class="dt">sep =</span> <span class="st">&quot;, &quot;</span>, <span class="dt">remove =</span> <span class="ot">FALSE</span>)</span>
<span id="cb425-4"><a href="mod-r-io.html#cb425-4"></a><span class="co">#&gt; # A tibble: 32 × 3</span></span>
<span id="cb425-5"><a href="mod-r-io.html#cb425-5"></a><span class="co">#&gt;    tuple             name           experience</span></span>
<span id="cb425-6"><a href="mod-r-io.html#cb425-6"></a><span class="co">#&gt;    &lt;chr&gt;             &lt;chr&gt;               &lt;dbl&gt;</span></span>
<span id="cb425-7"><a href="mod-r-io.html#cb425-7"></a><span class="co">#&gt;  1 &quot;\&quot;Anne\&quot;, 11&quot;    &quot;\&quot;Anne\&quot;&quot;             11</span></span>
<span id="cb425-8"><a href="mod-r-io.html#cb425-8"></a><span class="co">#&gt;  2 &quot;\&quot;Bethanie\&quot;, 4&quot; &quot;\&quot;Bethanie\&quot;&quot;          4</span></span>
<span id="cb425-9"><a href="mod-r-io.html#cb425-9"></a><span class="co">#&gt;  3 &quot;\&quot;Betsy\&quot;, 2&quot;    &quot;\&quot;Betsy\&quot;&quot;             2</span></span>
<span id="cb425-10"><a href="mod-r-io.html#cb425-10"></a><span class="co">#&gt;  4 &quot;\&quot;Cathy\&quot;, 2&quot;    &quot;\&quot;Cathy\&quot;&quot;             2</span></span>
<span id="cb425-11"><a href="mod-r-io.html#cb425-11"></a><span class="co">#&gt;  5 &quot;\&quot;Cecilia\&quot;, 9&quot;  &quot;\&quot;Cecilia\&quot;&quot;           9</span></span>
<span id="cb425-12"><a href="mod-r-io.html#cb425-12"></a><span class="co">#&gt;  6 &quot;\&quot;Chris\&quot;, 11&quot;   &quot;\&quot;Chris\&quot;&quot;            11</span></span>
<span id="cb425-13"><a href="mod-r-io.html#cb425-13"></a><span class="co">#&gt;  7 &quot;\&quot;Cindy\&quot;, 5&quot;    &quot;\&quot;Cindy\&quot;&quot;             5</span></span>
<span id="cb425-14"><a href="mod-r-io.html#cb425-14"></a><span class="co">#&gt;  8 &quot;\&quot;David\&quot;, 1&quot;    &quot;\&quot;David\&quot;&quot;             1</span></span>
<span id="cb425-15"><a href="mod-r-io.html#cb425-15"></a><span class="co">#&gt;  9 &quot;\&quot;Debbie\&quot;, 7&quot;   &quot;\&quot;Debbie\&quot;&quot;            7</span></span>
<span id="cb425-16"><a href="mod-r-io.html#cb425-16"></a><span class="co">#&gt; 10 &quot;\&quot;Dee\&quot;, 3&quot;      &quot;\&quot;Dee\&quot;&quot;               3</span></span>
<span id="cb425-17"><a href="mod-r-io.html#cb425-17"></a><span class="co">#&gt; # … with 22 more rows</span></span>
<span id="cb425-18"><a href="mod-r-io.html#cb425-18"></a><span class="co">#&gt; # ℹ Use `print(n = ...)` to see more rows</span></span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#ZvoXNXnc6BqTmoIEcNs7">
Solution
</button>
<div id="9dBfVjK6OXjAaUwu9Jhl" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="9dBfVjK6OXjAaUwu9Jhl-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="9dBfVjK6OXjAaUwu9Jhl-title">
Hint
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb426"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb426-1"><a href="mod-r-io.html#cb426-1"></a>nurses <span class="op">%&gt;%</span></span>
<span id="cb426-2"><a href="mod-r-io.html#cb426-2"></a><span class="st">   </span><span class="kw">mutate</span>(<span class="kw">across</span>(<span class="kw">where</span>(is.character), <span class="op">~</span><span class="kw">str_c</span>(<span class="st">&#39;&quot;&#39;</span>, .x, <span class="st">&#39;&quot;&#39;</span>))) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb426-3"><a href="mod-r-io.html#cb426-3"></a><span class="st">   </span><span class="kw">unite</span>(<span class="st">&quot;tuple&quot;</span>, <span class="kw">everything</span>(), <span class="dt">sep =</span> ___, <span class="dt">remove =</span> ___)</span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#9dBfVjK6OXjAaUwu9Jhl">
Hint
</button>
<ol start="3" style="list-style-type: decimal">
<li>Unite all columns into a new column named <code>tuple</code> where each column is separated with <code>,</code>. Hint: have a look at the <code>unite</code> function. All columns can be selected using <code>everything()</code>.</li>
</ol>
<div id="VEAJ2fkFS26tcdSHw1Ay" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="VEAJ2fkFS26tcdSHw1Ay-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="VEAJ2fkFS26tcdSHw1Ay-title">
Solution
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb427"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb427-1"><a href="mod-r-io.html#cb427-1"></a>nurses <span class="op">%&gt;%</span></span>
<span id="cb427-2"><a href="mod-r-io.html#cb427-2"></a><span class="st">   </span><span class="kw">mutate</span>(<span class="kw">across</span>(<span class="kw">where</span>(is.character), <span class="op">~</span><span class="kw">str_c</span>(<span class="st">&#39;&quot;&#39;</span>, .x, <span class="st">&#39;&quot;&#39;</span>))) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb427-3"><a href="mod-r-io.html#cb427-3"></a><span class="st">   </span><span class="kw">unite</span>(<span class="st">&quot;tuple&quot;</span>, <span class="kw">everything</span>(), <span class="dt">sep =</span> <span class="st">&quot;, &quot;</span>, <span class="dt">remove =</span> <span class="ot">FALSE</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb427-4"><a href="mod-r-io.html#cb427-4"></a><span class="st">   </span><span class="kw">mutate</span>(<span class="dt">tuple =</span> <span class="kw">str_c</span>(<span class="st">&quot;&lt;&quot;</span>, tuple, <span class="st">&quot;&gt;&quot;</span>))</span>
<span id="cb427-5"><a href="mod-r-io.html#cb427-5"></a><span class="co">#&gt; # A tibble: 32 × 3</span></span>
<span id="cb427-6"><a href="mod-r-io.html#cb427-6"></a><span class="co">#&gt;    tuple               name           experience</span></span>
<span id="cb427-7"><a href="mod-r-io.html#cb427-7"></a><span class="co">#&gt;    &lt;chr&gt;               &lt;chr&gt;               &lt;dbl&gt;</span></span>
<span id="cb427-8"><a href="mod-r-io.html#cb427-8"></a><span class="co">#&gt;  1 &quot;&lt;\&quot;Anne\&quot;, 11&gt;&quot;    &quot;\&quot;Anne\&quot;&quot;             11</span></span>
<span id="cb427-9"><a href="mod-r-io.html#cb427-9"></a><span class="co">#&gt;  2 &quot;&lt;\&quot;Bethanie\&quot;, 4&gt;&quot; &quot;\&quot;Bethanie\&quot;&quot;          4</span></span>
<span id="cb427-10"><a href="mod-r-io.html#cb427-10"></a><span class="co">#&gt;  3 &quot;&lt;\&quot;Betsy\&quot;, 2&gt;&quot;    &quot;\&quot;Betsy\&quot;&quot;             2</span></span>
<span id="cb427-11"><a href="mod-r-io.html#cb427-11"></a><span class="co">#&gt;  4 &quot;&lt;\&quot;Cathy\&quot;, 2&gt;&quot;    &quot;\&quot;Cathy\&quot;&quot;             2</span></span>
<span id="cb427-12"><a href="mod-r-io.html#cb427-12"></a><span class="co">#&gt;  5 &quot;&lt;\&quot;Cecilia\&quot;, 9&gt;&quot;  &quot;\&quot;Cecilia\&quot;&quot;           9</span></span>
<span id="cb427-13"><a href="mod-r-io.html#cb427-13"></a><span class="co">#&gt;  6 &quot;&lt;\&quot;Chris\&quot;, 11&gt;&quot;   &quot;\&quot;Chris\&quot;&quot;            11</span></span>
<span id="cb427-14"><a href="mod-r-io.html#cb427-14"></a><span class="co">#&gt;  7 &quot;&lt;\&quot;Cindy\&quot;, 5&gt;&quot;    &quot;\&quot;Cindy\&quot;&quot;             5</span></span>
<span id="cb427-15"><a href="mod-r-io.html#cb427-15"></a><span class="co">#&gt;  8 &quot;&lt;\&quot;David\&quot;, 1&gt;&quot;    &quot;\&quot;David\&quot;&quot;             1</span></span>
<span id="cb427-16"><a href="mod-r-io.html#cb427-16"></a><span class="co">#&gt;  9 &quot;&lt;\&quot;Debbie\&quot;, 7&gt;&quot;   &quot;\&quot;Debbie\&quot;&quot;            7</span></span>
<span id="cb427-17"><a href="mod-r-io.html#cb427-17"></a><span class="co">#&gt; 10 &quot;&lt;\&quot;Dee\&quot;, 3&gt;&quot;      &quot;\&quot;Dee\&quot;&quot;               3</span></span>
<span id="cb427-18"><a href="mod-r-io.html#cb427-18"></a><span class="co">#&gt; # … with 22 more rows</span></span>
<span id="cb427-19"><a href="mod-r-io.html#cb427-19"></a><span class="co">#&gt; # ℹ Use `print(n = ...)` to see more rows</span></span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#VEAJ2fkFS26tcdSHw1Ay">
Solution
</button>
<div id="nzGa4nst0EbMh2eEGjBN" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="nzGa4nst0EbMh2eEGjBN-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="nzGa4nst0EbMh2eEGjBN-title">
Hint
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb428"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb428-1"><a href="mod-r-io.html#cb428-1"></a>nurses <span class="op">%&gt;%</span></span>
<span id="cb428-2"><a href="mod-r-io.html#cb428-2"></a><span class="st">   </span><span class="kw">mutate</span>(<span class="kw">across</span>(<span class="kw">where</span>(is.character), <span class="op">~</span><span class="kw">str_c</span>(<span class="st">&#39;&quot;&#39;</span>, .x, <span class="st">&#39;&quot;&#39;</span>))) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb428-3"><a href="mod-r-io.html#cb428-3"></a><span class="st">   </span><span class="kw">unite</span>(<span class="st">&quot;tuple&quot;</span>, <span class="kw">everything</span>(), <span class="dt">sep =</span> <span class="st">&quot;, &quot;</span>, <span class="dt">remove =</span> <span class="ot">FALSE</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb428-4"><a href="mod-r-io.html#cb428-4"></a><span class="st">   </span><span class="kw">mutate</span>(<span class="dt">tuple =</span> <span class="kw">str_c</span>(___, tuple, ___))</span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#nzGa4nst0EbMh2eEGjBN">
Hint
</button>
<ol start="4" style="list-style-type: decimal">
<li>Add <code>&lt;</code> and <code>&gt;</code> the start and end of the <code>tuple</code> column.</li>
</ol>
<div id="gPXS71An841PqKRPLvvH" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="gPXS71An841PqKRPLvvH-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="gPXS71An841PqKRPLvvH-title">
Solution
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb429"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb429-1"><a href="mod-r-io.html#cb429-1"></a>nurses <span class="op">%&gt;%</span></span>
<span id="cb429-2"><a href="mod-r-io.html#cb429-2"></a><span class="st">   </span><span class="kw">mutate</span>(<span class="kw">across</span>(<span class="kw">where</span>(is.character), <span class="op">~</span><span class="kw">str_c</span>(<span class="st">&#39;&quot;&#39;</span>, .x, <span class="st">&#39;&quot;&#39;</span>))) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb429-3"><a href="mod-r-io.html#cb429-3"></a><span class="st">   </span><span class="kw">unite</span>(<span class="st">&quot;tuple&quot;</span>, <span class="kw">everything</span>(), <span class="dt">sep =</span> <span class="st">&quot;, &quot;</span>, <span class="dt">remove =</span> <span class="ot">FALSE</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb429-4"><a href="mod-r-io.html#cb429-4"></a><span class="st">   </span><span class="kw">mutate</span>(<span class="dt">tuple =</span> <span class="kw">str_c</span>(<span class="st">&quot;&lt;&quot;</span>, tuple, <span class="st">&quot;&gt;&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb429-5"><a href="mod-r-io.html#cb429-5"></a><span class="st">   </span><span class="kw">pull</span>(tuple) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb429-6"><a href="mod-r-io.html#cb429-6"></a><span class="st">   </span><span class="kw">str_c</span>(<span class="dt">collapse =</span> <span class="st">&quot;,</span><span class="ch">\n</span><span class="st">&quot;</span>)</span>
<span id="cb429-7"><a href="mod-r-io.html#cb429-7"></a><span class="co">#&gt; [1] &quot;&lt;\&quot;Anne\&quot;, 11&gt;,\n&lt;\&quot;Bethanie\&quot;, 4&gt;,\n&lt;\&quot;Betsy\&quot;, 2&gt;,\n&lt;\&quot;Cathy\&quot;, 2&gt;,\n&lt;\&quot;Cecilia\&quot;, 9&gt;,\n&lt;\&quot;Chris\&quot;, 11&gt;,\n&lt;\&quot;Cindy\&quot;, 5&gt;,\n&lt;\&quot;David\&quot;, 1&gt;,\n&lt;\&quot;Debbie\&quot;, 7&gt;,\n&lt;\&quot;Dee\&quot;, 3&gt;,\n&lt;\&quot;Gloria\&quot;, 8&gt;,\n&lt;\&quot;Isabelle\&quot;, 3&gt;,\n&lt;\&quot;Jane\&quot;, 3&gt;,\n&lt;\&quot;Janelle\&quot;, 4&gt;,\n&lt;\&quot;Janice\&quot;, 2&gt;,\n&lt;\&quot;Jemma\&quot;, 2&gt;,\n&lt;\&quot;Joan\&quot;, 5&gt;,\n&lt;\&quot;Joyce\&quot;, 8&gt;,\n&lt;\&quot;Jude\&quot;, 4&gt;,\n&lt;\&quot;Julie\&quot;, 6&gt;,\n&lt;\&quot;Juliet\&quot;, 7&gt;,\n&lt;\&quot;Kate\&quot;, 5&gt;,\n&lt;\&quot;Nancy\&quot;, 8&gt;,\n&lt;\&quot;Nathalie\&quot;, 9&gt;,\n&lt;\&quot;Nicole\&quot;, 0&gt;,\n&lt;\&quot;Patricia\&quot;, 1&gt;,\n&lt;\&quot;Patrick\&quot;, 6&gt;,\n&lt;\&quot;Roberta\&quot;, 3&gt;,\n&lt;\&quot;Suzanne\&quot;, 5&gt;,\n&lt;\&quot;Vickie\&quot;, 7&gt;,\n&lt;\&quot;Wendie\&quot;, 5&gt;,\n&lt;\&quot;Zoe\&quot;, 8&gt;&quot;</span></span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#gPXS71An841PqKRPLvvH">
Solution
</button>
<div id="jDw3zDJ7aezCoczRi4dD" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="jDw3zDJ7aezCoczRi4dD-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="jDw3zDJ7aezCoczRi4dD-title">
Hint
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb430"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb430-1"><a href="mod-r-io.html#cb430-1"></a>nurses <span class="op">%&gt;%</span></span>
<span id="cb430-2"><a href="mod-r-io.html#cb430-2"></a><span class="st">   </span><span class="kw">mutate</span>(<span class="kw">across</span>(<span class="kw">where</span>(is.character), <span class="op">~</span><span class="kw">str_c</span>(<span class="st">&#39;&quot;&#39;</span>, .x, <span class="st">&#39;&quot;&#39;</span>))) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb430-3"><a href="mod-r-io.html#cb430-3"></a><span class="st">   </span><span class="kw">unite</span>(<span class="st">&quot;tuple&quot;</span>, <span class="kw">everything</span>(), <span class="dt">sep =</span> <span class="st">&quot;, &quot;</span>, <span class="dt">remove =</span> <span class="ot">FALSE</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb430-4"><a href="mod-r-io.html#cb430-4"></a><span class="st">   </span><span class="kw">mutate</span>(<span class="dt">tuple =</span> <span class="kw">str_c</span>(<span class="st">&quot;&lt;&quot;</span>, tuple, <span class="st">&quot;&gt;&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb430-5"><a href="mod-r-io.html#cb430-5"></a><span class="st">   </span><span class="kw">pull</span>(___) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb430-6"><a href="mod-r-io.html#cb430-6"></a><span class="st">   </span><span class="kw">str_c</span>(___)</span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#jDw3zDJ7aezCoczRi4dD">
Hint
</button>
<ol start="5" style="list-style-type: decimal">
<li>Extract the <code>tuple</code> column and transform it into a string with <code>collapse = ",\n"</code>.</li>
</ol>
<div id="uoroPyUUL4uDIeZy6Xus" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="uoroPyUUL4uDIeZy6Xus-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="uoroPyUUL4uDIeZy6Xus-title">
Solution
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb431"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb431-1"><a href="mod-r-io.html#cb431-1"></a>write_tuple &lt;-<span class="st"> </span><span class="cf">function</span>(dat, file) {</span>
<span id="cb431-2"><a href="mod-r-io.html#cb431-2"></a>   <span class="kw">write_lines</span>(<span class="st">&quot;nurses = {&quot;</span>, file, <span class="dt">sep =</span> <span class="st">&quot;</span><span class="ch">\n</span><span class="st">   &quot;</span>)</span>
<span id="cb431-3"><a href="mod-r-io.html#cb431-3"></a>   tuples &lt;-<span class="st"> </span>dat <span class="op">%&gt;%</span></span>
<span id="cb431-4"><a href="mod-r-io.html#cb431-4"></a><span class="st">      </span><span class="kw">mutate</span>(<span class="kw">across</span>(<span class="kw">where</span>(is.character), <span class="op">~</span><span class="kw">str_c</span>(<span class="st">&#39;&quot;&#39;</span>, .x, <span class="st">&#39;&quot;&#39;</span>))) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb431-5"><a href="mod-r-io.html#cb431-5"></a><span class="st">      </span><span class="kw">unite</span>(<span class="st">&quot;tuple&quot;</span>, <span class="kw">everything</span>(), <span class="dt">sep =</span> <span class="st">&quot;, &quot;</span>, <span class="dt">remove =</span> <span class="ot">FALSE</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb431-6"><a href="mod-r-io.html#cb431-6"></a><span class="st">      </span><span class="kw">mutate</span>(<span class="dt">tuple =</span> <span class="kw">str_c</span>(<span class="st">&quot;&lt;&quot;</span>, tuple, <span class="st">&quot;&gt;&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb431-7"><a href="mod-r-io.html#cb431-7"></a><span class="st">      </span><span class="kw">pull</span>(tuple) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb431-8"><a href="mod-r-io.html#cb431-8"></a><span class="st">      </span><span class="kw">str_c</span>(<span class="dt">collapse =</span> <span class="st">&quot;,</span><span class="ch">\n</span><span class="st">   &quot;</span>)</span>
<span id="cb431-9"><a href="mod-r-io.html#cb431-9"></a>   <span class="kw">write_lines</span>(tuples, file, <span class="dt">append =</span> <span class="ot">TRUE</span>)</span>
<span id="cb431-10"><a href="mod-r-io.html#cb431-10"></a>   <span class="kw">write_lines</span>(<span class="st">&quot;};&quot;</span>, file, <span class="dt">append =</span> <span class="ot">TRUE</span>)</span>
<span id="cb431-11"><a href="mod-r-io.html#cb431-11"></a>}</span>
<span id="cb431-12"><a href="mod-r-io.html#cb431-12"></a>file &lt;-<span class="st"> &quot;test.dat&quot;</span></span>
<span id="cb431-13"><a href="mod-r-io.html#cb431-13"></a><span class="kw">write_tuple</span>(nurses, file)</span>
<span id="cb431-14"><a href="mod-r-io.html#cb431-14"></a><span class="kw">cat</span>(<span class="kw">read_file</span>(<span class="st">&quot;test.dat&quot;</span>))  <span class="co"># to have a look </span></span>
<span id="cb431-15"><a href="mod-r-io.html#cb431-15"></a><span class="co">#&gt; nurses = {</span></span>
<span id="cb431-16"><a href="mod-r-io.html#cb431-16"></a><span class="co">#&gt;    &lt;&quot;Anne&quot;, 11&gt;,</span></span>
<span id="cb431-17"><a href="mod-r-io.html#cb431-17"></a><span class="co">#&gt;    &lt;&quot;Bethanie&quot;, 4&gt;,</span></span>
<span id="cb431-18"><a href="mod-r-io.html#cb431-18"></a><span class="co">#&gt;    &lt;&quot;Betsy&quot;, 2&gt;,</span></span>
<span id="cb431-19"><a href="mod-r-io.html#cb431-19"></a><span class="co">#&gt;    &lt;&quot;Cathy&quot;, 2&gt;,</span></span>
<span id="cb431-20"><a href="mod-r-io.html#cb431-20"></a><span class="co">#&gt;    &lt;&quot;Cecilia&quot;, 9&gt;,</span></span>
<span id="cb431-21"><a href="mod-r-io.html#cb431-21"></a><span class="co">#&gt;    &lt;&quot;Chris&quot;, 11&gt;,</span></span>
<span id="cb431-22"><a href="mod-r-io.html#cb431-22"></a><span class="co">#&gt;    &lt;&quot;Cindy&quot;, 5&gt;,</span></span>
<span id="cb431-23"><a href="mod-r-io.html#cb431-23"></a><span class="co">#&gt;    &lt;&quot;David&quot;, 1&gt;,</span></span>
<span id="cb431-24"><a href="mod-r-io.html#cb431-24"></a><span class="co">#&gt;    &lt;&quot;Debbie&quot;, 7&gt;,</span></span>
<span id="cb431-25"><a href="mod-r-io.html#cb431-25"></a><span class="co">#&gt;    &lt;&quot;Dee&quot;, 3&gt;,</span></span>
<span id="cb431-26"><a href="mod-r-io.html#cb431-26"></a><span class="co">#&gt;    &lt;&quot;Gloria&quot;, 8&gt;,</span></span>
<span id="cb431-27"><a href="mod-r-io.html#cb431-27"></a><span class="co">#&gt;    &lt;&quot;Isabelle&quot;, 3&gt;,</span></span>
<span id="cb431-28"><a href="mod-r-io.html#cb431-28"></a><span class="co">#&gt;    &lt;&quot;Jane&quot;, 3&gt;,</span></span>
<span id="cb431-29"><a href="mod-r-io.html#cb431-29"></a><span class="co">#&gt;    &lt;&quot;Janelle&quot;, 4&gt;,</span></span>
<span id="cb431-30"><a href="mod-r-io.html#cb431-30"></a><span class="co">#&gt;    &lt;&quot;Janice&quot;, 2&gt;,</span></span>
<span id="cb431-31"><a href="mod-r-io.html#cb431-31"></a><span class="co">#&gt;    &lt;&quot;Jemma&quot;, 2&gt;,</span></span>
<span id="cb431-32"><a href="mod-r-io.html#cb431-32"></a><span class="co">#&gt;    &lt;&quot;Joan&quot;, 5&gt;,</span></span>
<span id="cb431-33"><a href="mod-r-io.html#cb431-33"></a><span class="co">#&gt;    &lt;&quot;Joyce&quot;, 8&gt;,</span></span>
<span id="cb431-34"><a href="mod-r-io.html#cb431-34"></a><span class="co">#&gt;    &lt;&quot;Jude&quot;, 4&gt;,</span></span>
<span id="cb431-35"><a href="mod-r-io.html#cb431-35"></a><span class="co">#&gt;    &lt;&quot;Julie&quot;, 6&gt;,</span></span>
<span id="cb431-36"><a href="mod-r-io.html#cb431-36"></a><span class="co">#&gt;    &lt;&quot;Juliet&quot;, 7&gt;,</span></span>
<span id="cb431-37"><a href="mod-r-io.html#cb431-37"></a><span class="co">#&gt;    &lt;&quot;Kate&quot;, 5&gt;,</span></span>
<span id="cb431-38"><a href="mod-r-io.html#cb431-38"></a><span class="co">#&gt;    &lt;&quot;Nancy&quot;, 8&gt;,</span></span>
<span id="cb431-39"><a href="mod-r-io.html#cb431-39"></a><span class="co">#&gt;    &lt;&quot;Nathalie&quot;, 9&gt;,</span></span>
<span id="cb431-40"><a href="mod-r-io.html#cb431-40"></a><span class="co">#&gt;    &lt;&quot;Nicole&quot;, 0&gt;,</span></span>
<span id="cb431-41"><a href="mod-r-io.html#cb431-41"></a><span class="co">#&gt;    &lt;&quot;Patricia&quot;, 1&gt;,</span></span>
<span id="cb431-42"><a href="mod-r-io.html#cb431-42"></a><span class="co">#&gt;    &lt;&quot;Patrick&quot;, 6&gt;,</span></span>
<span id="cb431-43"><a href="mod-r-io.html#cb431-43"></a><span class="co">#&gt;    &lt;&quot;Roberta&quot;, 3&gt;,</span></span>
<span id="cb431-44"><a href="mod-r-io.html#cb431-44"></a><span class="co">#&gt;    &lt;&quot;Suzanne&quot;, 5&gt;,</span></span>
<span id="cb431-45"><a href="mod-r-io.html#cb431-45"></a><span class="co">#&gt;    &lt;&quot;Vickie&quot;, 7&gt;,</span></span>
<span id="cb431-46"><a href="mod-r-io.html#cb431-46"></a><span class="co">#&gt;    &lt;&quot;Wendie&quot;, 5&gt;,</span></span>
<span id="cb431-47"><a href="mod-r-io.html#cb431-47"></a><span class="co">#&gt;    &lt;&quot;Zoe&quot;, 8&gt;</span></span>
<span id="cb431-48"><a href="mod-r-io.html#cb431-48"></a><span class="co">#&gt; };</span></span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#uoroPyUUL4uDIeZy6Xus">
Solution
</button>
<div id="umA77QmuQoTglgqJB50t" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="umA77QmuQoTglgqJB50t-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="umA77QmuQoTglgqJB50t-title">
Hint 2
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb432"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb432-1"><a href="mod-r-io.html#cb432-1"></a>write_tuple &lt;-<span class="st"> </span><span class="cf">function</span>(dat, file) {</span>
<span id="cb432-2"><a href="mod-r-io.html#cb432-2"></a>   <span class="kw">write_lines</span>(<span class="st">&quot;nurses = {&quot;</span>, file, <span class="dt">sep =</span> <span class="st">&quot;</span><span class="ch">\n</span><span class="st">   &quot;</span>)</span>
<span id="cb432-3"><a href="mod-r-io.html#cb432-3"></a>   tuples &lt;-<span class="st"> </span>dat <span class="op">%&gt;%</span></span>
<span id="cb432-4"><a href="mod-r-io.html#cb432-4"></a><span class="st">      </span>___</span>
<span id="cb432-5"><a href="mod-r-io.html#cb432-5"></a>   <span class="kw">write_lines</span>(tuples, file, <span class="dt">append =</span> <span class="ot">TRUE</span>)</span>
<span id="cb432-6"><a href="mod-r-io.html#cb432-6"></a>   <span class="kw">write_lines</span>(<span class="st">&quot;};&quot;</span>, file, <span class="dt">append =</span> <span class="ot">TRUE</span>)</span>
<span id="cb432-7"><a href="mod-r-io.html#cb432-7"></a>}</span>
<span id="cb432-8"><a href="mod-r-io.html#cb432-8"></a>file &lt;-<span class="st"> &quot;test.dat&quot;</span></span>
<span id="cb432-9"><a href="mod-r-io.html#cb432-9"></a><span class="kw">write_tuple</span>(nurses, file)</span>
<span id="cb432-10"><a href="mod-r-io.html#cb432-10"></a><span class="kw">cat</span>(<span class="kw">read_file</span>(<span class="st">&quot;test.dat&quot;</span>))  <span class="co"># to have a look </span></span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#umA77QmuQoTglgqJB50t">
Hint 2
</button>
<div id="n46AWj76YIR7vjSfHfNf" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="n46AWj76YIR7vjSfHfNf-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="n46AWj76YIR7vjSfHfNf-title">
Hint 1
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb433"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb433-1"><a href="mod-r-io.html#cb433-1"></a>write_tuple &lt;-<span class="st"> </span><span class="cf">function</span>(dat, file) {</span>
<span id="cb433-2"><a href="mod-r-io.html#cb433-2"></a>   <span class="kw">write_lines</span>(___)</span>
<span id="cb433-3"><a href="mod-r-io.html#cb433-3"></a>   ___</span>
<span id="cb433-4"><a href="mod-r-io.html#cb433-4"></a>   <span class="kw">write_lines</span>(<span class="st">&quot;};&quot;</span>, ___, ___)</span>
<span id="cb433-5"><a href="mod-r-io.html#cb433-5"></a>}</span>
<span id="cb433-6"><a href="mod-r-io.html#cb433-6"></a>file &lt;-<span class="st"> &quot;test.dat&quot;</span></span>
<span id="cb433-7"><a href="mod-r-io.html#cb433-7"></a><span class="kw">write_tuple</span>(nurses, file)</span>
<span id="cb433-8"><a href="mod-r-io.html#cb433-8"></a><span class="kw">cat</span>(<span class="kw">read_file</span>(<span class="st">&quot;test.dat&quot;</span>))  <span class="co"># to have a look </span></span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#n46AWj76YIR7vjSfHfNf">
Hint 1
</button>
<ol start="6" style="list-style-type: decimal">
<li>Create a function <code>write_tuple</code> that takes nurses as input and write the tuples to a file.</li>
</ol>
<p>The name of an object can be extracted as a string using</p>
<div class="sourceCode" id="cb434"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb434-1"><a href="mod-r-io.html#cb434-1"></a><span class="kw">deparse</span>(<span class="kw">substitute</span>(nurses))</span>
<span id="cb434-2"><a href="mod-r-io.html#cb434-2"></a><span class="co">#&gt; [1] &quot;nurses&quot;</span></span></code></pre></div>
<div id="PiHjZ1MRPXrl47JJj8yq" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="PiHjZ1MRPXrl47JJj8yq-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="PiHjZ1MRPXrl47JJj8yq-title">
Solution
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb435"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb435-1"><a href="mod-r-io.html#cb435-1"></a>write_tuple &lt;-<span class="st"> </span><span class="cf">function</span>(dat, file) {</span>
<span id="cb435-2"><a href="mod-r-io.html#cb435-2"></a>   name &lt;-<span class="st"> </span><span class="kw">deparse</span>(<span class="kw">substitute</span>(dat))</span>
<span id="cb435-3"><a href="mod-r-io.html#cb435-3"></a>   <span class="kw">write_lines</span>(<span class="kw">str_c</span>(name, <span class="st">&quot; = {&quot;</span>), file, <span class="dt">sep =</span> <span class="st">&quot;</span><span class="ch">\n</span><span class="st">   &quot;</span>)</span>
<span id="cb435-4"><a href="mod-r-io.html#cb435-4"></a>   tuples &lt;-<span class="st"> </span>dat <span class="op">%&gt;%</span></span>
<span id="cb435-5"><a href="mod-r-io.html#cb435-5"></a><span class="st">      </span><span class="kw">mutate</span>(<span class="kw">across</span>(<span class="kw">where</span>(is.character), <span class="op">~</span><span class="kw">str_c</span>(<span class="st">&#39;&quot;&#39;</span>, .x, <span class="st">&#39;&quot;&#39;</span>))) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb435-6"><a href="mod-r-io.html#cb435-6"></a><span class="st">      </span><span class="kw">unite</span>(<span class="st">&quot;tuple&quot;</span>, <span class="kw">everything</span>(), <span class="dt">sep =</span> <span class="st">&quot;, &quot;</span>, <span class="dt">remove =</span> <span class="ot">FALSE</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb435-7"><a href="mod-r-io.html#cb435-7"></a><span class="st">      </span><span class="kw">mutate</span>(<span class="dt">tuple =</span> <span class="kw">str_c</span>(<span class="st">&quot;&lt;&quot;</span>, tuple, <span class="st">&quot;&gt;&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb435-8"><a href="mod-r-io.html#cb435-8"></a><span class="st">      </span><span class="kw">pull</span>(tuple) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb435-9"><a href="mod-r-io.html#cb435-9"></a><span class="st">      </span><span class="kw">str_c</span>(<span class="dt">collapse =</span> <span class="st">&quot;,</span><span class="ch">\n</span><span class="st">   &quot;</span>)</span>
<span id="cb435-10"><a href="mod-r-io.html#cb435-10"></a>   <span class="kw">write_lines</span>(tuples, file, <span class="dt">append =</span> <span class="ot">TRUE</span>)</span>
<span id="cb435-11"><a href="mod-r-io.html#cb435-11"></a>   <span class="kw">write_lines</span>(<span class="st">&quot;};&quot;</span>, file, <span class="dt">append =</span> <span class="ot">TRUE</span>)</span>
<span id="cb435-12"><a href="mod-r-io.html#cb435-12"></a>}</span>
<span id="cb435-13"><a href="mod-r-io.html#cb435-13"></a>file &lt;-<span class="st"> &quot;test.dat&quot;</span></span>
<span id="cb435-14"><a href="mod-r-io.html#cb435-14"></a><span class="kw">write_tuple</span>(shifts, file)</span>
<span id="cb435-15"><a href="mod-r-io.html#cb435-15"></a><span class="kw">cat</span>(<span class="kw">read_file</span>(<span class="st">&quot;test.dat&quot;</span>))  <span class="co"># to have a look </span></span>
<span id="cb435-16"><a href="mod-r-io.html#cb435-16"></a><span class="co">#&gt; shifts = {</span></span>
<span id="cb435-17"><a href="mod-r-io.html#cb435-17"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Monday&quot;, 2, 8&gt;,</span></span>
<span id="cb435-18"><a href="mod-r-io.html#cb435-18"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Monday&quot;, 8, 12&gt;,</span></span>
<span id="cb435-19"><a href="mod-r-io.html#cb435-19"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Monday&quot;, 12, 18&gt;,</span></span>
<span id="cb435-20"><a href="mod-r-io.html#cb435-20"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Monday&quot;, 18, 2&gt;,</span></span>
<span id="cb435-21"><a href="mod-r-io.html#cb435-21"></a><span class="co">#&gt;    &lt;&quot;Consultation&quot;, &quot;Monday&quot;, 8, 12&gt;,</span></span>
<span id="cb435-22"><a href="mod-r-io.html#cb435-22"></a><span class="co">#&gt;    &lt;&quot;Consultation&quot;, &quot;Monday&quot;, 12, 18&gt;,</span></span>
<span id="cb435-23"><a href="mod-r-io.html#cb435-23"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Tuesday&quot;, 8, 12&gt;,</span></span>
<span id="cb435-24"><a href="mod-r-io.html#cb435-24"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Tuesday&quot;, 12, 18&gt;,</span></span>
<span id="cb435-25"><a href="mod-r-io.html#cb435-25"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Tuesday&quot;, 18, 2&gt;,</span></span>
<span id="cb435-26"><a href="mod-r-io.html#cb435-26"></a><span class="co">#&gt;    &lt;&quot;Consultation&quot;, &quot;Tuesday&quot;, 8, 12&gt;,</span></span>
<span id="cb435-27"><a href="mod-r-io.html#cb435-27"></a><span class="co">#&gt;    &lt;&quot;Consultation&quot;, &quot;Tuesday&quot;, 12, 18&gt;,</span></span>
<span id="cb435-28"><a href="mod-r-io.html#cb435-28"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Wednesday&quot;, 2, 8&gt;,</span></span>
<span id="cb435-29"><a href="mod-r-io.html#cb435-29"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Wednesday&quot;, 8, 12&gt;,</span></span>
<span id="cb435-30"><a href="mod-r-io.html#cb435-30"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Wednesday&quot;, 12, 18&gt;,</span></span>
<span id="cb435-31"><a href="mod-r-io.html#cb435-31"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Wednesday&quot;, 18, 2&gt;,</span></span>
<span id="cb435-32"><a href="mod-r-io.html#cb435-32"></a><span class="co">#&gt;    &lt;&quot;Consultation&quot;, &quot;Wednesday&quot;, 8, 12&gt;,</span></span>
<span id="cb435-33"><a href="mod-r-io.html#cb435-33"></a><span class="co">#&gt;    &lt;&quot;Consultation&quot;, &quot;Wednesday&quot;, 12, 18&gt;,</span></span>
<span id="cb435-34"><a href="mod-r-io.html#cb435-34"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Thursday&quot;, 2, 8&gt;,</span></span>
<span id="cb435-35"><a href="mod-r-io.html#cb435-35"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Thursday&quot;, 8, 12&gt;,</span></span>
<span id="cb435-36"><a href="mod-r-io.html#cb435-36"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Thursday&quot;, 12, 18&gt;,</span></span>
<span id="cb435-37"><a href="mod-r-io.html#cb435-37"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Thursday&quot;, 18, 2&gt;,</span></span>
<span id="cb435-38"><a href="mod-r-io.html#cb435-38"></a><span class="co">#&gt;    &lt;&quot;Consultation&quot;, &quot;Thursday&quot;, 8, 12&gt;,</span></span>
<span id="cb435-39"><a href="mod-r-io.html#cb435-39"></a><span class="co">#&gt;    &lt;&quot;Consultation&quot;, &quot;Thursday&quot;, 12, 18&gt;,</span></span>
<span id="cb435-40"><a href="mod-r-io.html#cb435-40"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Friday&quot;, 2, 8&gt;,</span></span>
<span id="cb435-41"><a href="mod-r-io.html#cb435-41"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Friday&quot;, 8, 12&gt;,</span></span>
<span id="cb435-42"><a href="mod-r-io.html#cb435-42"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Friday&quot;, 12, 18&gt;,</span></span>
<span id="cb435-43"><a href="mod-r-io.html#cb435-43"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Friday&quot;, 18, 2&gt;,</span></span>
<span id="cb435-44"><a href="mod-r-io.html#cb435-44"></a><span class="co">#&gt;    &lt;&quot;Consultation&quot;, &quot;Friday&quot;, 8, 12&gt;,</span></span>
<span id="cb435-45"><a href="mod-r-io.html#cb435-45"></a><span class="co">#&gt;    &lt;&quot;Consultation&quot;, &quot;Friday&quot;, 12, 18&gt;,</span></span>
<span id="cb435-46"><a href="mod-r-io.html#cb435-46"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Saturday&quot;, 2, 12&gt;,</span></span>
<span id="cb435-47"><a href="mod-r-io.html#cb435-47"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Saturday&quot;, 12, 20&gt;,</span></span>
<span id="cb435-48"><a href="mod-r-io.html#cb435-48"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Saturday&quot;, 20, 2&gt;,</span></span>
<span id="cb435-49"><a href="mod-r-io.html#cb435-49"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Sunday&quot;, 2, 12&gt;,</span></span>
<span id="cb435-50"><a href="mod-r-io.html#cb435-50"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Sunday&quot;, 12, 20&gt;,</span></span>
<span id="cb435-51"><a href="mod-r-io.html#cb435-51"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Sunday&quot;, 20, 2&gt;</span></span>
<span id="cb435-52"><a href="mod-r-io.html#cb435-52"></a><span class="co">#&gt; };</span></span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#PiHjZ1MRPXrl47JJj8yq">
Solution
</button>
<ol start="7" style="list-style-type: decimal">
<li>Modify <code>write_tuple</code> so it works if <code>shifts</code> are given as input instead of nurses.</li>
</ol>
<div id="at0mu6SfSsOZeHt8YF4l" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="at0mu6SfSsOZeHt8YF4l-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="at0mu6SfSsOZeHt8YF4l-title">
Solution
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb436"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb436-1"><a href="mod-r-io.html#cb436-1"></a>write_tuple &lt;-<span class="st"> </span><span class="cf">function</span>(dat, file, <span class="dt">append =</span> <span class="ot">FALSE</span>) {</span>
<span id="cb436-2"><a href="mod-r-io.html#cb436-2"></a>   name &lt;-<span class="st"> </span><span class="kw">deparse</span>(<span class="kw">substitute</span>(dat))</span>
<span id="cb436-3"><a href="mod-r-io.html#cb436-3"></a>   <span class="kw">write_lines</span>(<span class="kw">str_c</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>, name, <span class="st">&quot; = {&quot;</span>), file, <span class="dt">sep =</span> <span class="st">&quot;</span><span class="ch">\n</span><span class="st">   &quot;</span>, <span class="dt">append =</span> append)</span>
<span id="cb436-4"><a href="mod-r-io.html#cb436-4"></a>   tuples &lt;-<span class="st"> </span>dat <span class="op">%&gt;%</span></span>
<span id="cb436-5"><a href="mod-r-io.html#cb436-5"></a><span class="st">      </span><span class="kw">mutate</span>(<span class="kw">across</span>(<span class="kw">where</span>(is.character), <span class="op">~</span><span class="kw">str_c</span>(<span class="st">&#39;&quot;&#39;</span>, .x, <span class="st">&#39;&quot;&#39;</span>))) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb436-6"><a href="mod-r-io.html#cb436-6"></a><span class="st">      </span><span class="kw">unite</span>(<span class="st">&quot;tuple&quot;</span>, <span class="kw">everything</span>(), <span class="dt">sep =</span> <span class="st">&quot;, &quot;</span>, <span class="dt">remove =</span> <span class="ot">FALSE</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb436-7"><a href="mod-r-io.html#cb436-7"></a><span class="st">      </span><span class="kw">mutate</span>(<span class="dt">tuple =</span> <span class="kw">str_c</span>(<span class="st">&quot;&lt;&quot;</span>, tuple, <span class="st">&quot;&gt;&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb436-8"><a href="mod-r-io.html#cb436-8"></a><span class="st">      </span><span class="kw">pull</span>(tuple) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb436-9"><a href="mod-r-io.html#cb436-9"></a><span class="st">      </span><span class="kw">str_c</span>(<span class="dt">collapse =</span> <span class="st">&quot;,</span><span class="ch">\n</span><span class="st">   &quot;</span>)</span>
<span id="cb436-10"><a href="mod-r-io.html#cb436-10"></a>   <span class="kw">write_lines</span>(tuples, file, <span class="dt">append =</span> <span class="ot">TRUE</span>)</span>
<span id="cb436-11"><a href="mod-r-io.html#cb436-11"></a>   <span class="kw">write_lines</span>(<span class="st">&quot;};&quot;</span>, file, <span class="dt">append =</span> <span class="ot">TRUE</span>)</span>
<span id="cb436-12"><a href="mod-r-io.html#cb436-12"></a>}</span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#at0mu6SfSsOZeHt8YF4l">
Solution
</button>
<ol start="8" style="list-style-type: decimal">
<li>Modify <code>write_tuple</code> with a new input argument <code>append</code> which is false by default. If true, then then the file is not overwritten.</li>
</ol>
<div id="bKuawtNipu82zOiWNis7" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="bKuawtNipu82zOiWNis7-title">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<h4 class="modal-title" id="bKuawtNipu82zOiWNis7-title">
Solution
</h4>
</div>
<div class="modal-body">
<div class="sourceCode" id="cb437"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb437-1"><a href="mod-r-io.html#cb437-1"></a>file &lt;-<span class="st"> &quot;test.dat&quot;</span></span>
<span id="cb437-2"><a href="mod-r-io.html#cb437-2"></a><span class="kw">write_tuple</span>(nurses, file)</span>
<span id="cb437-3"><a href="mod-r-io.html#cb437-3"></a><span class="kw">write_tuple</span>(shifts, file, <span class="dt">append =</span> <span class="ot">TRUE</span>)</span>
<span id="cb437-4"><a href="mod-r-io.html#cb437-4"></a><span class="kw">cat</span>(<span class="kw">read_file</span>(<span class="st">&quot;test.dat&quot;</span>))  <span class="co"># to have a look </span></span>
<span id="cb437-5"><a href="mod-r-io.html#cb437-5"></a><span class="co">#&gt; </span></span>
<span id="cb437-6"><a href="mod-r-io.html#cb437-6"></a><span class="co">#&gt; nurses = {</span></span>
<span id="cb437-7"><a href="mod-r-io.html#cb437-7"></a><span class="co">#&gt;    &lt;&quot;Anne&quot;, 11&gt;,</span></span>
<span id="cb437-8"><a href="mod-r-io.html#cb437-8"></a><span class="co">#&gt;    &lt;&quot;Bethanie&quot;, 4&gt;,</span></span>
<span id="cb437-9"><a href="mod-r-io.html#cb437-9"></a><span class="co">#&gt;    &lt;&quot;Betsy&quot;, 2&gt;,</span></span>
<span id="cb437-10"><a href="mod-r-io.html#cb437-10"></a><span class="co">#&gt;    &lt;&quot;Cathy&quot;, 2&gt;,</span></span>
<span id="cb437-11"><a href="mod-r-io.html#cb437-11"></a><span class="co">#&gt;    &lt;&quot;Cecilia&quot;, 9&gt;,</span></span>
<span id="cb437-12"><a href="mod-r-io.html#cb437-12"></a><span class="co">#&gt;    &lt;&quot;Chris&quot;, 11&gt;,</span></span>
<span id="cb437-13"><a href="mod-r-io.html#cb437-13"></a><span class="co">#&gt;    &lt;&quot;Cindy&quot;, 5&gt;,</span></span>
<span id="cb437-14"><a href="mod-r-io.html#cb437-14"></a><span class="co">#&gt;    &lt;&quot;David&quot;, 1&gt;,</span></span>
<span id="cb437-15"><a href="mod-r-io.html#cb437-15"></a><span class="co">#&gt;    &lt;&quot;Debbie&quot;, 7&gt;,</span></span>
<span id="cb437-16"><a href="mod-r-io.html#cb437-16"></a><span class="co">#&gt;    &lt;&quot;Dee&quot;, 3&gt;,</span></span>
<span id="cb437-17"><a href="mod-r-io.html#cb437-17"></a><span class="co">#&gt;    &lt;&quot;Gloria&quot;, 8&gt;,</span></span>
<span id="cb437-18"><a href="mod-r-io.html#cb437-18"></a><span class="co">#&gt;    &lt;&quot;Isabelle&quot;, 3&gt;,</span></span>
<span id="cb437-19"><a href="mod-r-io.html#cb437-19"></a><span class="co">#&gt;    &lt;&quot;Jane&quot;, 3&gt;,</span></span>
<span id="cb437-20"><a href="mod-r-io.html#cb437-20"></a><span class="co">#&gt;    &lt;&quot;Janelle&quot;, 4&gt;,</span></span>
<span id="cb437-21"><a href="mod-r-io.html#cb437-21"></a><span class="co">#&gt;    &lt;&quot;Janice&quot;, 2&gt;,</span></span>
<span id="cb437-22"><a href="mod-r-io.html#cb437-22"></a><span class="co">#&gt;    &lt;&quot;Jemma&quot;, 2&gt;,</span></span>
<span id="cb437-23"><a href="mod-r-io.html#cb437-23"></a><span class="co">#&gt;    &lt;&quot;Joan&quot;, 5&gt;,</span></span>
<span id="cb437-24"><a href="mod-r-io.html#cb437-24"></a><span class="co">#&gt;    &lt;&quot;Joyce&quot;, 8&gt;,</span></span>
<span id="cb437-25"><a href="mod-r-io.html#cb437-25"></a><span class="co">#&gt;    &lt;&quot;Jude&quot;, 4&gt;,</span></span>
<span id="cb437-26"><a href="mod-r-io.html#cb437-26"></a><span class="co">#&gt;    &lt;&quot;Julie&quot;, 6&gt;,</span></span>
<span id="cb437-27"><a href="mod-r-io.html#cb437-27"></a><span class="co">#&gt;    &lt;&quot;Juliet&quot;, 7&gt;,</span></span>
<span id="cb437-28"><a href="mod-r-io.html#cb437-28"></a><span class="co">#&gt;    &lt;&quot;Kate&quot;, 5&gt;,</span></span>
<span id="cb437-29"><a href="mod-r-io.html#cb437-29"></a><span class="co">#&gt;    &lt;&quot;Nancy&quot;, 8&gt;,</span></span>
<span id="cb437-30"><a href="mod-r-io.html#cb437-30"></a><span class="co">#&gt;    &lt;&quot;Nathalie&quot;, 9&gt;,</span></span>
<span id="cb437-31"><a href="mod-r-io.html#cb437-31"></a><span class="co">#&gt;    &lt;&quot;Nicole&quot;, 0&gt;,</span></span>
<span id="cb437-32"><a href="mod-r-io.html#cb437-32"></a><span class="co">#&gt;    &lt;&quot;Patricia&quot;, 1&gt;,</span></span>
<span id="cb437-33"><a href="mod-r-io.html#cb437-33"></a><span class="co">#&gt;    &lt;&quot;Patrick&quot;, 6&gt;,</span></span>
<span id="cb437-34"><a href="mod-r-io.html#cb437-34"></a><span class="co">#&gt;    &lt;&quot;Roberta&quot;, 3&gt;,</span></span>
<span id="cb437-35"><a href="mod-r-io.html#cb437-35"></a><span class="co">#&gt;    &lt;&quot;Suzanne&quot;, 5&gt;,</span></span>
<span id="cb437-36"><a href="mod-r-io.html#cb437-36"></a><span class="co">#&gt;    &lt;&quot;Vickie&quot;, 7&gt;,</span></span>
<span id="cb437-37"><a href="mod-r-io.html#cb437-37"></a><span class="co">#&gt;    &lt;&quot;Wendie&quot;, 5&gt;,</span></span>
<span id="cb437-38"><a href="mod-r-io.html#cb437-38"></a><span class="co">#&gt;    &lt;&quot;Zoe&quot;, 8&gt;</span></span>
<span id="cb437-39"><a href="mod-r-io.html#cb437-39"></a><span class="co">#&gt; };</span></span>
<span id="cb437-40"><a href="mod-r-io.html#cb437-40"></a><span class="co">#&gt; </span></span>
<span id="cb437-41"><a href="mod-r-io.html#cb437-41"></a><span class="co">#&gt; shifts = {</span></span>
<span id="cb437-42"><a href="mod-r-io.html#cb437-42"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Monday&quot;, 2, 8&gt;,</span></span>
<span id="cb437-43"><a href="mod-r-io.html#cb437-43"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Monday&quot;, 8, 12&gt;,</span></span>
<span id="cb437-44"><a href="mod-r-io.html#cb437-44"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Monday&quot;, 12, 18&gt;,</span></span>
<span id="cb437-45"><a href="mod-r-io.html#cb437-45"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Monday&quot;, 18, 2&gt;,</span></span>
<span id="cb437-46"><a href="mod-r-io.html#cb437-46"></a><span class="co">#&gt;    &lt;&quot;Consultation&quot;, &quot;Monday&quot;, 8, 12&gt;,</span></span>
<span id="cb437-47"><a href="mod-r-io.html#cb437-47"></a><span class="co">#&gt;    &lt;&quot;Consultation&quot;, &quot;Monday&quot;, 12, 18&gt;,</span></span>
<span id="cb437-48"><a href="mod-r-io.html#cb437-48"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Tuesday&quot;, 8, 12&gt;,</span></span>
<span id="cb437-49"><a href="mod-r-io.html#cb437-49"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Tuesday&quot;, 12, 18&gt;,</span></span>
<span id="cb437-50"><a href="mod-r-io.html#cb437-50"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Tuesday&quot;, 18, 2&gt;,</span></span>
<span id="cb437-51"><a href="mod-r-io.html#cb437-51"></a><span class="co">#&gt;    &lt;&quot;Consultation&quot;, &quot;Tuesday&quot;, 8, 12&gt;,</span></span>
<span id="cb437-52"><a href="mod-r-io.html#cb437-52"></a><span class="co">#&gt;    &lt;&quot;Consultation&quot;, &quot;Tuesday&quot;, 12, 18&gt;,</span></span>
<span id="cb437-53"><a href="mod-r-io.html#cb437-53"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Wednesday&quot;, 2, 8&gt;,</span></span>
<span id="cb437-54"><a href="mod-r-io.html#cb437-54"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Wednesday&quot;, 8, 12&gt;,</span></span>
<span id="cb437-55"><a href="mod-r-io.html#cb437-55"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Wednesday&quot;, 12, 18&gt;,</span></span>
<span id="cb437-56"><a href="mod-r-io.html#cb437-56"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Wednesday&quot;, 18, 2&gt;,</span></span>
<span id="cb437-57"><a href="mod-r-io.html#cb437-57"></a><span class="co">#&gt;    &lt;&quot;Consultation&quot;, &quot;Wednesday&quot;, 8, 12&gt;,</span></span>
<span id="cb437-58"><a href="mod-r-io.html#cb437-58"></a><span class="co">#&gt;    &lt;&quot;Consultation&quot;, &quot;Wednesday&quot;, 12, 18&gt;,</span></span>
<span id="cb437-59"><a href="mod-r-io.html#cb437-59"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Thursday&quot;, 2, 8&gt;,</span></span>
<span id="cb437-60"><a href="mod-r-io.html#cb437-60"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Thursday&quot;, 8, 12&gt;,</span></span>
<span id="cb437-61"><a href="mod-r-io.html#cb437-61"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Thursday&quot;, 12, 18&gt;,</span></span>
<span id="cb437-62"><a href="mod-r-io.html#cb437-62"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Thursday&quot;, 18, 2&gt;,</span></span>
<span id="cb437-63"><a href="mod-r-io.html#cb437-63"></a><span class="co">#&gt;    &lt;&quot;Consultation&quot;, &quot;Thursday&quot;, 8, 12&gt;,</span></span>
<span id="cb437-64"><a href="mod-r-io.html#cb437-64"></a><span class="co">#&gt;    &lt;&quot;Consultation&quot;, &quot;Thursday&quot;, 12, 18&gt;,</span></span>
<span id="cb437-65"><a href="mod-r-io.html#cb437-65"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Friday&quot;, 2, 8&gt;,</span></span>
<span id="cb437-66"><a href="mod-r-io.html#cb437-66"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Friday&quot;, 8, 12&gt;,</span></span>
<span id="cb437-67"><a href="mod-r-io.html#cb437-67"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Friday&quot;, 12, 18&gt;,</span></span>
<span id="cb437-68"><a href="mod-r-io.html#cb437-68"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Friday&quot;, 18, 2&gt;,</span></span>
<span id="cb437-69"><a href="mod-r-io.html#cb437-69"></a><span class="co">#&gt;    &lt;&quot;Consultation&quot;, &quot;Friday&quot;, 8, 12&gt;,</span></span>
<span id="cb437-70"><a href="mod-r-io.html#cb437-70"></a><span class="co">#&gt;    &lt;&quot;Consultation&quot;, &quot;Friday&quot;, 12, 18&gt;,</span></span>
<span id="cb437-71"><a href="mod-r-io.html#cb437-71"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Saturday&quot;, 2, 12&gt;,</span></span>
<span id="cb437-72"><a href="mod-r-io.html#cb437-72"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Saturday&quot;, 12, 20&gt;,</span></span>
<span id="cb437-73"><a href="mod-r-io.html#cb437-73"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Saturday&quot;, 20, 2&gt;,</span></span>
<span id="cb437-74"><a href="mod-r-io.html#cb437-74"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Sunday&quot;, 2, 12&gt;,</span></span>
<span id="cb437-75"><a href="mod-r-io.html#cb437-75"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Sunday&quot;, 12, 20&gt;,</span></span>
<span id="cb437-76"><a href="mod-r-io.html#cb437-76"></a><span class="co">#&gt;    &lt;&quot;Emergency&quot;, &quot;Sunday&quot;, 20, 2&gt;</span></span>
<span id="cb437-77"><a href="mod-r-io.html#cb437-77"></a><span class="co">#&gt; };</span></span></code></pre></div>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">
Close
</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#bKuawtNipu82zOiWNis7">
Solution
</button>
<ol start="9" style="list-style-type: decimal">
<li>Write <code>nurses</code> and <code>shifts</code> to a single data file.</li>
</ol>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="mod-r-tidyverse-intro.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="mod-r-transform.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/bss-osca/tfa/edit/master/book/12_r-io.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
