<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Module 3 R basics and workflows | Tools for Analytics (TFA)</title>
  <meta name="description" content="Course notes for the ‘Tools for Analytics’ course (R part)" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Module 3 R basics and workflows | Tools for Analytics (TFA)" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://bss-osca.github.io/tfa/" />
  <meta property="og:image" content="https://bss-osca.github.io/tfa/assets/logo.png" />
  <meta property="og:description" content="Course notes for the ‘Tools for Analytics’ course (R part)" />
  <meta name="github-repo" content="bss-osca/tfa" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Module 3 R basics and workflows | Tools for Analytics (TFA)" />
  
  <meta name="twitter:description" content="Course notes for the ‘Tools for Analytics’ course (R part)" />
  <meta name="twitter:image" content="https://bss-osca.github.io/tfa/assets/logo.png" />

<meta name="author" content="Lars Relund Nielsen" />


<meta name="date" content="2020-10-08" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="assets/favicon.ico" type="image/x-icon" />
<link rel="prev" href="sec-install.html"/>
<link rel="next" href="sec-loops.html"/>
<script src="libs/header-attrs-2.4/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/font-awesome-5.3.1/css/all.min.css" rel="stylesheet" />
<link href="libs/font-awesome-5.3.1/css/v4-shims.min.css" rel="stylesheet" />
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.5.2/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.15/datatables.js"></script>
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
<link href="libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet" />
<script src="libs/nouislider-7.0.10/jquery.nouislider.min.js"></script>
<link href="libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet" />
<script src="libs/selectize-0.12.0/selectize.min.js"></script>
<link href="libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>
<html>
<head>
<script>
  $(document).ready(function() {

  // Section anchors
  $('.section h1, .section h2, .section h3, .section h4, .section h5').each(function() {
    anchor = '#' + $(this).parent().attr('id');
    $(this).addClass("hasAnchor").prepend('<a href="' + anchor + '" class="anchor"></a>');
  });
});
</script>
<script src="https://hypothes.is/embed.js" async></script>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
</head>
</html>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="assets/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="toc-logo"><a href="./"><img src="img/logo.png"></a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#how-this-book-is-organized"><i class="fa fa-check"></i><b>1.1</b> How this book is organized</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#ack"><i class="fa fa-check"></i><b>1.2</b> Acknowledgements</a></li>
</ul></li>
<li class="part"><span><b>I Getting started</b></span></li>
<li class="chapter" data-level="2" data-path="sec-install.html"><a href="sec-install.html"><i class="fa fa-check"></i><b>2</b> Install R and RStudio</a>
<ul>
<li class="chapter" data-level="2.1" data-path="sec-install.html"><a href="sec-install.html#lo-install"><i class="fa fa-check"></i><b>2.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="2.2" data-path="sec-install.html"><a href="sec-install.html#install-r"><i class="fa fa-check"></i><b>2.2</b> Install R and RStudio</a></li>
<li class="chapter" data-level="2.3" data-path="sec-install.html"><a href="sec-install.html#test-your-installation"><i class="fa fa-check"></i><b>2.3</b> Test your installation</a></li>
<li class="chapter" data-level="2.4" data-path="sec-install.html"><a href="sec-install.html#add-on-packages"><i class="fa fa-check"></i><b>2.4</b> Add-on packages</a></li>
<li class="chapter" data-level="2.5" data-path="sec-install.html"><a href="sec-install.html#lp-install"><i class="fa fa-check"></i><b>2.5</b> Different learning paths</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="sec-r-basics.html"><a href="sec-r-basics.html"><i class="fa fa-check"></i><b>3</b> R basics and workflows</a>
<ul>
<li class="chapter" data-level="3.1" data-path="sec-r-basics.html"><a href="sec-r-basics.html#lo-r-basics"><i class="fa fa-check"></i><b>3.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="3.2" data-path="sec-r-basics.html"><a href="sec-r-basics.html#working-with-r-at-the-command-line-in-rstudio"><i class="fa fa-check"></i><b>3.2</b> Working with R at the command line in RStudio</a></li>
<li class="chapter" data-level="3.3" data-path="sec-r-basics.html"><a href="sec-r-basics.html#your-first-datacamp-course"><i class="fa fa-check"></i><b>3.3</b> Your first DataCamp course</a></li>
<li class="chapter" data-level="3.4" data-path="sec-r-basics.html"><a href="sec-r-basics.html#pipes"><i class="fa fa-check"></i><b>3.4</b> Pipes</a></li>
<li class="chapter" data-level="3.5" data-path="sec-r-basics.html"><a href="sec-r-basics.html#rprojs"><i class="fa fa-check"></i><b>3.5</b> RStudio projects</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="sec-r-basics.html"><a href="sec-r-basics.html#storing-your-code-in-a-script-file"><i class="fa fa-check"></i><b>3.5.1</b> Storing your code in a script file</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="sec-r-basics.html"><a href="sec-r-basics.html#global-options"><i class="fa fa-check"></i><b>3.6</b> Global options</a></li>
<li class="chapter" data-level="3.7" data-path="sec-r-basics.html"><a href="sec-r-basics.html#working-directory"><i class="fa fa-check"></i><b>3.7</b> Working directory</a></li>
<li class="chapter" data-level="3.8" data-path="sec-r-basics.html"><a href="sec-r-basics.html#lp-r-basics"><i class="fa fa-check"></i><b>3.8</b> Different learning paths</a></li>
<li class="chapter" data-level="3.9" data-path="sec-r-basics.html"><a href="sec-r-basics.html#rc-r-basics"><i class="fa fa-check"></i><b>3.9</b> Recap</a></li>
<li class="chapter" data-level="3.10" data-path="sec-r-basics.html"><a href="sec-r-basics.html#ex-r-basics"><i class="fa fa-check"></i><b>3.10</b> Exercises</a>
<ul>
<li class="chapter" data-level="3.10.1" data-path="sec-r-basics.html"><a href="sec-r-basics.html#exercise-group-work"><i class="fa fa-check"></i><b>3.10.1</b> Exercise (group work)</a></li>
<li class="chapter" data-level="3.10.2" data-path="sec-r-basics.html"><a href="sec-r-basics.html#exercise-install-packages"><i class="fa fa-check"></i><b>3.10.2</b> Exercise (install packages)</a></li>
<li class="chapter" data-level="3.10.3" data-path="sec-r-basics.html"><a href="sec-r-basics.html#exercise-piping"><i class="fa fa-check"></i><b>3.10.3</b> Exercise (piping)</a></li>
<li class="chapter" data-level="3.10.4" data-path="sec-r-basics.html"><a href="sec-r-basics.html#exercise-working-dir"><i class="fa fa-check"></i><b>3.10.4</b> Exercise (working dir)</a></li>
<li class="chapter" data-level="3.10.5" data-path="sec-r-basics.html"><a href="sec-r-basics.html#exercise-vectors"><i class="fa fa-check"></i><b>3.10.5</b> Exercise (vectors)</a></li>
<li class="chapter" data-level="3.10.6" data-path="sec-r-basics.html"><a href="sec-r-basics.html#exercise-matrices"><i class="fa fa-check"></i><b>3.10.6</b> Exercise (matrices)</a></li>
<li class="chapter" data-level="3.10.7" data-path="sec-r-basics.html"><a href="sec-r-basics.html#exercise-data-frames"><i class="fa fa-check"></i><b>3.10.7</b> Exercise (data frames)</a></li>
<li class="chapter" data-level="3.10.8" data-path="sec-r-basics.html"><a href="sec-r-basics.html#exercise-lists"><i class="fa fa-check"></i><b>3.10.8</b> Exercise (lists)</a></li>
<li class="chapter" data-level="3.10.9" data-path="sec-r-basics.html"><a href="sec-r-basics.html#ex-strings"><i class="fa fa-check"></i><b>3.10.9</b> Exercise (string management)</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Programming in R</b></span></li>
<li class="chapter" data-level="4" data-path="sec-loops.html"><a href="sec-loops.html"><i class="fa fa-check"></i><b>4</b> Loops and conditionals</a>
<ul>
<li class="chapter" data-level="4.1" data-path="sec-loops.html"><a href="sec-loops.html#lo-loops"><i class="fa fa-check"></i><b>4.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="4.2" data-path="sec-loops.html"><a href="sec-loops.html#conditionals-and-control-flow"><i class="fa fa-check"></i><b>4.2</b> Conditionals and control flow</a></li>
<li class="chapter" data-level="4.3" data-path="sec-loops.html"><a href="sec-loops.html#loops"><i class="fa fa-check"></i><b>4.3</b> Loops</a></li>
<li class="chapter" data-level="4.4" data-path="sec-loops.html"><a href="sec-loops.html#lp-loops"><i class="fa fa-check"></i><b>4.4</b> Different learning paths</a></li>
<li class="chapter" data-level="4.5" data-path="sec-loops.html"><a href="sec-loops.html#rc-loops"><i class="fa fa-check"></i><b>4.5</b> Recap</a></li>
<li class="chapter" data-level="4.6" data-path="sec-loops.html"><a href="sec-loops.html#ex-loops"><i class="fa fa-check"></i><b>4.6</b> Exercises</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="sec-loops.html"><a href="sec-loops.html#exercise-conditional-expressions"><i class="fa fa-check"></i><b>4.6.1</b> Exercise (conditional expressions)</a></li>
<li class="chapter" data-level="4.6.2" data-path="sec-loops.html"><a href="sec-loops.html#exercise-loops"><i class="fa fa-check"></i><b>4.6.2</b> Exercise (loops)</a></li>
<li class="chapter" data-level="4.6.3" data-path="sec-loops.html"><a href="sec-loops.html#ex-dist"><i class="fa fa-check"></i><b>4.6.3</b> Exercise (calculating distances)</a></li>
<li class="chapter" data-level="4.6.4" data-path="sec-loops.html"><a href="sec-loops.html#exercise-expand_grid"><i class="fa fa-check"></i><b>4.6.4</b> Exercise (<code>expand_grid</code>)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="sec-functions.html"><a href="sec-functions.html"><i class="fa fa-check"></i><b>5</b> Functions</a>
<ul>
<li class="chapter" data-level="5.1" data-path="sec-functions.html"><a href="sec-functions.html#lo-functions"><i class="fa fa-check"></i><b>5.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="5.2" data-path="sec-functions.html"><a href="sec-functions.html#datacamp-course"><i class="fa fa-check"></i><b>5.2</b> DataCamp course</a></li>
<li class="chapter" data-level="5.3" data-path="sec-functions.html"><a href="sec-functions.html#functions-returning-multiple-objects"><i class="fa fa-check"></i><b>5.3</b> Functions returning multiple objects</a></li>
<li class="chapter" data-level="5.4" data-path="sec-functions.html"><a href="sec-functions.html#the-...-argument"><i class="fa fa-check"></i><b>5.4</b> The <code>...</code> argument</a></li>
<li class="chapter" data-level="5.5" data-path="sec-functions.html"><a href="sec-functions.html#documenting-your-functions"><i class="fa fa-check"></i><b>5.5</b> Documenting your functions</a></li>
<li class="chapter" data-level="5.6" data-path="sec-functions.html"><a href="sec-functions.html#lp-functions"><i class="fa fa-check"></i><b>5.6</b> Different learning paths</a></li>
<li class="chapter" data-level="5.7" data-path="sec-functions.html"><a href="sec-functions.html#rc-functions"><i class="fa fa-check"></i><b>5.7</b> Recap</a></li>
<li class="chapter" data-level="5.8" data-path="sec-functions.html"><a href="sec-functions.html#ex-functions"><i class="fa fa-check"></i><b>5.8</b> Exercises</a>
<ul>
<li class="chapter" data-level="5.8.1" data-path="sec-functions.html"><a href="sec-functions.html#exercise-defining-functions"><i class="fa fa-check"></i><b>5.8.1</b> Exercise (defining functions)</a></li>
<li class="chapter" data-level="5.8.2" data-path="sec-functions.html"><a href="sec-functions.html#exercise-scope"><i class="fa fa-check"></i><b>5.8.2</b> Exercise (scope)</a></li>
<li class="chapter" data-level="5.8.3" data-path="sec-functions.html"><a href="sec-functions.html#exercise-job-sequencing"><i class="fa fa-check"></i><b>5.8.3</b> Exercise (job sequencing)</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III IO, tidy and transform</b></span></li>
<li class="chapter" data-level="6" data-path="sec-tidy-intro.html"><a href="sec-tidy-intro.html"><i class="fa fa-check"></i><b>6</b> Introduction to tidyverse and R Markdown</a>
<ul>
<li class="chapter" data-level="6.1" data-path="sec-tidy-intro.html"><a href="sec-tidy-intro.html#lo-tidy-intro"><i class="fa fa-check"></i><b>6.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="6.2" data-path="sec-tidy-intro.html"><a href="sec-tidy-intro.html#the-tidyverse-package"><i class="fa fa-check"></i><b>6.2</b> The tidyverse package</a></li>
<li class="chapter" data-level="6.3" data-path="sec-tidy-intro.html"><a href="sec-tidy-intro.html#writing-reproducible-reports"><i class="fa fa-check"></i><b>6.3</b> Writing reproducible reports</a></li>
<li class="chapter" data-level="6.4" data-path="sec-tidy-intro.html"><a href="sec-tidy-intro.html#tibbles"><i class="fa fa-check"></i><b>6.4</b> Tibbles</a></li>
<li class="chapter" data-level="6.5" data-path="sec-tidy-intro.html"><a href="sec-tidy-intro.html#lp-tidy-intro"><i class="fa fa-check"></i><b>6.5</b> Different learning paths</a></li>
<li class="chapter" data-level="6.6" data-path="sec-tidy-intro.html"><a href="sec-tidy-intro.html#rc-tidy-intro"><i class="fa fa-check"></i><b>6.6</b> Recap</a></li>
<li class="chapter" data-level="6.7" data-path="sec-tidy-intro.html"><a href="sec-tidy-intro.html#ex-tidy-intro"><i class="fa fa-check"></i><b>6.7</b> Exercises</a>
<ul>
<li class="chapter" data-level="6.7.1" data-path="sec-tidy-intro.html"><a href="sec-tidy-intro.html#exercise-your-first-r-markdown-exercise"><i class="fa fa-check"></i><b>6.7.1</b> Exercise (your first R Markdown exercise)</a></li>
<li class="chapter" data-level="6.7.2" data-path="sec-tidy-intro.html"><a href="sec-tidy-intro.html#exercise-tibbles"><i class="fa fa-check"></i><b>6.7.2</b> Exercise (tibbles)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="sec-io.html"><a href="sec-io.html"><i class="fa fa-check"></i><b>7</b> Importing and exporting data</a>
<ul>
<li class="chapter" data-level="7.1" data-path="sec-io.html"><a href="sec-io.html#lo-io"><i class="fa fa-check"></i><b>7.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="7.2" data-path="sec-io.html"><a href="sec-io.html#csv-files"><i class="fa fa-check"></i><b>7.2</b> CSV files</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="sec-io.html"><a href="sec-io.html#reading-a-csv-file"><i class="fa fa-check"></i><b>7.2.1</b> Reading a CSV file</a></li>
<li class="chapter" data-level="7.2.2" data-path="sec-io.html"><a href="sec-io.html#writing-to-csv-files"><i class="fa fa-check"></i><b>7.2.2</b> Writing to CSV files</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="sec-io.html"><a href="sec-io.html#excel"><i class="fa fa-check"></i><b>7.3</b> Excel</a></li>
<li class="chapter" data-level="7.4" data-path="sec-io.html"><a href="sec-io.html#google-sheets"><i class="fa fa-check"></i><b>7.4</b> Google Sheets</a></li>
<li class="chapter" data-level="7.5" data-path="sec-io.html"><a href="sec-io.html#text-files"><i class="fa fa-check"></i><b>7.5</b> Text files</a></li>
<li class="chapter" data-level="7.6" data-path="sec-io.html"><a href="sec-io.html#rs-native-binary-format"><i class="fa fa-check"></i><b>7.6</b> R’s native binary format</a></li>
<li class="chapter" data-level="7.7" data-path="sec-io.html"><a href="sec-io.html#json"><i class="fa fa-check"></i><b>7.7</b> Json</a></li>
<li class="chapter" data-level="7.8" data-path="sec-io.html"><a href="sec-io.html#lp-io"><i class="fa fa-check"></i><b>7.8</b> Different learning paths</a></li>
<li class="chapter" data-level="7.9" data-path="sec-io.html"><a href="sec-io.html#rc-io"><i class="fa fa-check"></i><b>7.9</b> Recap</a></li>
<li class="chapter" data-level="7.10" data-path="sec-io.html"><a href="sec-io.html#ex-io"><i class="fa fa-check"></i><b>7.10</b> Exercises</a>
<ul>
<li class="chapter" data-level="7.10.1" data-path="sec-io.html"><a href="sec-io.html#exercise-statistikbanken"><i class="fa fa-check"></i><b>7.10.1</b> Exercise (Statistikbanken)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="sec-transform.html"><a href="sec-transform.html"><i class="fa fa-check"></i><b>8</b> Transforming data</a>
<ul>
<li class="chapter" data-level="8.1" data-path="sec-transform.html"><a href="sec-transform.html#lo-transform"><i class="fa fa-check"></i><b>8.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="8.2" data-path="sec-transform.html"><a href="sec-transform.html#working-with-data-in-the-tidyverse"><i class="fa fa-check"></i><b>8.2</b> Working with data in the tidyverse</a></li>
<li class="chapter" data-level="8.3" data-path="sec-transform.html"><a href="sec-transform.html#lp-transform"><i class="fa fa-check"></i><b>8.3</b> Different learning paths</a></li>
<li class="chapter" data-level="8.4" data-path="sec-transform.html"><a href="sec-transform.html#rc-transform"><i class="fa fa-check"></i><b>8.4</b> Recap</a></li>
<li class="chapter" data-level="8.5" data-path="sec-transform.html"><a href="sec-transform.html#ex-transform"><i class="fa fa-check"></i><b>8.5</b> Exercises</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="sec-transform.html"><a href="sec-transform.html#ex-gapminder1"><i class="fa fa-check"></i><b>8.5.1</b> Exercise (gapminder)</a></li>
<li class="chapter" data-level="8.5.2" data-path="sec-transform.html"><a href="sec-transform.html#ex-babynames1"><i class="fa fa-check"></i><b>8.5.2</b> Exercise (babynames)</a></li>
<li class="chapter" data-level="8.5.3" data-path="sec-transform.html"><a href="sec-transform.html#ex-profit1"><i class="fa fa-check"></i><b>8.5.3</b> Exercise (profit)</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV Visualization</b></span></li>
<li class="chapter" data-level="9" data-path="sec-plot.html"><a href="sec-plot.html"><i class="fa fa-check"></i><b>9</b> Data visualization using ggplot</a>
<ul>
<li class="chapter" data-level="9.1" data-path="sec-plot.html"><a href="sec-plot.html#lo-plot"><i class="fa fa-check"></i><b>9.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="9.2" data-path="sec-plot.html"><a href="sec-plot.html#introduction-to-data-visualization"><i class="fa fa-check"></i><b>9.2</b> Introduction to data visualization</a></li>
<li class="chapter" data-level="9.3" data-path="sec-plot.html"><a href="sec-plot.html#lp-r-plot"><i class="fa fa-check"></i><b>9.3</b> Different learning paths</a></li>
<li class="chapter" data-level="9.4" data-path="sec-plot.html"><a href="sec-plot.html#rc-r-plot"><i class="fa fa-check"></i><b>9.4</b> Recap</a></li>
<li class="chapter" data-level="9.5" data-path="sec-plot.html"><a href="sec-plot.html#ex-r-plot"><i class="fa fa-check"></i><b>9.5</b> Exercises</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="sec-plot.html"><a href="sec-plot.html#ex-gapminder2"><i class="fa fa-check"></i><b>9.5.1</b> Exercise (gapminder)</a></li>
<li class="chapter" data-level="9.5.2" data-path="sec-plot.html"><a href="sec-plot.html#ex-profit2"><i class="fa fa-check"></i><b>9.5.2</b> Exercise (profit)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="sec-maps.html"><a href="sec-maps.html"><i class="fa fa-check"></i><b>10</b> Spartial data and maps</a>
<ul>
<li class="chapter" data-level="10.1" data-path="sec-maps.html"><a href="sec-maps.html#lo-maps"><i class="fa fa-check"></i><b>10.1</b> Learning outcomes</a></li>
</ul></li>
<li class="part"><span><b>V R project in groups</b></span></li>
<li class="chapter" data-level="11" data-path="sec-project.html"><a href="sec-project.html"><i class="fa fa-check"></i><b>11</b> Mandatory R project</a>
<ul>
<li class="chapter" data-level="11.1" data-path="sec-project.html"><a href="sec-project.html#lo-project"><i class="fa fa-check"></i><b>11.1</b> Learning outcomes</a></li>
</ul></li>
<li class="part"><span><b>VI Extra</b></span></li>
<li class="chapter" data-level="12" data-path="sec-r-excel.html"><a href="sec-r-excel.html"><i class="fa fa-check"></i><b>12</b> Using R in Excel and Excel in R</a></li>
<li class="chapter" data-level="13" data-path="sec-opl.html"><a href="sec-opl.html"><i class="fa fa-check"></i><b>13</b> Run an OPL model from R</a></li>
<li class="chapter" data-level="14" data-path="sec-simulation.html"><a href="sec-simulation.html"><i class="fa fa-check"></i><b>14</b> Simulation in R</a></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="groups.html"><a href="groups.html"><i class="fa fa-check"></i><b>A</b> Working in groups</a>
<ul>
<li class="chapter" data-level="" data-path="groups.html"><a href="groups.html#r-project-structure"><i class="fa fa-check"></i>R project structure</a></li>
<li class="chapter" data-level="" data-path="groups.html"><a href="groups.html#using-git"><i class="fa fa-check"></i>Using Git together with GitHub</a>
<ul>
<li class="chapter" data-level="" data-path="groups.html"><a href="groups.html#register-a-free-github-account"><i class="fa fa-check"></i>Register a free GitHub account</a></li>
<li class="chapter" data-level="" data-path="groups.html"><a href="groups.html#install-git"><i class="fa fa-check"></i>Install Git</a></li>
<li class="chapter" data-level="" data-path="groups.html"><a href="groups.html#check-your-installation"><i class="fa fa-check"></i>Check your installation</a></li>
<li class="chapter" data-level="" data-path="groups.html"><a href="groups.html#setup-projects-using-git-and-github"><i class="fa fa-check"></i>Setup projects using Git and GitHub</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="B" data-path="annotate.html"><a href="annotate.html"><i class="fa fa-check"></i><b>B</b> Annotate the course notes</a></li>
<li class="chapter" data-level="C" data-path="help.html"><a href="help.html"><i class="fa fa-check"></i><b>C</b> Getting help</a>
<ul>
<li class="chapter" data-level="" data-path="help.html"><a href="help.html#study-café"><i class="fa fa-check"></i>Study café</a>
<ul>
<li class="chapter" data-level="" data-path="help.html"><a href="help.html#need-help---ask-a-question"><i class="fa fa-check"></i>Need help - ask a question</a></li>
<li class="chapter" data-level="" data-path="help.html"><a href="help.html#current-queue"><i class="fa fa-check"></i>Current queue</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="D" data-path="slides.html"><a href="slides.html"><i class="fa fa-check"></i><b>D</b> Slides</a></li>
<li class="chapter" data-level="E" data-path="lg-course.html"><a href="lg-course.html"><i class="fa fa-check"></i><b>E</b> Learning goals</a></li>
<li class="chapter" data-level="F" data-path="sec-ba.html"><a href="sec-ba.html"><i class="fa fa-check"></i><b>F</b> Business Analytics</a></li>
<li class="chapter" data-level="G" data-path="colophon.html"><a href="colophon.html"><i class="fa fa-check"></i><b>G</b> Colophon</a></li>
<li class="divider"></li>
<li><center>
  <a rel="license" href="./index.html#ack">
    License: CC BY-NC-SA<br>
    <i class = "fab fa-creative-commons fa-2x"></i>
    <i class = "fab fa-creative-commons-by fa-2x"></i>
    <i class = "fab fa-creative-commons-nc fa-2x"></i>
    <i class = "fab fa-creative-commons-sa fa-2x"></i>
  </a>
</li></center>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Tools for Analytics (TFA)</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="sec-r-basics" class="section level1" number="3">
<h1><span class="header-section-number">Module 3</span> R basics and workflows</h1>
<div id="lo-r-basics" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> Learning outcomes</h2>
<p>By the end of this module, you are expected to have:</p>
<ul>
<li>Tried R and RStudio.</li>
<li>Learned how the RStudio IDE works.</li>
<li>Finished your first course on DataCamp.</li>
<li>Solved your first exercises.</li>
</ul>
<p>The learning outcomes relate to the <a href="lg-course.html#lg-course">overall learning goals</a> number 2, 5, 6, 8, 11, 13 and 15 of the course.</p>
</div>
<div id="working-with-r-at-the-command-line-in-rstudio" class="section level2" number="3.2">
<h2><span class="header-section-number">3.2</span> Working with R at the command line in RStudio</h2>
<p>R is a programming language and free software environment. The R language is widely used among statisticians and data miners for data analysis. To run R you need to install it on your computer. Throughout this book, we will assume that you are using R via RStudio. First time users often confuse the two. At its simplest, R is like a car’s engine while RStudio is like a car’s dashboard as illustrated in Figure <a href="sec-r-basics.html#fig:R-vs-RStudio-1">3.1</a>.</p>
<div class="figure" style="text-align: center"><span id="fig:R-vs-RStudio-1"></span>
<img src="img/R_vs_RStudio_1.png" alt="Analogy of difference between R and RStudio." width="95%" />
<p class="caption">
Figure 3.1: Analogy of difference between R and RStudio.
</p>
</div>
<p>More precisely, R is a programming language that runs computations, while RStudio is an <em>integrated development environment (IDE)</em> that provides an interface by adding many convenient features and tools. So just as the way of having access to a speedometer, rearview mirrors, and a navigation system makes driving much easier, using RStudio’s interface makes using R much easier as well.</p>
<p>Compared to Excel, the benefit of using Excel is that the initial learning curve is quite minimal, and most analysis can be done via point-and-click on the top panel. Once a user imports their data into the program, it’s not exceedingly hard to make basic graphs and charts. R is a programming language, however, meaning the initial learning curve is steeper. It will take you some time to become familiar with the interface and master the various functions. Luckily, using R can quickly become second-nature with practice. For a detailed comparison you may see <a href="https://www.jessesadler.com/post/excel-vs-r/">Excel vs R: A Brief Introduction to R</a> by Jesse Sadler.</p>
<p>Compared to VBA, R is an <a href="https://en.wikipedia.org/wiki/Interpreted_language">interpreted language</a>; users typically access it through a command-line or script file. To run VBA you need to compile and execute it.</p>
<p>Recall our car analogy from earlier. As we do not drive a car by interacting directly with the engine but rather by interacting with elements on the car’s dashboard, we will not be using R directly but rather we will use RStudio’s interface. After you install R and RStudio on your computer, you will have two new <em>programs</em> (also called <em>applications</em>) you can open. We will always work in RStudio (except when you do online courses) and not in the R application. Figure <a href="sec-r-basics.html#fig:R-vs-RStudio-2">3.2</a> shows what icon you should be clicking on your computer.</p>
<div class="figure" style="text-align: center"><span id="fig:R-vs-RStudio-2"></span>
<img src="img/R_vs_RStudio.png" alt="Icons of R versus RStudio on your computer." width="90%" />
<p class="caption">
Figure 3.2: Icons of R versus RStudio on your computer.
</p>
</div>
<p>Launch RStudio and consider the panes:</p>
<ul>
<li>Console (left)</li>
<li>Environment/History (tabbed in upper right)</li>
<li>Files/Plots/Packages/Help (tabbed in lower right)</li>
</ul>
<p>FYI: you can change the default location of the panes, among many other things: <a href="https://support.rstudio.com/hc/en-us/articles/200549016-Customizing-RStudio">Customizing RStudio</a>.</p>
<p>Now that you are set up with R and RStudio, you are probably asking yourself, “OK - now how do I use R?”. The first thing to note is that unlike other software programs like Excel or SPSS that provide <a href="https://en.wikipedia.org/wiki/Point_and_click">point-and-click</a> interfaces, R is an <a href="https://en.wikipedia.org/wiki/Interpreted_language">interpreted language</a>. This means you have to type in commands written in <em>R code</em>. In other words, you have to code/program in R. Note that we will use the terms “coding” and “programming” interchangeably in this book.</p>
<p>Go into the Console, where we interact with the live R process.</p>
<p>Make an assignment and then inspect the object you just created:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="sec-r-basics.html#cb4-1" aria-hidden="true"></a>x &lt;-<span class="st"> </span><span class="dv">3</span> <span class="op">*</span><span class="st"> </span><span class="dv">4</span></span>
<span id="cb4-2"><a href="sec-r-basics.html#cb4-2" aria-hidden="true"></a>x</span>
<span id="cb4-3"><a href="sec-r-basics.html#cb4-3" aria-hidden="true"></a><span class="co">#&gt; [1] 12</span></span></code></pre></div>
<p>All R statements where you create objects – “assignments” – have this form:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="sec-r-basics.html#cb5-1" aria-hidden="true"></a>object_name &lt;-<span class="st"> </span>value</span></code></pre></div>
<p>and in my head I hear, e.g., “x equals 12”. You will make lots of assignments and the operator <code>&lt;-</code> is a pain to type. Do not be lazy and use <code>=</code>, although it would work, because it will just sow confusion later. Instead, utilize RStudio’s keyboard shortcut: Alt+- (the minus sign).</p>
<p>Note that RStudio automatically surrounds <code>&lt;-</code> with spaces, which demonstrates a useful code formatting practice. Give your eyes a break and use spaces.</p>
<p>RStudio offers many handy <a href="https://support.rstudio.com/hc/en-us/articles/200711853-Keyboard-Shortcuts">keyboard shortcuts</a>. Also, Alt+Shift+K brings up a keyboard shortcut reference card.</p>
<p>Object names cannot start with a digit and cannot contain certain other characters such as a comma or a space. You are advised to adopt a naming convention; some use <a href="https://en.wikipedia.org/wiki/Snake_case">snake case</a> others use <a href="https://en.wikipedia.org/wiki/Camel_case">camel case</a>. Choose the naming convention you like best in your study group. But stick only to one of them.</p>
<pre><code>this_is_snake_case   # note you do not use capital letters here
thisIsCamelCase      # you start each word with a capital letter</code></pre>
<p>Make another assignment:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="sec-r-basics.html#cb7-1" aria-hidden="true"></a>this_is_a_long_name &lt;-<span class="st"> </span><span class="fl">2.5</span></span></code></pre></div>
<p>To inspect this, try out RStudio’s completion facility: type the first few characters, press TAB, add characters until you agree, then press return.</p>
<p>In VBA you have procedures and functions. In R we only use functions which always return an object. R has a mind-blowing collection of built-in functions that are accessed like so:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="sec-r-basics.html#cb8-1" aria-hidden="true"></a><span class="kw">function_name</span>(<span class="dt">arg1 =</span> val1, <span class="dt">arg2 =</span> val2, ...)</span></code></pre></div>
<p>Let’s try function <code>seq()</code> which makes regular sequences of numbers and at the same time demo more helpful features of RStudio.</p>
<p>Type <code>se</code> and hit TAB. A pop-up shows you possible completions. Specify <code>seq()</code> by typing more or use the up/down arrows to select. Note the floating tool-tip-type help that pops up, reminding you of a function’s arguments. If you want even more help, press F1 as directed to get the full documentation in the help tab of the lower right pane. Now open the parentheses and note the automatic addition of the closing parenthesis and the placement of the cursor in the middle. Type the arguments <code>1, 10</code> and hit return.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="sec-r-basics.html#cb9-1" aria-hidden="true"></a><span class="kw">seq</span>(<span class="dv">1</span>, <span class="dv">10</span>)</span>
<span id="cb9-2"><a href="sec-r-basics.html#cb9-2" aria-hidden="true"></a><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span></span></code></pre></div>
<p>The above also demonstrates something about how R resolves function arguments. Type seq and press F1 or type:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="sec-r-basics.html#cb10-1" aria-hidden="true"></a>?seq</span></code></pre></div>
<p>The Help tab of the lower right pane will show the help documentation of function <code>seq</code> with a description of usage, arguments, return value etc. Note all function arguments have names. You can always specify arguments using <code>name = value</code> form. But if you do not, R attempts to resolve by position. So above, it is assumed that we want a sequence <code>from = 1</code> that goes <code>to = 10</code>. Since we did not specify step size, the default value of <code>by</code> in the function definition is used, which ends up being 1 in this case. Note since the default value for <code>from</code> is 1, the same result is obtained by typing:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="sec-r-basics.html#cb11-1" aria-hidden="true"></a><span class="kw">seq</span>(<span class="dt">to =</span> <span class="dv">10</span>)</span>
<span id="cb11-2"><a href="sec-r-basics.html#cb11-2" aria-hidden="true"></a><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span></span></code></pre></div>
<p>Make this assignment and note similar help with quotation marks.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="sec-r-basics.html#cb12-1" aria-hidden="true"></a>yo &lt;-<span class="st"> &quot;hello world&quot;</span></span></code></pre></div>
<p>If you just create an assignment, you do not see the value. You may see the value by:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="sec-r-basics.html#cb13-1" aria-hidden="true"></a>yo          <span class="co"># same as print(yo)</span></span>
<span id="cb13-2"><a href="sec-r-basics.html#cb13-2" aria-hidden="true"></a><span class="co">#&gt; [1] &quot;hello world&quot;</span></span>
<span id="cb13-3"><a href="sec-r-basics.html#cb13-3" aria-hidden="true"></a><span class="kw">print</span>(yo)  </span>
<span id="cb13-4"><a href="sec-r-basics.html#cb13-4" aria-hidden="true"></a><span class="co">#&gt; [1] &quot;hello world&quot;</span></span></code></pre></div>
<p>Now look at your Environment tab in the upper right pane where user-defined objects accumulate. You can also get a listing of these objects with commands:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="sec-r-basics.html#cb14-1" aria-hidden="true"></a><span class="kw">objects</span>()</span>
<span id="cb14-2"><a href="sec-r-basics.html#cb14-2" aria-hidden="true"></a><span class="co">#&gt; [1] &quot;addIcon&quot;             &quot;addSolution&quot;         &quot;ctrSol&quot;              &quot;strExercises&quot;       </span></span>
<span id="cb14-3"><a href="sec-r-basics.html#cb14-3" aria-hidden="true"></a><span class="co">#&gt; [5] &quot;strLPath&quot;            &quot;this_is_a_long_name&quot; &quot;x&quot;                   &quot;yo&quot;</span></span>
<span id="cb14-4"><a href="sec-r-basics.html#cb14-4" aria-hidden="true"></a><span class="kw">ls</span>()</span>
<span id="cb14-5"><a href="sec-r-basics.html#cb14-5" aria-hidden="true"></a><span class="co">#&gt; [1] &quot;addIcon&quot;             &quot;addSolution&quot;         &quot;ctrSol&quot;              &quot;strExercises&quot;       </span></span>
<span id="cb14-6"><a href="sec-r-basics.html#cb14-6" aria-hidden="true"></a><span class="co">#&gt; [5] &quot;strLPath&quot;            &quot;this_is_a_long_name&quot; &quot;x&quot;                   &quot;yo&quot;</span></span></code></pre></div>
<p>If you want to remove the object named <code>yo</code>, you can do this:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="sec-r-basics.html#cb15-1" aria-hidden="true"></a><span class="kw">rm</span>(yo)</span></code></pre></div>
<p>To remove everything:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="sec-r-basics.html#cb16-1" aria-hidden="true"></a><span class="kw">rm</span>(<span class="dt">list =</span> <span class="kw">ls</span>())</span></code></pre></div>
<p>or click the broom in RStudio’s Environment pane.</p>
</div>
<div id="your-first-datacamp-course" class="section level2" number="3.3">
<h2><span class="header-section-number">3.3</span> Your first DataCamp course</h2>
<p><a href="https://www.datacamp.com/">DataCamp</a> is an online platform for learning data science. We are going to use the platform for online lessons and exercises. You should already be signed up to the organization <strong>Tools for analytics</strong> at DataCamp, otherwise sign up using your university e-mail <a href="https://datacamp.com/groups/shared_links/275b56f11aaa666ec4bb3dd4ac85989d705a1c6b9f601e39ef94fac91f01ad74">here</a>.</p>
<p>DataCamp runs all the courses in your browser. That is, R is run on a server and you do not use RStudio here. The first course gives an <a href="https://learn.datacamp.com/courses/free-introduction-to-r">Introduction to R</a>. You are expected to have completed <a href="https://learn.datacamp.com/courses/free-introduction-to-r">the course</a> before continuing this module!</p>
</div>
<div id="pipes" class="section level2" number="3.4">
<h2><span class="header-section-number">3.4</span> Pipes</h2>
<p>Most functions support the pipe operator which is a powerful tool for clearly expressing a sequence of multiple operations. The pipe operator <code>%&gt;%</code>, comes from the magrittr package and is loaded automatically when you load tidyverse. You may use the RStudio keyboard shortcut Ctrl+Shift+M.</p>
<p>Consider the following code:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="sec-r-basics.html#cb17-1" aria-hidden="true"></a><span class="co"># calculate x as a sequence of operations</span></span>
<span id="cb17-2"><a href="sec-r-basics.html#cb17-2" aria-hidden="true"></a>x &lt;-<span class="st"> </span><span class="dv">16</span></span>
<span id="cb17-3"><a href="sec-r-basics.html#cb17-3" aria-hidden="true"></a>x &lt;-<span class="st"> </span><span class="kw">sqrt</span>(x)</span>
<span id="cb17-4"><a href="sec-r-basics.html#cb17-4" aria-hidden="true"></a>x &lt;-<span class="st"> </span><span class="kw">log2</span>(x)</span>
<span id="cb17-5"><a href="sec-r-basics.html#cb17-5" aria-hidden="true"></a>x</span>
<span id="cb17-6"><a href="sec-r-basics.html#cb17-6" aria-hidden="true"></a><span class="co">#&gt; [1] 2</span></span>
<span id="cb17-7"><a href="sec-r-basics.html#cb17-7" aria-hidden="true"></a><span class="co"># same as</span></span>
<span id="cb17-8"><a href="sec-r-basics.html#cb17-8" aria-hidden="true"></a>y &lt;-<span class="st"> </span><span class="kw">log2</span>(<span class="kw">sqrt</span>(<span class="dv">16</span>))</span>
<span id="cb17-9"><a href="sec-r-basics.html#cb17-9" aria-hidden="true"></a>y</span>
<span id="cb17-10"><a href="sec-r-basics.html#cb17-10" aria-hidden="true"></a><span class="co">#&gt; [1] 2</span></span></code></pre></div>
<p>Note we here calculate <code>x</code> using a sequence of operations:</p>
<p><span class="math display">\[ \mbox{original data (x)}
\rightarrow \mbox{ sqrt }
\rightarrow \mbox{ log2 }. \]</span></p>
<p>That is, we take what is left of the arrow (the object <code>x</code>) and put it into the function on the right of the arrow. These operations can be done using the pipe operator:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="sec-r-basics.html#cb18-1" aria-hidden="true"></a>x &lt;-<span class="st"> </span><span class="dv">16</span></span>
<span id="cb18-2"><a href="sec-r-basics.html#cb18-2" aria-hidden="true"></a>x &lt;-<span class="st"> </span>x <span class="op">%&gt;%</span></span>
<span id="cb18-3"><a href="sec-r-basics.html#cb18-3" aria-hidden="true"></a><span class="st">   </span><span class="kw">sqrt</span>() <span class="op">%&gt;%</span></span>
<span id="cb18-4"><a href="sec-r-basics.html#cb18-4" aria-hidden="true"></a><span class="st">   </span><span class="kw">log2</span>()</span>
<span id="cb18-5"><a href="sec-r-basics.html#cb18-5" aria-hidden="true"></a>x</span>
<span id="cb18-6"><a href="sec-r-basics.html#cb18-6" aria-hidden="true"></a><span class="co">#&gt; [1] 2</span></span></code></pre></div>
<p>In general, the pipe <em>sends</em> the result of the left side of the pipe to be the first argument of the function on the right side of the pipe. That is, you may have other arguments in your functions:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="sec-r-basics.html#cb19-1" aria-hidden="true"></a><span class="dv">16</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">sqrt</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">log2</span>()</span>
<span id="cb19-2"><a href="sec-r-basics.html#cb19-2" aria-hidden="true"></a><span class="co">#&gt; [1] 2</span></span>
<span id="cb19-3"><a href="sec-r-basics.html#cb19-3" aria-hidden="true"></a><span class="dv">16</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">sqrt</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">log</span>(<span class="dt">base =</span> <span class="dv">2</span>)   <span class="co"># equivalent</span></span>
<span id="cb19-4"><a href="sec-r-basics.html#cb19-4" aria-hidden="true"></a><span class="co">#&gt; [1] 2</span></span></code></pre></div>
<p>The above example is simple but illustrates that you can use pipes to skip intermediate assignment operations. Later you will do more complex pipes when we consider data wrangling. For instance,</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="sec-r-basics.html#cb20-1" aria-hidden="true"></a>mtcars <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(cyl, gear, hp, mpg) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(gear <span class="op">==</span><span class="st"> </span><span class="dv">4</span>, cyl <span class="op">==</span><span class="st"> </span><span class="dv">4</span>)</span>
<span id="cb20-2"><a href="sec-r-basics.html#cb20-2" aria-hidden="true"></a><span class="co">#&gt;                cyl gear  hp  mpg</span></span>
<span id="cb20-3"><a href="sec-r-basics.html#cb20-3" aria-hidden="true"></a><span class="co">#&gt; Datsun 710       4    4  93 22.8</span></span>
<span id="cb20-4"><a href="sec-r-basics.html#cb20-4" aria-hidden="true"></a><span class="co">#&gt; Merc 240D        4    4  62 24.4</span></span>
<span id="cb20-5"><a href="sec-r-basics.html#cb20-5" aria-hidden="true"></a><span class="co">#&gt; Merc 230         4    4  95 22.8</span></span>
<span id="cb20-6"><a href="sec-r-basics.html#cb20-6" aria-hidden="true"></a><span class="co">#&gt; Fiat 128         4    4  66 32.4</span></span>
<span id="cb20-7"><a href="sec-r-basics.html#cb20-7" aria-hidden="true"></a><span class="co">#&gt; Honda Civic      4    4  52 30.4</span></span>
<span id="cb20-8"><a href="sec-r-basics.html#cb20-8" aria-hidden="true"></a><span class="co">#&gt; Toyota Corolla   4    4  65 33.9</span></span>
<span id="cb20-9"><a href="sec-r-basics.html#cb20-9" aria-hidden="true"></a><span class="co">#&gt; Fiat X1-9        4    4  66 27.3</span></span>
<span id="cb20-10"><a href="sec-r-basics.html#cb20-10" aria-hidden="true"></a><span class="co">#&gt; Volvo 142E       4    4 109 21.4</span></span></code></pre></div>
<p>selects the columns related to cylinders, gears, horse power and miles, and then rows with cars having four cylinders and gears. For a more detailed introduction to pipes see <a href="https://r4ds.had.co.nz/pipes.html">Chapter 18</a> in <span class="citation">Wickham (<a href="#ref-r4ds" role="doc-biblioref">2017</a>)</span>.</p>
</div>
<div id="rprojs" class="section level2" number="3.5">
<h2><span class="header-section-number">3.5</span> RStudio projects</h2>
<p>Let us return to RStudio.</p>
<p>One day you will need to quit R, do something else and return to your analysis later.</p>
<p>One day you will have multiple analyses going that use R and you want to keep them separate.</p>
<p>One day you will need to bring data from the outside world into R and send numerical results and figures from R back out into the world.</p>
<p>To handle these real life situations, you need to store your work in a project that keeps all the files associated with a project organized together (such as input data, R scripts, analytical results and figures). RStudio has built-in support for this via its [<em>projects</em>][rstudio-using-projects]. You may think of a project as a folder where you store all you work.</p>
<p>Let us create one to use for the rest of this module. Do this: <strong>File &gt; New Project… &gt; New Directory &gt; New Project &gt;</strong>. The directory name you choose here will be the project name. Call it whatever you want (or follow me for convenience). I used <code>tfa_testing</code> in my <code>tmp</code> directory (that is <code>tfa_testing</code> is now a subfolder of <code>tmp</code>.</p>
<p>You now need a way to store R code in your project. We will use 2 ways of storing your code. An R script file or an R Markdown document. Normally you store lines of R code in a script file that you need to run.</p>
<p>R Markdown provides an easy way to produce a rich, fully-documented reproducible analysis. Here you combine text, figures and metadata needed to reproduce the analysis from the beginning to the end in a single file. R Markdown compiles to nicely formatted HTML, PDF, or Word. We are going to use R Markdown for larger projects (e.g. the mandatory R report in Week 48). We will come back to R Markdown later.</p>
<div id="storing-your-code-in-a-script-file" class="section level3" number="3.5.1">
<h3><span class="header-section-number">3.5.1</span> Storing your code in a script file</h3>
<p>R code can be stored in a script file with file suffix <code>.R</code>. A script file contains a line for each R command to run (think of each line as a command added to the console). Create a new script file <strong>File &gt; New File &gt; R Script</strong>. Let us add some R code to the file:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="sec-r-basics.html#cb21-1" aria-hidden="true"></a><span class="co"># this is a comment</span></span>
<span id="cb21-2"><a href="sec-r-basics.html#cb21-2" aria-hidden="true"></a>a &lt;-<span class="st"> </span><span class="dv">2</span></span>
<span id="cb21-3"><a href="sec-r-basics.html#cb21-3" aria-hidden="true"></a>b &lt;-<span class="st"> </span><span class="dv">-3</span></span>
<span id="cb21-4"><a href="sec-r-basics.html#cb21-4" aria-hidden="true"></a>sig_sq &lt;-<span class="st"> </span><span class="fl">0.5</span></span>
<span id="cb21-5"><a href="sec-r-basics.html#cb21-5" aria-hidden="true"></a>x &lt;-<span class="st"> </span><span class="kw">runif</span>(<span class="dv">40</span>)</span>
<span id="cb21-6"><a href="sec-r-basics.html#cb21-6" aria-hidden="true"></a>y &lt;-<span class="st"> </span>a <span class="op">+</span><span class="st"> </span>b <span class="op">*</span><span class="st"> </span>x <span class="op">+</span><span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">40</span>, <span class="dt">sd =</span> <span class="kw">sqrt</span>(sig_sq))</span>
<span id="cb21-7"><a href="sec-r-basics.html#cb21-7" aria-hidden="true"></a>(avg_x &lt;-<span class="st"> </span><span class="kw">mean</span>(x))</span>
<span id="cb21-8"><a href="sec-r-basics.html#cb21-8" aria-hidden="true"></a><span class="kw">write</span>(avg_x, <span class="st">&quot;avg_x.txt&quot;</span>)</span>
<span id="cb21-9"><a href="sec-r-basics.html#cb21-9" aria-hidden="true"></a><span class="kw">plot</span>(x, y)</span>
<span id="cb21-10"><a href="sec-r-basics.html#cb21-10" aria-hidden="true"></a><span class="kw">abline</span>(a, b, <span class="dt">col =</span> <span class="st">&quot;purple&quot;</span>)</span>
<span id="cb21-11"><a href="sec-r-basics.html#cb21-11" aria-hidden="true"></a><span class="kw">dev.print</span>(pdf, <span class="st">&quot;toy_line_plot.pdf&quot;</span>)</span></code></pre></div>
<p>Save the file as <code>testing.R</code> Now run each line by setting the cursor at the first line, hit Ctrl+Enter (runs the line in the Console and moves the cursor to the next line). Repeat Ctrl+Enter until you have run all the lines. Alternatively you may select all the code and hit Ctrl+Enter.</p>
<p>Change some things in your code. For instance set a sample size <code>n</code> at the top, e.g. <code>n &lt;- 40</code>, and then replace all the hard-wired 40’s with <code>n</code>. Change some other minor, but detectable, stuff, e.g. alter the sample size <code>n</code>, the slope of the line <code>b</code>, the color of the line etc. Practice the different ways to rerun the code:</p>
<ul>
<li><p>Walk through line by line by keyboard shortcut (Ctrl+Enter) or mouse (click “Run” in the upper right corner of editor pane).</p></li>
<li><p>Source the entire document by entering <code>source('testing.R')</code> in the Console or use keyboard shortcut (Shift+Ctrl+S) or mouse (click “Source” in the upper right corner of editor pane or select from the mini-menu accessible from the associated down triangle).</p></li>
<li><p>Source with echo from the Source mini-menu.</p></li>
</ul>
<p>Try to get an overview of the different planes and tabs. For instance in the Files tab (lower right plane) you can get an overview of your project files. You may also see this <a href="https://vimeo.com/319318233">video about projects</a>.</p>
</div>
</div>
<div id="global-options" class="section level2" number="3.6">
<h2><span class="header-section-number">3.6</span> Global options</h2>
<p>Quit RStudio. Inspect the folder associated with your project if you wish. Maybe view the PDF in an external viewer. Restart RStudio. Note that things, by default, restore to where we were earlier. Check the Environment tap (top-right plane). The environment should be empty. If it contains objects you defined before you closed R, it is because they have been restored. This is in general not advisable and should be changed by opening <strong>Tools &gt; Global Options …</strong>. Under <strong>General</strong> set the check marks as:</p>
<p><img src="img/global_options_general.PNG" width="60%" style="display: block; margin: auto;" /></p>
<p>Quit RStudio and reopen it. The Environment tab should now be empty.</p>
</div>
<div id="working-directory" class="section level2" number="3.7">
<h2><span class="header-section-number">3.7</span> Working directory</h2>
<p>Any process running on your computer has a notion of its “working directory”. In R, this is where R will look, by default, for files you ask it to load. It is also where, by default, any files you write to disk will go. Chances are your current working directory is the directory we inspected above, i.e. the one where RStudio wanted to save the workspace.</p>
<p>You can explicitly check your working directory with:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="sec-r-basics.html#cb22-1" aria-hidden="true"></a><span class="kw">getwd</span>()</span></code></pre></div>
<p>It is also displayed at the top of the RStudio console. In general it should be the directory of your R project. You can set R’s working directory at the command line like so:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="sec-r-basics.html#cb23-1" aria-hidden="true"></a><span class="kw">setwd</span>(<span class="st">&quot;./subfolder&quot;</span>)  <span class="co"># sets the working dir to a subfolder of you project folder</span></span></code></pre></div>
<p>You can also use RStudio’s Files pane to navigate to a directory and then set it as working directory from the menu: <strong>Session &gt; Set Working Directory &gt; To Files Pane Location</strong>.</p>
</div>
<div id="lp-r-basics" class="section level2" number="3.8">
<h2><span class="header-section-number">3.8</span> Different learning paths</h2>
<p>We are all different and you may like different learning styles compared to others. You may prefer a different learning path than suggested. Here is a list of possible different learning paths that may be useful for you.</p>
<ul>
<li><p>Roger Peng has a lot of <a href="https://www.youtube.com/playlist?list=PLjTlxb-wKvXPqyY3FZDO8GqIaWuEDy-Od">videos</a> on YouTube about R. Of special interest are</p>
<ul>
<li>An introduction to the R language (<a href="https://www.youtube.com/watch?v=vGY5i_J2c-c">Part 1</a>, <a href="https://www.youtube.com/watch?v=w8_XdYI3reU">Part 2</a>, <a href="https://www.youtube.com/watch?v=NuY6jY4qE7I">Part 3</a>) including data types and basic operations.</li>
<li><a href="https://www.youtube.com/watch?v=hWbgqzsQJF0&amp;list=PLjTlxb-wKvXPqyY3FZDO8GqIaWuEDy-Od&amp;index=10&amp;t=0s">An introduction to subsetting in R</a>.</li>
<li><a href="https://www.youtube.com/watch?v=5AQM-yUX9zg&amp;list=PLjTlxb-wKvXPqyY3FZDO8GqIaWuEDy-Od&amp;index=10">A detailed description af data types</a>.</li>
</ul></li>
<li><p>An introduction to R is given in <a href="https://bookdown.org/rdpeng/rprogdatascience/r-nuts-and-bolts.html">Chapter 4</a> of <span class="citation">Peng (<a href="#ref-rdpeng" role="doc-biblioref">2018</a>)</span>.</p></li>
<li><p>A detailed tutorial on subsetting is given in <a href="https://bookdown.org/rdpeng/rprogdatascience/subsetting-r-objects.html">Chapter 9</a> of <span class="citation">Peng (<a href="#ref-rdpeng" role="doc-biblioref">2018</a>)</span>.</p></li>
<li><p>A longer tutorial to factors is given in <a href="https://r4ds.had.co.nz/factors.html">Chapter 15</a> of <span class="citation">Wickham (<a href="#ref-r4ds" role="doc-biblioref">2017</a>)</span>.</p></li>
<li><p>For a more detailed introduction to pipes see <a href="https://r4ds.had.co.nz/pipes.html">Chapter 18</a> in <span class="citation">Wickham (<a href="#ref-r4ds" role="doc-biblioref">2017</a>)</span>.</p></li>
<li><p>For a detailed introduction to strings (see exercise below) check out the DataCamp course <a href="https://learn.datacamp.com/courses/string-manipulation-with-stringr-in-r">String Manipulation with stringr in R</a>.</p></li>
<li><p>An introduction to good coding conventions in given in <a href="https://eeecon.uibk.ac.at/~discdown/rprogramming/style-guide.html">Chapter 16</a> of <span class="citation">Stauffer, Simon, and Zeileis (<a href="#ref-discdown" role="doc-biblioref">2020</a>)</span>.</p></li>
</ul>
</div>
<div id="rc-r-basics" class="section level2" number="3.9">
<h2><span class="header-section-number">3.9</span> Recap</h2>
<p>R is a programming language that runs computations, while RStudio is an integrated development environment (IDE) that provides an interface by adding many convenient features and tools.</p>
<p>Adopt a naming convention. Either use snake case or use camel case. Choose the naming convention you like best in your study group. But stick only to one of them.</p>
<p>Store your work in a project that keeps all the files associated with a project organized together (such as input data, R scripts, analytical results and figures). You may think of a project as a folder where you store all your work.</p>
<p>This workflow will serve you well in the future:</p>
<ul>
<li>Create an RStudio project for an analytical project</li>
<li>Keep inputs there (we will soon talk about importing)</li>
<li>Keep scripts there; edit them, run them in bits or as a whole from there</li>
<li>Keep outputs there (like the PDF written above)</li>
</ul>
<p>Avoid using the mouse for pieces of your analytical workflow, such as loading a dataset or saving a figure. This is extremely important for the reproducibility and for making it possible to retrospectively determine how a numerical table or PDF was actually produced.</p>
<p>Learn and use shortcuts as much as possible. For instance Alt+- for the assignment operator and Ctrl+Shift+M for the pipe operator. A reference card of shortcuts can be seen using Alt+Shift+K.</p>
<p>Store your R commands in a script file and R scripts with a <code>.R</code> suffix.</p>
<p>Comments start with one or more <code>#</code> symbols. Use them. RStudio helps you (de)comment selected lines with Ctrl+Shift+C (Windows and Linux) or Cmd+Shift+C (Mac).</p>
<p>Values saved in R are stored in <em>Objects</em>.</p>
<p>The interactive DataCamp course gave an introduction to some basic programming concepts and terminology:</p>
<ul>
<li><p><em>Data types</em>: integers, doubles/numerics, logicals, and characters. Integers are values like -1, 0, 2, 4092. Doubles or numerics are a larger set of values containing both the integers but also fractions and decimal values like -24.932 and 0.8. Logicals are either <code>TRUE</code> or <code>FALSE</code> while characters are text such as “Hamilton”, “The Wire is the greatest TV show ever”, and “This ramen is delicious.” Note that characters are often denoted with the quotation marks around them.</p></li>
<li><p><em>Vectors</em>: a series of values. These are created using the <code>c()</code> function, where <code>c()</code> stands for “combine” or “concatenate.” For example, <code>c(6, 11, 13, 31, 90, 92)</code> creates a six element series of positive integer values .</p></li>
<li><p><em>Factors</em>: <em>categorical data</em> are commonly represented in R as factors. Categorical data can also be represented as <em>strings</em>.</p></li>
<li><p><em>Data frames</em>: rectangular spreadsheets. They are representations of datasets in R where the rows correspond to <em>observations</em> and the columns correspond to <em>variables</em> that describe the observations.</p></li>
<li><p><em>Lists</em> are general containers that can be used to store a set of different objects under one name (that is, the name of the list) in an ordered way. These objects can be matrices, vectors, data frames, even other lists, etc. It is not even required that these objects are related to each other in any way.</p></li>
<li><p><em>Comparison operators</em> known to R are:</p>
<ul>
<li><code>&lt;</code> for less than,</li>
<li><code>&gt;</code> for greater than,</li>
<li><code>&lt;=</code> for less than or equal to,</li>
<li><code>&gt;=</code> for greater than or equal to,</li>
<li><code>==</code> for equal to each other (and not <code>=</code> which is typically used for assignment!),</li>
<li><code>!=</code> not equal to each other.</li>
</ul></li>
</ul>
<!--   + Logical operators: `&` representing "and" as well as `|` representing "or." For example, `(2 + 1 == 3) & (2 + 1 == 4)` returns `FALSE` since both clauses are not `TRUE` (only the first clause is `TRUE`). On the other hand, `(2 + 1 == 3) | (2 + 1 == 4)` returns `TRUE` since at least one of the two clauses is `TRUE`. \index{operators!logical} -->
<!-- * *Functions*, also called *commands*: Functions perform tasks in R. They take in inputs called *arguments* and return outputs. You can either manually specify a function's arguments or use the function's *default values*. \index{functions} -->
<p>A <em>pipe</em> (<code>%&gt;%</code>) sends the result of the left side of the pipe to be the first argument of the function on the right side of the pipe. Use pipes if you have many intermediate assignment operations.</p>
</div>
<div id="ex-r-basics" class="section level2" number="3.10">
<h2><span class="header-section-number">3.10</span> Exercises</h2>
<p>Below you will find a set of exercises. Always have a look at the exercises before you meet in your study group and try to solve them yourself. Are you stuck, see the <a href="help.html#help">help page</a>. Solutions to each exercise can be seen by pressing the button at each question. Beware, you will not learn by giving up to early. Put some effort into finding a solution!</p>
<p>Practice using shortcuts in RStudio (use Shift+Alt+K to get an overview).</p>
<div id="exercise-group-work" class="section level3" number="3.10.1">
<h3><span class="header-section-number">3.10.1</span> Exercise (group work)</h3>
<p><em>You are not expected to start solving this exercise before you meet in your group.</em></p>
<p>You have all been allocated into groups. During the course, you are expected to solve the R exercises in these groups. Before you start, it is a good idea to agree on a set of group rules:</p>
<ol style="list-style-type: decimal">
<li>It is a good idea to have a shared place for your code. Have a look at the section <a href="groups.html#groups">Working in groups</a> and decide on a place to share your code.</li>
<li>Create a shared folder and project for your group.</li>
<li>Agree on a coding convention.</li>
<li>Agree about the rules of how to meet etc.</li>
</ol>
</div>
<div id="exercise-install-packages" class="section level3" number="3.10.2">
<h3><span class="header-section-number">3.10.2</span> Exercise (install packages)</h3>
<p><em>This exercise is done from the Console in RStudio (under Windows, <a href="sec-install.html#install-r">remember to have admin rights</a>).</em></p>
<div aria-labelledby="solution0-title" class="modal fade bs-example-modal-lg" id="solution0" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution0-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">install.packages(&quot;devtools&quot;)
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution0">Solution</button>
<ol style="list-style-type: decimal">
<li>Install the package <code>devtools</code> using function <code>install.packages</code>. Note you can always get help/see documentation of a function by typing <code>?install.packages</code> or typing <code>install.packages</code> and press F1.</li>
</ol>
<p>You now have installed the package from the default repository (<a href="https://cloud.r-project.org">CRAN</a>).</p>
<p>You may also install packages from other repositories (e.g. GitHub):</p>
<ol start="2" style="list-style-type: decimal">
<li>Have a look at the documentation for function <code>install_github</code> in the package <code>devtools</code>. This can be done in different ways:</li>
</ol>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="sec-r-basics.html#cb24-1" aria-hidden="true"></a><span class="kw">library</span>(devtools)    <span class="co"># we here load all the functions in devtools</span></span>
<span id="cb24-2"><a href="sec-r-basics.html#cb24-2" aria-hidden="true"></a>?install_github</span>
<span id="cb24-3"><a href="sec-r-basics.html#cb24-3" aria-hidden="true"></a></span>
<span id="cb24-4"><a href="sec-r-basics.html#cb24-4" aria-hidden="true"></a>?devtools<span class="op">::</span>install_github     <span class="co"># we here use the namespace devtools to load only one function</span></span></code></pre></div>
<div aria-labelledby="solution1-title" class="modal fade bs-example-modal-lg" id="solution1" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution1-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">devtools::install_github(&quot;bss-osca/tfa/tfa-package&quot;)
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution1">Solution</button>
<ol start="3" style="list-style-type: decimal">
<li>Install the package <code>tfa</code> from GitHub using path <code>bss-osca/tfa/tfa-package</code>.</li>
</ol>
</div>
<div id="exercise-piping" class="section level3" number="3.10.3">
<h3><span class="header-section-number">3.10.3</span> Exercise (piping)</h3>
<p><em>Solve this exercise using a script file (e.g. <code>exercises/pipe.R</code>). Remember that you can run a line in the file using Ctrl+Enter.</em></p>
<p>The pipe <code>%&gt;%</code> can be used to perform operations sequentially without having to define intermediate objects (Ctrl+Shift+M). Have a look at the dataset <code>mtcars</code>:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="sec-r-basics.html#cb25-1" aria-hidden="true"></a><span class="kw">head</span>(mtcars)</span>
<span id="cb25-2"><a href="sec-r-basics.html#cb25-2" aria-hidden="true"></a>?mtcars</span></code></pre></div>
<p>The pipe</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="sec-r-basics.html#cb26-1" aria-hidden="true"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb26-2"><a href="sec-r-basics.html#cb26-2" aria-hidden="true"></a>mtcars <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(cyl, gear, hp, mpg) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(gear <span class="op">==</span><span class="st"> </span><span class="dv">4</span> <span class="op">&amp;</span><span class="st"> </span>cyl <span class="op">==</span><span class="st"> </span><span class="dv">4</span>)</span>
<span id="cb26-3"><a href="sec-r-basics.html#cb26-3" aria-hidden="true"></a><span class="co">#&gt;                cyl gear  hp  mpg</span></span>
<span id="cb26-4"><a href="sec-r-basics.html#cb26-4" aria-hidden="true"></a><span class="co">#&gt; Datsun 710       4    4  93 22.8</span></span>
<span id="cb26-5"><a href="sec-r-basics.html#cb26-5" aria-hidden="true"></a><span class="co">#&gt; Merc 240D        4    4  62 24.4</span></span>
<span id="cb26-6"><a href="sec-r-basics.html#cb26-6" aria-hidden="true"></a><span class="co">#&gt; Merc 230         4    4  95 22.8</span></span>
<span id="cb26-7"><a href="sec-r-basics.html#cb26-7" aria-hidden="true"></a><span class="co">#&gt; Fiat 128         4    4  66 32.4</span></span>
<span id="cb26-8"><a href="sec-r-basics.html#cb26-8" aria-hidden="true"></a><span class="co">#&gt; Honda Civic      4    4  52 30.4</span></span>
<span id="cb26-9"><a href="sec-r-basics.html#cb26-9" aria-hidden="true"></a><span class="co">#&gt; Toyota Corolla   4    4  65 33.9</span></span>
<span id="cb26-10"><a href="sec-r-basics.html#cb26-10" aria-hidden="true"></a><span class="co">#&gt; Fiat X1-9        4    4  66 27.3</span></span>
<span id="cb26-11"><a href="sec-r-basics.html#cb26-11" aria-hidden="true"></a><span class="co">#&gt; Volvo 142E       4    4 109 21.4</span></span></code></pre></div>
<p>selects the columns related to cylinders, gears, horse power and miles, and then rows with cars having four cylinders and (operator <code>&amp;</code>) gears.</p>
<div aria-labelledby="solution2-title" class="modal fade bs-example-modal-lg" id="solution2" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution2-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">mtcars %&gt;% 
   select(mpg, hp, am, gear)
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution2">Solution</button>
<ol style="list-style-type: decimal">
<li>Create a pipe that selects columns related to miles, horsepower, transmission and gears.</li>
</ol>
<div aria-labelledby="solution3-title" class="modal fade bs-example-modal-lg" id="solution3" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution3-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">mtcars %&gt;% 
   select(mpg, hp, am, gear) %&gt;% 
   filter(mpg &lt; 20, gear == 4)
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution3">Solution</button>
<ol start="2" style="list-style-type: decimal">
<li>Given the answer in 1), filter so cars have miles less than 20 and 4 gears.</li>
</ol>
<p>The “or” operator in R is <code>|</code>.</p>
<div aria-labelledby="solution4-title" class="modal fade bs-example-modal-lg" id="solution4" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution4-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">mtcars %&gt;% 
   select(mpg, hp, am, gear) %&gt;% 
   filter(mpg &lt; 20 | gear == 4)
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution4">Solution</button>
<ol start="3" style="list-style-type: decimal">
<li>Given the answer in 1), filter so cars have miles less than 20 or 4 gears.</li>
</ol>
<div aria-labelledby="solution5-title" class="modal fade bs-example-modal-lg" id="solution5" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution5-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">mtcars %&gt;% 
   filter(mpg &lt; 20, gear == 4) %&gt;% 
   select(wt, vs)
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution5">Solution</button>
<ol start="4" style="list-style-type: decimal">
<li>Create a pipe that filters the cars having miles less than 20 and 4 gears and selects columns related to weight and engine.</li>
</ol>
<div aria-labelledby="solution6-title" class="modal fade bs-example-modal-lg" id="solution6" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution6-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">dat &lt;- mtcars 
dat &lt;- filter(dat, mpg &lt; 20, gear == 4) 
dat &lt;- select(dat, wt, vs) 
dat
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution6">Solution</button>
<ol start="5" style="list-style-type: decimal">
<li>Solve Question 4 without the pipe operator.</li>
</ol>
</div>
<div id="exercise-working-dir" class="section level3" number="3.10.4">
<h3><span class="header-section-number">3.10.4</span> Exercise (working dir)</h3>
<p><em>Do this exercise from the Console in RStudio.</em></p>
<p>When reading and writing to local files, your working directory becomes important. You can get and set the working directory using functions <code>getwd</code> and <code>setwd</code>.</p>
<p>Set the working directory to the project directory using the menu: <strong>Session &gt; Set Working Directory &gt; To Project Directory</strong>. Now let us create some files:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="sec-r-basics.html#cb27-1" aria-hidden="true"></a><span class="kw">dir.create</span>(<span class="st">&quot;subfolder&quot;</span>) </span>
<span id="cb27-2"><a href="sec-r-basics.html#cb27-2" aria-hidden="true"></a><span class="kw">write_file</span>(<span class="st">&quot;Some text in a file&quot;</span>, <span class="dt">path =</span> <span class="st">&quot;test1.txt&quot;</span>)</span>
<span id="cb27-3"><a href="sec-r-basics.html#cb27-3" aria-hidden="true"></a><span class="kw">write_file</span>(<span class="st">&quot;Some other text in a file&quot;</span>, <span class="dt">path =</span> <span class="st">&quot;subfolder/test2.txt&quot;</span>)</span></code></pre></div>
<ol style="list-style-type: decimal">
<li>Which folders and files have been created? You may have a look in the <strong>Files</strong> plane in RStudio.</li>
</ol>
<p>We can read the file again using:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="sec-r-basics.html#cb28-1" aria-hidden="true"></a><span class="kw">read_file</span>(<span class="st">&quot;test1.txt&quot;</span>)</span>
<span id="cb28-2"><a href="sec-r-basics.html#cb28-2" aria-hidden="true"></a><span class="co">#&gt; [1] &quot;Some text in a file&quot;</span></span></code></pre></div>
<div aria-labelledby="solution7-title" class="modal fade bs-example-modal-lg" id="solution7" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution7-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">read_file(&quot;subfolder/test2.txt&quot;)
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution7">Solution</button>
<ol start="2" style="list-style-type: decimal">
<li><p>Read the file <code>test2.txt</code>.</p></li>
<li><p>Set the working directory to <code>subfolder</code> using function <code>setwd</code>. Note that <code>setwd</code> supports relative paths. Check that you are in the right working directory using <code>getwd</code>. You may also have a look at the files in the directory using function <code>list.files</code>.</p></li>
</ol>
<div aria-labelledby="solution8-title" class="modal fade bs-example-modal-lg" id="solution8" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution8-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">setwd(&quot;subfolder&quot;)  # Q3
read_file(&quot;../test1.txt&quot;)
read_file(&quot;test2.txt&quot;)
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution8">Solution</button>
<ol start="4" style="list-style-type: decimal">
<li>Read files <code>test1.txt</code> and <code>test2.txt</code>. Note that in relative paths <code>../</code> means going to the parent folder. What is different compared to Question 2?</li>
</ol>
</div>
<div id="exercise-vectors" class="section level3" number="3.10.5">
<h3><span class="header-section-number">3.10.5</span> Exercise (vectors)</h3>
<p><em>Solve this exercise using a script file.</em></p>
<div aria-labelledby="solution9-title" class="modal fade bs-example-modal-lg" id="solution9" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution9-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">n &lt;- 100
n * (n+1) / 2
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution9">Solution</button>
<ol style="list-style-type: decimal">
<li>What is the sum of the first 100 positive integers? The formula for the sum of integers <span class="math inline">\(1\)</span> through <span class="math inline">\(n\)</span> is <span class="math inline">\(n(n+1)/2\)</span>. Define <span class="math inline">\(n=100\)</span> and then use R to compute the sum of <span class="math inline">\(1\)</span> through <span class="math inline">\(100\)</span> using the formula. What is the sum?</li>
</ol>
<div aria-labelledby="solution10-title" class="modal fade bs-example-modal-lg" id="solution10" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution10-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">n &lt;- 1000
n * (n+1) / 2
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution10">Solution</button>
<ol start="2" style="list-style-type: decimal">
<li><p>Now use the same formula to compute the sum of the integers from 1 through 1000.</p></li>
<li><p>Look at the result of typing the following code into R:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="sec-r-basics.html#cb29-1" aria-hidden="true"></a>n &lt;-<span class="st"> </span><span class="dv">1000</span></span>
<span id="cb29-2"><a href="sec-r-basics.html#cb29-2" aria-hidden="true"></a>x &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">1</span>, n)</span>
<span id="cb29-3"><a href="sec-r-basics.html#cb29-3" aria-hidden="true"></a><span class="kw">sum</span>(x)</span></code></pre></div>
<p>Based on the result, what do you think the functions <code>seq</code> and <code>sum</code> do? You can use e.g <code>help("sum")</code> or <code>?sum</code>.</p>
<ol style="list-style-type: lower-alpha">
<li><code>sum</code> creates a list of numbers and <code>seq</code> adds them up.</li>
<li><code>seq</code> creates a list of numbers and <code>sum</code> adds them up.</li>
<li><code>seq</code> creates a random list and <code>sum</code> computes the sum of 1 through 1,000.</li>
<li><code>sum</code> always returns the same number.</li>
</ol></li>
<li><p>Run code</p></li>
</ol>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="sec-r-basics.html#cb30-1" aria-hidden="true"></a><span class="kw">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb30-2"><a href="sec-r-basics.html#cb30-2" aria-hidden="true"></a>v &lt;-<span class="st"> </span><span class="kw">sample.int</span>(<span class="dv">100</span>,<span class="dv">30</span>)</span>
<span id="cb30-3"><a href="sec-r-basics.html#cb30-3" aria-hidden="true"></a>v</span>
<span id="cb30-4"><a href="sec-r-basics.html#cb30-4" aria-hidden="true"></a><span class="co">#&gt;  [1] 31 79 51 14 67 42 50 43 97 25 90 69 57  9 72 26  7 95 87 36 78 93 76 15 32 84 82 41 23 27</span></span></code></pre></div>
<div aria-labelledby="solution11-title" class="modal fade bs-example-modal-lg" id="solution11" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution11-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">sum(v)
mean(v)
sd(v)
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution11">Solution</button>
<ol start="5" style="list-style-type: decimal">
<li>What is the sum, mean, and standard deviation of <code>v</code>?</li>
</ol>
<div aria-labelledby="solution12-title" class="modal fade bs-example-modal-lg" id="solution12" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution12-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">v[c(1, 6, 4, 15)]
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution12">Solution</button>
<ol start="6" style="list-style-type: decimal">
<li>Select elements 1, 6, 4, and 15 of <code>v</code>.</li>
</ol>
<div aria-labelledby="solution13-title" class="modal fade bs-example-modal-lg" id="solution13" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution13-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">v[v &gt; 50]
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution13">Solution</button>
<ol start="7" style="list-style-type: decimal">
<li>Select elements with value above 50.</li>
</ol>
<div aria-labelledby="solution14-title" class="modal fade bs-example-modal-lg" id="solution14" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution14-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">v[v &gt; 75 | v &lt; 25]
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution14">Solution</button>
<ol start="8" style="list-style-type: decimal">
<li>Select elements with value above 75 or below 25.</li>
</ol>
<div aria-labelledby="solution15-title" class="modal fade bs-example-modal-lg" id="solution15" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution15-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">v[v == 43]
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution15">Solution</button>
<ol start="9" style="list-style-type: decimal">
<li>Select elements with value 43.</li>
</ol>
<div aria-labelledby="solution16-title" class="modal fade bs-example-modal-lg" id="solution16" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution16-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">v[is.na(v)]
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution16">Solution</button>
<ol start="10" style="list-style-type: decimal">
<li>Select elements with value <code>NA</code>.</li>
</ol>
<div aria-labelledby="solution17-title" class="modal fade bs-example-modal-lg" id="solution17" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution17-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">which(v &gt; 75 | v &lt; 25)
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution17">Solution</button>
<ol start="11" style="list-style-type: decimal">
<li>Which elements have value above 75 or below 25? Hint: see the documentation of function <code>which</code>.</li>
</ol>
</div>
<div id="exercise-matrices" class="section level3" number="3.10.6">
<h3><span class="header-section-number">3.10.6</span> Exercise (matrices)</h3>
<p><em>Solve this exercise using a script file.</em></p>
<p>Consider matrices</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="sec-r-basics.html#cb31-1" aria-hidden="true"></a>m1 &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">37</span>, <span class="dv">8</span>, <span class="dv">51</span>, <span class="ot">NA</span>, <span class="dv">50</span>, <span class="dv">97</span>, <span class="dv">86</span>, <span class="ot">NA</span>, <span class="dv">84</span>, <span class="dv">46</span>, <span class="dv">17</span>, 62L), <span class="dt">nrow =</span> <span class="dv">3</span>)</span>
<span id="cb31-2"><a href="sec-r-basics.html#cb31-2" aria-hidden="true"></a>m2 &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">37</span>, <span class="dv">8</span>, <span class="dv">51</span>, <span class="ot">NA</span>, <span class="dv">50</span>, <span class="dv">97</span>, <span class="dv">86</span>, <span class="ot">NA</span>, <span class="dv">84</span>, <span class="dv">46</span>, <span class="dv">17</span>, 62L), <span class="dt">nrow =</span> <span class="dv">3</span>, <span class="dt">byrow =</span> <span class="ot">TRUE</span>)</span>
<span id="cb31-3"><a href="sec-r-basics.html#cb31-3" aria-hidden="true"></a>m3 &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">37</span>, <span class="dv">8</span>, <span class="dv">51</span>, <span class="ot">NA</span>, <span class="dv">50</span>, <span class="dv">97</span>, <span class="dv">86</span>, <span class="ot">NA</span>, <span class="dv">84</span>, <span class="dv">46</span>, <span class="dv">17</span>, 62L), <span class="dt">ncol =</span> <span class="dv">3</span>)</span></code></pre></div>
<ol style="list-style-type: decimal">
<li>What is the difference between the three matrices (think/discuss before running the code).</li>
</ol>
<div aria-labelledby="solution18-title" class="modal fade bs-example-modal-lg" id="solution18" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution18-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">rowSums(m1, na.rm = T)
colSums(m2, na.rm = T)
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution18">Solution</button>
<ol start="2" style="list-style-type: decimal">
<li>Calculate the row sums of <code>m1</code> and column sums of <code>m2</code> ignoring <code>NA</code> values. Hint: have a look at the documentation of <code>rowSums</code>.</li>
</ol>
<div aria-labelledby="solution19-title" class="modal fade bs-example-modal-lg" id="solution19" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution19-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">rbind(m1, c(1, 2, 3, 4))
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution19">Solution</button>
<ol start="3" style="list-style-type: decimal">
<li>Add row <code>c(1, 2, 3, 4)</code> as last row to <code>m1</code>.</li>
</ol>
<div aria-labelledby="solution20-title" class="modal fade bs-example-modal-lg" id="solution20" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution20-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">rbind(c(1, 2, 3, 4), m1)
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution20">Solution</button>
<ol start="4" style="list-style-type: decimal">
<li>Add row <code>c(1, 2, 3, 4)</code> as first row to <code>m1</code>.</li>
</ol>
<div aria-labelledby="solution21-title" class="modal fade bs-example-modal-lg" id="solution21" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution21-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">cbind(m3, c(1, 2, 3, 4))
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution21">Solution</button>
<ol start="5" style="list-style-type: decimal">
<li>Add column <code>c(1, 2, 3, 4)</code> as last column to <code>m3</code>.</li>
</ol>
<div aria-labelledby="solution22-title" class="modal fade bs-example-modal-lg" id="solution22" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution22-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">m1[2,4]
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution22">Solution</button>
<ol start="6" style="list-style-type: decimal">
<li>Select the element in row 2 and column 4 of <code>m1</code>.</li>
</ol>
<div aria-labelledby="solution23-title" class="modal fade bs-example-modal-lg" id="solution23" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution23-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">m1[2:3,1:2]
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution23">Solution</button>
<ol start="7" style="list-style-type: decimal">
<li>Select elements in rows 2-3 and columns 1-2 of <code>m1</code>.</li>
</ol>
<div aria-labelledby="solution24-title" class="modal fade bs-example-modal-lg" id="solution24" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution24-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">m1[3, c(1,3,4)]
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution24">Solution</button>
<ol start="8" style="list-style-type: decimal">
<li>Select elements in row 3 and columns 1, 3 and 4 of <code>m1</code>.</li>
</ol>
<div aria-labelledby="solution25-title" class="modal fade bs-example-modal-lg" id="solution25" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution25-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">m1[3,]
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution25">Solution</button>
<ol start="9" style="list-style-type: decimal">
<li>Select elements in row 3 of <code>m1</code>.</li>
</ol>
<div aria-labelledby="solution26-title" class="modal fade bs-example-modal-lg" id="solution26" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution26-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">m2[is.na(m2)]
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution26">Solution</button>
<ol start="10" style="list-style-type: decimal">
<li>Select all <code>NA</code> elements in <code>m2</code>.</li>
</ol>
<div aria-labelledby="solution27-title" class="modal fade bs-example-modal-lg" id="solution27" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution27-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">m2[m2 &gt; 50]
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution27">Solution</button>
<ol start="11" style="list-style-type: decimal">
<li>Select all elements greater that 50 in <code>m2</code>.</li>
</ol>
</div>
<div id="exercise-data-frames" class="section level3" number="3.10.7">
<h3><span class="header-section-number">3.10.7</span> Exercise (data frames)</h3>
<p><em>Solve this exercise using a script file.</em></p>
<p>Data frames may be seen as cell blocks in Excel. They are representations of datasets in R where the rows correspond to <em>observations</em> and the columns correspond to <em>variables</em> that describe the observations.</p>
<p>We consider the data frame <code>mtcars</code>:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="sec-r-basics.html#cb32-1" aria-hidden="true"></a><span class="kw">str</span>(mtcars)</span>
<span id="cb32-2"><a href="sec-r-basics.html#cb32-2" aria-hidden="true"></a><span class="kw">glimpse</span>(mtcars)</span>
<span id="cb32-3"><a href="sec-r-basics.html#cb32-3" aria-hidden="true"></a>?mtcars</span></code></pre></div>
<ol style="list-style-type: decimal">
<li>Use the <code>head</code> and <code>tail</code> functions to have a look at the data.</li>
</ol>
<div aria-labelledby="solution28-title" class="modal fade bs-example-modal-lg" id="solution28" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution28-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">mtcars[,4]
mtcars[,&quot;hp&quot;]
mtcars$hp
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution28">Solution</button>
<ol start="2" style="list-style-type: decimal">
<li>Select column <code>hp</code> using index (column 4), its name, and the <code>$</code> operator.</li>
</ol>
<div aria-labelledby="solution29-title" class="modal fade bs-example-modal-lg" id="solution29" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution29-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">mtcars &lt;- rbind(mtcars, 
   c(34, 3, 87, 112, 4.5, 1.515, 167, 1, 1, 5, 3))
rownames(mtcars)[33] &lt;- &quot;Phantom XE&quot;
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution29">Solution</button>
<ol start="3" style="list-style-type: decimal">
<li>Update <code>mtcars</code> by adding row <code>c(34, 3, 87, 112, 4.5, 1.515, 167, 1, 1, 5, 3)</code>. Name the row ‘Phantom XE’.</li>
</ol>
<div aria-labelledby="solution30-title" class="modal fade bs-example-modal-lg" id="solution30" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution30-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">col &lt;- c(NA, &quot;green&quot;, &quot;blue&quot;, &quot;red&quot;, NA, &quot;blue&quot;, &quot;green&quot;, &quot;blue&quot;, &quot;red&quot;, &quot;red&quot;, 
   &quot;blue&quot;, &quot;green&quot;, &quot;blue&quot;, &quot;blue&quot;, &quot;green&quot;, &quot;red&quot;, &quot;red&quot;, NA, NA, &quot;red&quot;, 
   &quot;green&quot;, &quot;red&quot;, &quot;red&quot;, NA, &quot;green&quot;, NA, &quot;blue&quot;, &quot;green&quot;, &quot;green&quot;, &quot;red&quot;, 
   &quot;green&quot;, &quot;blue&quot;, NA)
mtcars &lt;- cbind(mtcars, col)
class(mtcars$col)
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution30">Solution</button>
<ol start="4" style="list-style-type: decimal">
<li><p>Update <code>mtcars</code> by adding column:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="sec-r-basics.html#cb33-1" aria-hidden="true"></a>col &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="ot">NA</span>, <span class="st">&quot;green&quot;</span>, <span class="st">&quot;blue&quot;</span>, <span class="st">&quot;red&quot;</span>, <span class="ot">NA</span>, <span class="st">&quot;blue&quot;</span>, <span class="st">&quot;green&quot;</span>, <span class="st">&quot;blue&quot;</span>, <span class="st">&quot;red&quot;</span>, <span class="st">&quot;red&quot;</span>, </span>
<span id="cb33-2"><a href="sec-r-basics.html#cb33-2" aria-hidden="true"></a>         <span class="st">&quot;blue&quot;</span>, <span class="st">&quot;green&quot;</span>, <span class="st">&quot;blue&quot;</span>, <span class="st">&quot;blue&quot;</span>, <span class="st">&quot;green&quot;</span>, <span class="st">&quot;red&quot;</span>, <span class="st">&quot;red&quot;</span>, <span class="ot">NA</span>, <span class="ot">NA</span>, <span class="st">&quot;red&quot;</span>, </span>
<span id="cb33-3"><a href="sec-r-basics.html#cb33-3" aria-hidden="true"></a>         <span class="st">&quot;green&quot;</span>, <span class="st">&quot;red&quot;</span>, <span class="st">&quot;red&quot;</span>, <span class="ot">NA</span>, <span class="st">&quot;green&quot;</span>, <span class="ot">NA</span>, <span class="st">&quot;blue&quot;</span>, <span class="st">&quot;green&quot;</span>, <span class="st">&quot;green&quot;</span>, </span>
<span id="cb33-4"><a href="sec-r-basics.html#cb33-4" aria-hidden="true"></a>         <span class="st">&quot;red&quot;</span>, <span class="st">&quot;green&quot;</span>, <span class="st">&quot;blue&quot;</span>, <span class="ot">NA</span>)</span></code></pre></div>
<p>What class is column <code>col</code>?</p></li>
</ol>
<div aria-labelledby="solution31-title" class="modal fade bs-example-modal-lg" id="solution31" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution31-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">mtcars[mtcars$vs == 0,]
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution31">Solution</button>
<ol start="5" style="list-style-type: decimal">
<li>Select cars with a V-shaped engine.</li>
</ol>
</div>
<div id="exercise-lists" class="section level3" number="3.10.8">
<h3><span class="header-section-number">3.10.8</span> Exercise (lists)</h3>
<p><em>Solve this exercise using a script file.</em></p>
<p>Lists are general containers that can be used to store a set of different objects under one name (that is, the name of the list) in an ordered way. These objects can be matrices, vectors, data frames, even other lists, etc.</p>
<p>Let us define a list:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="sec-r-basics.html#cb34-1" aria-hidden="true"></a>lst &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dv">45</span>, <span class="st">&quot;Lars&quot;</span>, <span class="ot">TRUE</span>, <span class="fl">80.5</span>)</span>
<span id="cb34-2"><a href="sec-r-basics.html#cb34-2" aria-hidden="true"></a>lst</span>
<span id="cb34-3"><a href="sec-r-basics.html#cb34-3" aria-hidden="true"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb34-4"><a href="sec-r-basics.html#cb34-4" aria-hidden="true"></a><span class="co">#&gt; [1] 45</span></span>
<span id="cb34-5"><a href="sec-r-basics.html#cb34-5" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb34-6"><a href="sec-r-basics.html#cb34-6" aria-hidden="true"></a><span class="co">#&gt; [[2]]</span></span>
<span id="cb34-7"><a href="sec-r-basics.html#cb34-7" aria-hidden="true"></a><span class="co">#&gt; [1] &quot;Lars&quot;</span></span>
<span id="cb34-8"><a href="sec-r-basics.html#cb34-8" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb34-9"><a href="sec-r-basics.html#cb34-9" aria-hidden="true"></a><span class="co">#&gt; [[3]]</span></span>
<span id="cb34-10"><a href="sec-r-basics.html#cb34-10" aria-hidden="true"></a><span class="co">#&gt; [1] TRUE</span></span>
<span id="cb34-11"><a href="sec-r-basics.html#cb34-11" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb34-12"><a href="sec-r-basics.html#cb34-12" aria-hidden="true"></a><span class="co">#&gt; [[4]]</span></span>
<span id="cb34-13"><a href="sec-r-basics.html#cb34-13" aria-hidden="true"></a><span class="co">#&gt; [1] 80.5</span></span></code></pre></div>
<p>Elements can be accessed using brackets:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="sec-r-basics.html#cb35-1" aria-hidden="true"></a>x &lt;-<span class="st"> </span>lst[<span class="dv">2</span>]</span>
<span id="cb35-2"><a href="sec-r-basics.html#cb35-2" aria-hidden="true"></a>x</span>
<span id="cb35-3"><a href="sec-r-basics.html#cb35-3" aria-hidden="true"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb35-4"><a href="sec-r-basics.html#cb35-4" aria-hidden="true"></a><span class="co">#&gt; [1] &quot;Lars&quot;</span></span>
<span id="cb35-5"><a href="sec-r-basics.html#cb35-5" aria-hidden="true"></a>y &lt;-<span class="st"> </span>lst[[<span class="dv">2</span>]]</span>
<span id="cb35-6"><a href="sec-r-basics.html#cb35-6" aria-hidden="true"></a>y</span>
<span id="cb35-7"><a href="sec-r-basics.html#cb35-7" aria-hidden="true"></a><span class="co">#&gt; [1] &quot;Lars&quot;</span></span></code></pre></div>
<div aria-labelledby="solution32-title" class="modal fade bs-example-modal-lg" id="solution32" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution32-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">class(x)
class(y)
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution32">Solution</button>
<ol style="list-style-type: decimal">
<li>What is the class of the two objects <code>x</code> and <code>y</code>? What is the difference between using one or two brackets?</li>
</ol>
<div aria-labelledby="solution33-title" class="modal fade bs-example-modal-lg" id="solution33" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution33-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">names(lst) &lt;- c(&quot;age&quot;, &quot;name&quot;, &quot;male&quot;, &quot;weight&quot;)
lst
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution33">Solution</button>
<ol start="2" style="list-style-type: decimal">
<li>Add names <em>age, name, male and weight</em> to the 4 components of the list.</li>
</ol>
<div aria-labelledby="solution34-title" class="modal fade bs-example-modal-lg" id="solution34" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution34-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">lst$name
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution34">Solution</button>
<ol start="3" style="list-style-type: decimal">
<li>Extract the name component using the <code>$</code> operator.</li>
</ol>
<p>You can add/change/remove components using:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="sec-r-basics.html#cb36-1" aria-hidden="true"></a>lst<span class="op">$</span>height &lt;-<span class="st"> </span><span class="dv">173</span>  <span class="co"># add component</span></span>
<span id="cb36-2"><a href="sec-r-basics.html#cb36-2" aria-hidden="true"></a>lst<span class="op">$</span>name &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">first =</span> <span class="st">&quot;Lars&quot;</span>, <span class="dt">last =</span> <span class="st">&quot;Nielsen&quot;</span>)  <span class="co"># change the name component</span></span>
<span id="cb36-3"><a href="sec-r-basics.html#cb36-3" aria-hidden="true"></a>lst<span class="op">$</span>male &lt;-<span class="st"> </span><span class="ot">NULL</span>   <span class="co"># remove male component</span></span>
<span id="cb36-4"><a href="sec-r-basics.html#cb36-4" aria-hidden="true"></a>lst</span>
<span id="cb36-5"><a href="sec-r-basics.html#cb36-5" aria-hidden="true"></a><span class="co">#&gt; $age</span></span>
<span id="cb36-6"><a href="sec-r-basics.html#cb36-6" aria-hidden="true"></a><span class="co">#&gt; [1] 45</span></span>
<span id="cb36-7"><a href="sec-r-basics.html#cb36-7" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb36-8"><a href="sec-r-basics.html#cb36-8" aria-hidden="true"></a><span class="co">#&gt; $name</span></span>
<span id="cb36-9"><a href="sec-r-basics.html#cb36-9" aria-hidden="true"></a><span class="co">#&gt; $name$first</span></span>
<span id="cb36-10"><a href="sec-r-basics.html#cb36-10" aria-hidden="true"></a><span class="co">#&gt; [1] &quot;Lars&quot;</span></span>
<span id="cb36-11"><a href="sec-r-basics.html#cb36-11" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb36-12"><a href="sec-r-basics.html#cb36-12" aria-hidden="true"></a><span class="co">#&gt; $name$last</span></span>
<span id="cb36-13"><a href="sec-r-basics.html#cb36-13" aria-hidden="true"></a><span class="co">#&gt; [1] &quot;Nielsen&quot;</span></span>
<span id="cb36-14"><a href="sec-r-basics.html#cb36-14" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb36-15"><a href="sec-r-basics.html#cb36-15" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb36-16"><a href="sec-r-basics.html#cb36-16" aria-hidden="true"></a><span class="co">#&gt; $weight</span></span>
<span id="cb36-17"><a href="sec-r-basics.html#cb36-17" aria-hidden="true"></a><span class="co">#&gt; [1] 80.5</span></span>
<span id="cb36-18"><a href="sec-r-basics.html#cb36-18" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb36-19"><a href="sec-r-basics.html#cb36-19" aria-hidden="true"></a><span class="co">#&gt; $height</span></span>
<span id="cb36-20"><a href="sec-r-basics.html#cb36-20" aria-hidden="true"></a><span class="co">#&gt; [1] 173</span></span></code></pre></div>
<div aria-labelledby="solution35-title" class="modal fade bs-example-modal-lg" id="solution35" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution35-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">lst$name$last
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution35">Solution</button>
<ol start="4" style="list-style-type: decimal">
<li>Extract the last name component using the <code>$</code> operator.</li>
</ol>
</div>
<div id="ex-strings" class="section level3" number="3.10.9">
<h3><span class="header-section-number">3.10.9</span> Exercise (string management)</h3>
<p>Strings in R can be defined using single or double quotes:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="sec-r-basics.html#cb37-1" aria-hidden="true"></a>str1 &lt;-<span class="st"> &quot;Business Analytics (BA) refers to the scientific process of transforming data into insight for making better decisions in business.&quot;</span></span>
<span id="cb37-2"><a href="sec-r-basics.html#cb37-2" aria-hidden="true"></a></span>
<span id="cb37-3"><a href="sec-r-basics.html#cb37-3" aria-hidden="true"></a>str2 &lt;-<span class="st"> &#39;BA can both be seen as the complete decision making process for solving a business problem or as a set of methodologies that enable the creation of business value.&#39;</span></span>
<span id="cb37-4"><a href="sec-r-basics.html#cb37-4" aria-hidden="true"></a></span>
<span id="cb37-5"><a href="sec-r-basics.html#cb37-5" aria-hidden="true"></a>str3 &lt;-<span class="st"> </span><span class="kw">c</span>(str1, str2)  <span class="co"># vector of strings</span></span></code></pre></div>
<p>The stringr package in tidyverse provides many useful functions for string manipulation. We will consider a few.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="sec-r-basics.html#cb38-1" aria-hidden="true"></a>str4 &lt;-<span class="st"> </span><span class="kw">str_c</span>(str1, </span>
<span id="cb38-2"><a href="sec-r-basics.html#cb38-2" aria-hidden="true"></a>      str2, </span>
<span id="cb38-3"><a href="sec-r-basics.html#cb38-3" aria-hidden="true"></a>      <span class="st">&quot;As a process it can be characterized by descriptive, predictive, and prescriptive model building using data sources.&quot;</span>,</span>
<span id="cb38-4"><a href="sec-r-basics.html#cb38-4" aria-hidden="true"></a>      <span class="dt">sep =</span> <span class="st">&quot; &quot;</span>)   <span class="co"># join strings</span></span>
<span id="cb38-5"><a href="sec-r-basics.html#cb38-5" aria-hidden="true"></a>str4</span>
<span id="cb38-6"><a href="sec-r-basics.html#cb38-6" aria-hidden="true"></a><span class="co">#&gt; [1] &quot;Business Analytics (BA) refers to the scientific process of transforming data into insight for making better decisions in business. BA can both be seen as the complete decision making process for solving a business problem or as a set of methodologies that enable the creation of business value. As a process it can be characterized by descriptive, predictive, and prescriptive model building using data sources.&quot;</span></span>
<span id="cb38-7"><a href="sec-r-basics.html#cb38-7" aria-hidden="true"></a><span class="kw">str_c</span>(str3, <span class="dt">collapse =</span> <span class="st">&quot; &quot;</span>)    <span class="co"># collapse vector to a string</span></span>
<span id="cb38-8"><a href="sec-r-basics.html#cb38-8" aria-hidden="true"></a><span class="co">#&gt; [1] &quot;Business Analytics (BA) refers to the scientific process of transforming data into insight for making better decisions in business. BA can both be seen as the complete decision making process for solving a business problem or as a set of methodologies that enable the creation of business value.&quot;</span></span>
<span id="cb38-9"><a href="sec-r-basics.html#cb38-9" aria-hidden="true"></a></span>
<span id="cb38-10"><a href="sec-r-basics.html#cb38-10" aria-hidden="true"></a><span class="kw">str_replace</span>(str2, <span class="st">&quot;BA&quot;</span>, <span class="st">&quot;Business Analytics&quot;</span>)  <span class="co"># replace first occurrence</span></span>
<span id="cb38-11"><a href="sec-r-basics.html#cb38-11" aria-hidden="true"></a><span class="co">#&gt; [1] &quot;Business Analytics can both be seen as the complete decision making process for solving a business problem or as a set of methodologies that enable the creation of business value.&quot;</span></span>
<span id="cb38-12"><a href="sec-r-basics.html#cb38-12" aria-hidden="true"></a><span class="kw">str_replace_all</span>(str2, <span class="st">&quot;the&quot;</span>, <span class="st">&quot;a&quot;</span>)              <span class="co"># replace all occurrences</span></span>
<span id="cb38-13"><a href="sec-r-basics.html#cb38-13" aria-hidden="true"></a><span class="co">#&gt; [1] &quot;BA can both be seen as a complete decision making process for solving a business problem or as a set of methodologies that enable a creation of business value.&quot;</span></span>
<span id="cb38-14"><a href="sec-r-basics.html#cb38-14" aria-hidden="true"></a></span>
<span id="cb38-15"><a href="sec-r-basics.html#cb38-15" aria-hidden="true"></a><span class="kw">str_remove</span>(str1, <span class="st">&quot; for making better decisions in business&quot;</span>)</span>
<span id="cb38-16"><a href="sec-r-basics.html#cb38-16" aria-hidden="true"></a><span class="co">#&gt; [1] &quot;Business Analytics (BA) refers to the scientific process of transforming data into insight.&quot;</span></span>
<span id="cb38-17"><a href="sec-r-basics.html#cb38-17" aria-hidden="true"></a></span>
<span id="cb38-18"><a href="sec-r-basics.html#cb38-18" aria-hidden="true"></a><span class="kw">str_detect</span>(str2, <span class="st">&quot;BA&quot;</span>)  <span class="co"># detect a pattern</span></span>
<span id="cb38-19"><a href="sec-r-basics.html#cb38-19" aria-hidden="true"></a><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
<div aria-labelledby="solution36-title" class="modal fade bs-example-modal-lg" id="solution36" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution36-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">str_detect(str1, &quot;Business&quot;)
str_detect(str2, &quot;Business&quot;)
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution36">Solution</button>
<ol style="list-style-type: decimal">
<li>Is <code>Business</code> (case sensitive) contained in <code>str1</code> and <code>str2</code>?</li>
</ol>
<div aria-labelledby="solution37-title" class="modal fade bs-example-modal-lg" id="solution37" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution37-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">str5 &lt;- str_replace(str2, &quot;BA&quot;, &quot;Business Analytics&quot;)
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution37">Solution</button>
<ol start="2" style="list-style-type: decimal">
<li>Define a new string that replace <code>BA</code> with <code>Business Analytics</code> in <code>str2</code></li>
</ol>
<div aria-labelledby="solution38-title" class="modal fade bs-example-modal-lg" id="solution38" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution38-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">str5 &lt;- str_remove(str5, &quot; or as a set of methodologies that enable the creation of business value&quot;)
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution38">Solution</button>
<ol start="3" style="list-style-type: decimal">
<li>In the string from Question 2, remove <code>or as a set of methodologies that enable the creation of business value</code>.</li>
</ol>
<div aria-labelledby="solution39-title" class="modal fade bs-example-modal-lg" id="solution39" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution39-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">str5 &lt;- str_c(str5, &quot;This course will focus on programming and descriptive analytics.&quot;, sep= &quot; &quot;)
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution39">Solution</button>
<ol start="4" style="list-style-type: decimal">
<li>In the string from Question 3, add <code>This course will focus on programming and descriptive analytics.</code>.</li>
</ol>
<div aria-labelledby="solution40-title" class="modal fade bs-example-modal-lg" id="solution40" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution40-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">str5 &lt;- str_replace(str5, &quot;analytics&quot;, &quot;business analytics&quot;)
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution40">Solution</button>
<ol start="5" style="list-style-type: decimal">
<li>In the string from Question 4, replace <code>analytics</code> with <code>business analytics</code>.</li>
</ol>
<div aria-labelledby="solution41-title" class="modal fade bs-example-modal-lg" id="solution41" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
<h4 class="modal-title" id="solution41-title">Solution</h4>
</div>
<div class="modal-body"><pre><code class="r">str_replace(str2, &quot;BA&quot;, &quot;Business Analytics&quot;) %&gt;% 
   str_remove(&quot; or as a set of methodologies that enable the creation of business value&quot;) %&gt;% 
   str_c(&quot;This course will focus on programming and descriptive analytics.&quot;, sep= &quot; &quot;) %&gt;% 
   str_replace(&quot;analytics&quot;, &quot;business analytics&quot;)
</code></pre>
</div>
<div class="modal-footer">
<button class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<button class="btn btn-default btn-xs" style="float:right" data-toggle="modal" data-target="#solution41">Solution</button>
<ol start="6" style="list-style-type: decimal">
<li>Do all calculations in Question 2-5 using pipes.</li>
</ol>

<!-- Exercises from: https://rafalab.github.io/dsbook/programming-basics.html -->
</div>
</div>
</div>



<h3>References</h3>
<div id="refs" class="references">
<div id="ref-rdpeng">
<p>Peng, R. D. 2018. <em>R Programming for Data Science</em>. <a href="https://bookdown.org/rdpeng/rprogdatascience/">https://bookdown.org/rdpeng/rprogdatascience/</a>.</p>
</div>
<div id="ref-discdown">
<p>Stauffer, R., T. Simon, and A. Zeileis. 2020. <em>Introduction to Programming with R</em>. <a href="https://eeecon.uibk.ac.at/~discdown/rprogramming">https://eeecon.uibk.ac.at/~discdown/rprogramming</a>.</p>
</div>
<div id="ref-r4ds">
<p>Wickham, H. 2017. <em>R for Data Science</em>. O’Reilly. <a href="https://r4ds.had.co.nz/">https://r4ds.had.co.nz/</a>.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="sec-install.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="sec-loops.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/bss-osca/tfa/edit/master/book/workflow.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
